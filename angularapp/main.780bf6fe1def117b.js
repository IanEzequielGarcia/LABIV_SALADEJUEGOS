"use strict";(self.webpackChunkTPSALAJUEGOS=self.webpackChunkTPSALAJUEGOS||[]).push([[179],{2011:(at,Ie,R)=>{R.d(Ie,{hO:()=>ze,xv:()=>ce,Dh:()=>he,GT:()=>me,cc:()=>Se,on:()=>G,pX:()=>X});var c=R(5e3),Y=R(127),k=R(5813);at=R.hmd(at);const oe=["ngOnDestroy"],X=(we,nt,Ze,Ce={})=>new Proxy(we,{get:(be,De)=>Ze.runOutsideAngular(()=>{var We;if(we[De])return(null===(We=null==Ce?void 0:Ce.spy)||void 0===We?void 0:We.get)&&Ce.spy.get(De,we[De]),we[De];if(oe.indexOf(De)>-1)return()=>{};const Ge=nt.toPromise().then(te=>{const z=te&&te[De];return"function"==typeof z?z.bind(te):z&&z.then?z.then(ne=>Ze.run(()=>ne)):Ze.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>Ge[z],apply:(te,z,ne)=>Ge.then(_e=>{var ie;const xe=_e&&_e(...ne);return(null===(ie=null==Ce?void 0:Ce.spy)||void 0===ie?void 0:ie.apply)&&Ce.spy.apply(De,ne,xe),xe})})})}),me=(we,nt)=>{nt.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ce=>{Object.defineProperty(we.prototype,Ce,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ce))})})};class re{constructor(nt){return nt}}const he=new c.OlP("angularfire2.app.options"),ce=new c.OlP("angularfire2.app.name");function G(we,nt,Ze){const be="object"==typeof Ze&&Ze||{};be.name=be.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const We=Y.Z.apps.filter(Ge=>Ge&&Ge.name===be.name)[0]||nt.runOutsideAngular(()=>Y.Z.initializeApp(we,be));try{JSON.stringify(we)!==JSON.stringify(We.options)&&H("error",`${We.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new re(We)}const H=(we,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...nt)},Q={provide:re,useFactory:G,deps:[he,c.R0b,[new c.FiY,ce]]};let ze=(()=>{class we{constructor(Ze){Y.Z.registerVersion("angularfire",k.q4.full,"core"),Y.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Ze.toString())}static initializeApp(Ze,Ce){return{ngModule:we,providers:[{provide:he,useValue:Ze},{provide:ce,useValue:Ce}]}}}return we.\u0275fac=function(Ze){return new(Ze||we)(c.LFG(c.Lbi))},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({providers:[Q]}),we})();function Se(we,nt,Ze,Ce,be){const[,De,We]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===we)||[];if(De)return function Re(we,nt){try{return we.toString()===nt.toString()}catch(Ze){return we===nt}}(be,We)||(pe("error",`${nt} was already initialized on the ${Ze} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:be,was:We})),De;{const Ge=Ce();return globalThis.\u0275AngularfireInstanceCache.push([we,Ge,be]),Ge}}const Ve=!!at.hot,pe=(we,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Ie,R)=>{R.d(Ie,{q4:()=>Gu,iC:()=>qu,HU:()=>Rl,vb:()=>Td,JM:()=>eo});var c=R(5e3),Y=R(5867),k=R(5861),oe=R(9681),X=R(2090),me=R(4859),re=R(1877);const he="@firebase/installations",H="w:0.5.7",Q="FIS_v2",we=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(I){return I instanceof X.ZR&&I.code.includes("request-failed")}function Ze({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ce(I){return{token:I.token,requestStatus:2,expiresIn:ne(I.expiresIn),creationTime:Date.now()}}function be(I,C){return De.apply(this,arguments)}function De(){return(De=(0,k.Z)(function*(I,C){const L=(yield C.json()).error;return we.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function We({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Ge(I,{refreshToken:C}){const O=We(I);return O.append("Authorization",function _e(I){return`${Q} ${I}`}(C)),O}function te(I){return z.apply(this,arguments)}function z(){return(z=(0,k.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function ne(I){return Number(I.replace("s","000"))}function ie(I,C){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:O}){const L=Ze(I),q=We(I),ee=C.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&q.append("x-firebase-client",It)}const Ne={method:"POST",headers:q,body:JSON.stringify({fid:O,authVersion:Q,appId:I.appId,sdkVersion:H})},Qe=yield te(()=>fetch(L,Ne));if(Qe.ok){const It=yield Qe.json();return{fid:It.fid||O,registrationStatus:2,refreshToken:It.refreshToken,authToken:Ce(It.authToken)}}throw yield be("Create Installation",Qe)})).apply(this,arguments)}function ae(I){return new Promise(C=>{setTimeout(C,I)})}const Qt=/^[cdef][\w-]{21}$/;function ut(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function _t(I){return function Ct(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Qt.test(O)?O:""}catch(I){return""}}function un(I){return`${I.appName}!${I.appId}`}const cn=new Map;function Ai(I,C){const O=un(I);Xt(O,C),function Ht(I,C){const O=function ci(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=I=>{Xt(I.data.key,I.data.fid)}),or}();O&&O.postMessage({key:I,fid:C}),function Ms(){0===cn.size&&or&&(or.close(),or=null)}()}(O,C)}function Xt(I,C){const O=cn.get(I);if(O)for(const L of O)L(C)}let or=null;const Vr="firebase-installations-store";let rs=null;function is(){return rs||(rs=(0,X.X3)("firebase-installations-database",1,(I,C)=>{0===C&&I.createObjectStore(Vr)})),rs}function ct(I,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,k.Z)(function*(I,C){const O=un(I),q=(yield is()).transaction(Vr,"readwrite"),ee=q.objectStore(Vr),Ae=yield ee.get(O);return yield ee.put(C,O),yield q.complete,(!Ae||Ae.fid!==C.fid)&&Ai(I,C.fid),C})).apply(this,arguments)}function tr(I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,k.Z)(function*(I){const C=un(I),L=(yield is()).transaction(Vr,"readwrite");yield L.objectStore(Vr).delete(C),yield L.complete})).apply(this,arguments)}function di(I,C){return uo.apply(this,arguments)}function uo(){return(uo=(0,k.Z)(function*(I,C){const O=un(I),q=(yield is()).transaction(Vr,"readwrite"),ee=q.objectStore(Vr),Ae=yield ee.get(O),Ne=C(Ae);return void 0===Ne?yield ee.delete(O):yield ee.put(Ne,O),yield q.complete,Ne&&(!Ae||Ae.fid!==Ne.fid)&&Ai(I,Ne.fid),Ne})).apply(this,arguments)}function _n(I){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(I){let C;const O=yield di(I.appConfig,L=>{const q=Os(L),ee=Da(I,q);return C=ee.registrationPromise,ee.installationEntry});return""===O.fid?{installationEntry:yield C}:{installationEntry:O,registrationPromise:C}})).apply(this,arguments)}function Os(I){return Gt(I||{fid:ut(),registrationStatus:0})}function Da(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(we.create("app-offline"))};const O={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function $t(I,C){return ot.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Dt(I)}:{installationEntry:C}}function ot(){return(ot=(0,k.Z)(function*(I,C){try{const O=yield ie(I,C);return ct(I.appConfig,O)}catch(O){throw nt(O)&&409===O.customData.serverCode?yield tr(I.appConfig):yield ct(I.appConfig,{fid:C.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Dt(I){return ar.apply(this,arguments)}function ar(){return(ar=(0,k.Z)(function*(I){let C=yield Gi(I.appConfig);for(;1===C.registrationStatus;)yield ae(100),C=yield Gi(I.appConfig);if(0===C.registrationStatus){const{installationEntry:O,registrationPromise:L}=yield _n(I);return L||O}return C})).apply(this,arguments)}function Gi(I){return di(I,C=>{if(!C)throw we.create("installation-not-found");return Gt(C)})}function Gt(I){return function co(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function yr(I,C){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},O){const L=dt(I,O),q=Ge(I,O),ee=C.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&q.append("x-firebase-client",It)}const Ne={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:H,appId:I.appId}})},Qe=yield te(()=>fetch(L,Ne));if(Qe.ok)return Ce(yield Qe.json());throw yield be("Generate Auth Token",Qe)})).apply(this,arguments)}function dt(I,{fid:C}){return`${Ze(I)}/${C}/authTokens:generate`}function vr(I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,k.Z)(function*(I,C=!1){let O;const L=yield di(I.appConfig,ee=>{if(!Lt(ee))throw we.create("not-registered");const Ae=ee.authToken;if(!C&&j(Ae))return ee;if(1===Ae.requestStatus)return O=Ke(I,C),ee;{if(!navigator.onLine)throw we.create("app-offline");const Ne=$(ee);return O=ht(I,Ne),Ne}});return O?yield O:L.authToken})).apply(this,arguments)}function Ke(I,C){return Te.apply(this,arguments)}function Te(){return(Te=(0,k.Z)(function*(I,C){let O=yield et(I.appConfig);for(;1===O.authToken.requestStatus;)yield ae(100),O=yield et(I.appConfig);const L=O.authToken;return 0===L.requestStatus?vr(I,C):L})).apply(this,arguments)}function et(I){return di(I,C=>{if(!Lt(C))throw we.create("not-registered");return function de(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function ht(I,C){return jt.apply(this,arguments)}function jt(){return(jt=(0,k.Z)(function*(I,C){try{const O=yield yr(I,C),L=Object.assign(Object.assign({},C),{authToken:O});return yield ct(I.appConfig,L),O}catch(O){if(!nt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield ct(I.appConfig,L)}else yield tr(I.appConfig);throw O}})).apply(this,arguments)}function Lt(I){return void 0!==I&&2===I.registrationStatus}function j(I){return 2===I.requestStatus&&!function V(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function $(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function Be(){return(Be=(0,k.Z)(function*(I){const C=I,{installationEntry:O,registrationPromise:L}=yield _n(C);return L?L.catch(console.error):vr(C).catch(console.error),O.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,k.Z)(function*(I,C=!1){const O=I;return yield br(O),(yield vr(O,C)).token})).apply(this,arguments)}function br(I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(I){const{registrationPromise:C}=yield _n(I);C&&(yield C)})).apply(this,arguments)}function zn(I){return we.create("missing-app-config-values",{valueName:I})}const Ea="installations",ke=I=>{const C=I.getProvider("app").getImmediate(),O=function ss(I){if(!I||!I.options)throw zn("App Configuration");if(!I.name)throw zn("App Name");const C=["projectId","apiKey","appId"];for(const O of C)if(!I.options[O])throw zn(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:O,heartbeatServiceProvider:(0,oe._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Pt=I=>{const C=I.getProvider("app").getImmediate(),O=(0,oe._getProvider)(C,Ea).getImmediate();return{getId:()=>function J(I){return Be.apply(this,arguments)}(O),getToken:q=>function yt(I){return Kt.apply(this,arguments)}(O,q)}};(function hn(){(0,oe._registerComponent)(new me.wA(Ea,ke,"PUBLIC")),(0,oe._registerComponent)(new me.wA("installations-internal",Pt,"PRIVATE"))})(),(0,oe.registerVersion)(he,"0.5.7"),(0,oe.registerVersion)(he,"0.5.7","esm2017");const ur="@firebase/remote-config",On=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jh{constructor(C,O,L,q){this.client=C,this.storage=O,this.storageCache=L,this.logger=q}isCachedDataFresh(C,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-O,q=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${q}.`),q}fetch(C){var O=this;return(0,k.Z)(function*(){const[L,q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(q&&O.isCachedDataFresh(C.cacheMaxAgeMillis,L))return q;C.eTag=q&&q.eTag;const ee=yield O.client.fetch(C),Ae=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Ae.push(O.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Ae),ee})()}}function Ho(I=navigator){return I.languages&&I.languages[0]||I.language}class hl{constructor(C,O,L,q,ee,Ae){this.firebaseInstallations=C,this.sdkVersion=O,this.namespace=L,this.projectId=q,this.apiKey=ee,this.appId=Ae}fetch(C){var O=this;return(0,k.Z)(function*(){const[L,q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ne={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Qe={sdk_version:O.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:O.appId,language_code:Ho()},It={method:"POST",headers:Ne,body:JSON.stringify(Qe)},Rt=fetch(Ae,It),St=new Promise((Di,Fi)=>{C.signal.addEventListener(()=>{const To=new Error("The operation was aborted.");To.name="AbortError",Fi(To)})});let Hn;try{yield Promise.race([Rt,St]),Hn=yield Rt}catch(Di){let Fi="fetch-client-network";throw"AbortError"===Di.name&&(Fi="fetch-timeout"),On.create(Fi,{originalErrorMessage:Di.message})}let Sn=Hn.status;const ea=Hn.headers.get("ETag")||void 0;let Co,jr;if(200===Hn.status){let Di;try{Di=yield Hn.json()}catch(Fi){throw On.create("fetch-client-parse",{originalErrorMessage:Fi.message})}Co=Di.entries,jr=Di.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?Sn=500:"NO_CHANGE"===jr?Sn=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(Co={}),304!==Sn&&200!==Sn)throw On.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:ea,config:Co}})()}}class ig{constructor(C,O){this.client=C,this.storage=O}fetch(C){var O=this;return(0,k.Z)(function*(){const L=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:O,backoffCount:L}){var q=this;return(0,k.Z)(function*(){yield function Un(I,C){return new Promise((O,L)=>{const q=Math.max(C-Date.now(),0),ee=setTimeout(O,q);I.addEventListener(()=>{clearTimeout(ee),L(On.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,O);try{const ee=yield q.client.fetch(C);return yield q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function ad(I){if(!(I instanceof X.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ee))throw ee;const Ae={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Ae),q.attemptFetch(C,Ae)}})()}}class ld{constructor(C,O,L,q,ee){this.app=C,this._client=O,this._storageCache=L,this._storage=q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yu(I,C){const O=I.target.error||void 0;return On.create(C,{originalErrorMessage:O&&O.message})}const Fs="app_namespace_store";class lg{constructor(C,O,L,q=function ag(){return new Promise((I,C)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=L=>{C(yu(L,"storage-open"))},O.onsuccess=L=>{I(L.target.result)},O.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Fs,{keyPath:"compositeKey"})}}catch(O){C(On.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=C,this.appName=O,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var O=this;return(0,k.Z)(function*(){const L=yield O.openDbPromise;return new Promise((q,ee)=>{const Ne=L.transaction([Fs],"readonly").objectStore(Fs),Qe=O.createCompositeKey(C);try{const It=Ne.get(Qe);It.onerror=Rt=>{ee(yu(Rt,"storage-get"))},It.onsuccess=Rt=>{const St=Rt.target.result;q(St?St.value:void 0)}}catch(It){ee(On.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(C,O){var L=this;return(0,k.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ee,Ae)=>{const Qe=q.transaction([Fs],"readwrite").objectStore(Fs),It=L.createCompositeKey(C);try{const Rt=Qe.put({compositeKey:It,value:O});Rt.onerror=St=>{Ae(yu(St,"storage-set"))},Rt.onsuccess=()=>{ee()}}catch(Rt){Ae(On.create("storage-set",{originalErrorMessage:Rt&&Rt.message}))}})})()}delete(C){var O=this;return(0,k.Z)(function*(){const L=yield O.openDbPromise;return new Promise((q,ee)=>{const Ne=L.transaction([Fs],"readwrite").objectStore(Fs),Qe=O.createCompositeKey(C);try{const It=Ne.delete(Qe);It.onerror=Rt=>{ee(yu(Rt,"storage-delete"))},It.onsuccess=()=>{q()}}catch(It){ee(On.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class cd{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const O=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),q=C.storage.getActiveConfig(),ee=yield O;ee&&(C.lastFetchStatus=ee);const Ae=yield L;Ae&&(C.lastSuccessfulFetchTimestampMillis=Ae);const Ne=yield q;Ne&&(C.activeConfig=Ne)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function po(){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,k.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(I){return!1}})).apply(this,arguments)}!function $o(){(0,oe._registerComponent)(new me.wA("remote-config",function I(C,{instanceIdentifier:O}){const L=C.getProvider("app").getImmediate(),q=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,X.hl)())throw On.create("indexed-db-unavailable");const{projectId:ee,apiKey:Ae,appId:Ne}=L.options;if(!ee)throw On.create("registration-project-id");if(!Ae)throw On.create("registration-api-key");if(!Ne)throw On.create("registration-app-id");const Qe=new lg(Ne,L.name,O=O||"firebase"),It=new cd(Qe),Rt=new re.Yd(ur);Rt.logLevel=re.in.ERROR;const St=new hl(q,oe.SDK_VERSION,O,ee,Ae,Ne),Hn=new ig(St,Qe),Sn=new jh(Hn,Qe,It,Rt),ea=new ld(L,Sn,It,Qe,Rt);return function Dr(I){const C=(0,X.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ea),ea},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ur,"0.3.6"),(0,oe.registerVersion)(ur,"0.3.6","esm2017")}();const vu="/firebase-messaging-sw.js",Ls="/firebase-cloud-messaging-push-scope",Xr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",go="google.c.a.c_id",Ca="google.c.a.c_l",dd="google.c.a.ts",ug="google.c.a.e";var Vs=(()=>{return(I=Vs||(Vs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Vs;var I})();function pi(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pl(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(O),q=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)q[ee]=L.charCodeAt(ee);return q}const gl="fcm_token_details_db",cr="fcm_token_object_Store";function Hh(I){return ml.apply(this,arguments)}function ml(){return ml=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(gl))return null;let C=null;return(yield(0,X.X3)(gl,5,function(){var L=(0,k.Z)(function*(q,ee,Ae,Ne){var Qe;if(ee<2||!q.objectStoreNames.contains(cr))return;const It=Ne.objectStore(cr),Rt=yield It.index("fcmSenderId").get(I);if(yield It.clear(),Rt)if(2===ee){const St=Rt;if(!St.auth||!St.p256dh||!St.endpoint)return;C={token:St.fcmToken,createTime:null!==(Qe=St.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:pi(St.vapidKey)}}}else if(3===ee){const St=Rt;C={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:pi(St.auth),p256dh:pi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:pi(St.vapidKey)}}}else if(4===ee){const St=Rt;C={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:pi(St.auth),p256dh:pi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:pi(St.vapidKey)}}}});return function(q,ee,Ae,Ne){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(gl),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),hd(C)?C:null}),ml.apply(this,arguments)}function hd(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const us="firebase-messaging-store";let Ta=null;function bu(){return Ta||(Ta=(0,X.X3)("firebase-messaging-database",1,(I,C)=>{0===C&&I.createObjectStore(us)})),Ta}function pn(I){return zo.apply(this,arguments)}function zo(){return(zo=(0,k.Z)(function*(I){const C=_o(I),L=yield(yield bu()).transaction(us).objectStore(us).get(C);if(L)return L;{const q=yield Hh(I.appConfig.senderId);if(q)return yield Bs(I,q),q}})).apply(this,arguments)}function Bs(I,C){return ln.apply(this,arguments)}function ln(){return(ln=(0,k.Z)(function*(I,C){const O=_o(I),q=(yield bu()).transaction(us,"readwrite");return yield q.objectStore(us).put(C,O),yield q.complete,C})).apply(this,arguments)}function fd(I){return mo.apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(I){const C=_o(I),L=(yield bu()).transaction(us,"readwrite");yield L.objectStore(us).delete(C),yield L.complete})).apply(this,arguments)}function _o({appConfig:I}){return I.appId}const xn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sa(I,C){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,k.Z)(function*(I,C){const O=yield js(I),L=ft(C),q={method:"POST",headers:O,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(ei(I.appConfig),q)).json()}catch(Ae){throw xn.create("token-subscribe-failed",{errorInfo:Ae})}if(ee.error)throw xn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw xn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Er(I,C){return Us.apply(this,arguments)}function Us(){return(Us=(0,k.Z)(function*(I,C){const O=yield js(I),L=ft(C.subscriptionOptions),q={method:"PATCH",headers:O,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${ei(I.appConfig)}/${C.token}`,q)).json()}catch(Ae){throw xn.create("token-update-failed",{errorInfo:Ae})}if(ee.error)throw xn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw xn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function cs(I,C){return vl.apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(I,C){const L={method:"DELETE",headers:yield js(I)};try{const ee=yield(yield fetch(`${ei(I.appConfig)}/${C}`,L)).json();if(ee.error)throw xn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(q){throw xn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function ei({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function js(I){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,k.Z)(function*({appConfig:I,installations:C}){const O=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function ft({p256dh:I,auth:C,endpoint:O,vapidKey:L}){const q={web:{endpoint:O,auth:C,p256dh:I}};return L!==Xr&&(q.web.applicationPubKey=L),q}const bl=6048e5;function Aa(I){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,k.Z)(function*(I){const C=yield Eu(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:pi(C.getKey("auth")),p256dh:pi(C.getKey("p256dh"))},L=yield pn(I.firebaseDependencies);if(L){if(qo(L.subscriptionOptions,O))return Date.now()>=L.createTime+bl?Du(I,{token:L.token,createTime:Date.now(),subscriptionOptions:O}):L.token;try{yield cs(I.firebaseDependencies,L.token)}catch(q){console.warn(q)}return Ee(I.firebaseDependencies,O)}return Ee(I.firebaseDependencies,O)})).apply(this,arguments)}function wl(I){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(I){const C=yield pn(I.firebaseDependencies);C&&(yield cs(I.firebaseDependencies,C.token),yield fd(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Du(I,C){return wu.apply(this,arguments)}function wu(){return(wu=(0,k.Z)(function*(I,C){try{const O=yield Er(I.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:O,createTime:Date.now()});return yield Bs(I.firebaseDependencies,L),O}catch(O){throw yield wl(I),O}})).apply(this,arguments)}function Ee(I,C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(I,C){const L={token:yield Sa(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Bs(I,L),L.token})).apply(this,arguments)}function Eu(I,C){return yn.apply(this,arguments)}function yn(){return(yn=(0,k.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pl(C)})})).apply(this,arguments)}function qo(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function Zo(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ti(I,C){if(!C.notification)return;I.notification={};const O=C.notification.title;O&&(I.notification.title=O);const L=C.notification.body;L&&(I.notification.body=L);const q=C.notification.image;q&&(I.notification.image=q)}(C,I),function Iu(I,C){!C.data||(I.data=C.data)}(C,I),function Cu(I,C){if(!C.fcmOptions)return;I.fcmOptions={};const O=C.fcmOptions.link;O&&(I.fcmOptions.link=O);const L=C.fcmOptions.analytics_label;L&&(I.fcmOptions.analyticsLabel=L)}(C,I),C}function pd(I){return"object"==typeof I&&!!I&&go in I}function Tu(I,C){const O=[];for(let L=0;L<I.length;L++)O.push(I.charAt(L)),L<C.length&&O.push(C.charAt(L));return O.join("")}function Hs(I){return xn.create("missing-app-config-values",{valueName:I})}Tu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dr{constructor(C,O,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Il(I){if(!I||!I.options)throw Hs("App Configuration Object");if(!I.name)throw Hs("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const L of C)if(!O[L])throw Hs(L);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:q,installations:O,analyticsProvider:L}}_delete(){return Promise.resolve()}}function gi(I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(vu,{scope:Ls}),I.swRegistration.update().catch(()=>{})}catch(C){throw xn.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function $s(I,C){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,k.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield gi(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function Su(I,C){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,k.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Xr)})).apply(this,arguments)}function Au(){return(Au=(0,k.Z)(function*(I,C){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield Su(I,null==C?void 0:C.vapidKey),yield $s(I,null==C?void 0:C.serviceWorkerRegistration),Aa(I)})).apply(this,arguments)}function Na(I,C,O){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,k.Z)(function*(I,C,O){const L=Nu(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:O[go],message_name:O[Ca],message_time:O[dd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nu(I){switch(I){case Vs.NOTIFICATION_CLICKED:return"notification_open";case Vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function gd(){return(gd=(0,k.Z)(function*(I,C){const O=C.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===Vs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Zo(O)):I.onMessageHandler.next(Zo(O)));const L=O.data;pd(L)&&"1"===L[ug]&&(yield Na(I,O.messageType,L))})).apply(this,arguments)}const Ou="@firebase/messaging",md=I=>{const C=new dr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Mu(I,C){return gd.apply(this,arguments)}(C,O)),C},vo=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:L=>function Sl(I,C){return Au.apply(this,arguments)}(C,L)}};function yd(){return bo.apply(this,arguments)}function bo(){return(bo=(0,k.Z)(function*(){try{yield(0,X.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _d(){(0,oe._registerComponent)(new me.wA("messaging",md,"PUBLIC")),(0,oe._registerComponent)(new me.wA("messaging-internal",vo,"PRIVATE")),(0,oe.registerVersion)(Ou,"0.9.11"),(0,oe.registerVersion)(Ou,"0.9.11","esm2017")}();const Ru="analytics",O_="firebase_id",Oa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Al="https://www.googletagmanager.com/gtag/js",jn=new re.Yd("@firebase/analytics");function vd(I){return Promise.all(I.map(C=>C.catch(O=>O)))}function cg(I,C){const O=document.createElement("script");O.src=`${Al}?l=${I}&id=${C}`,O.async=!0,document.head.appendChild(O)}function Ko(I,C,O,L,q,ee){return bd.apply(this,arguments)}function bd(){return(bd=(0,k.Z)(function*(I,C,O,L,q,ee){const Ae=L[q];try{if(Ae)yield C[Ae];else{const Qe=(yield vd(O)).find(It=>It.measurementId===q);Qe&&(yield C[Qe.appId])}}catch(Ne){jn.error(Ne)}I("config",q,ee)})).apply(this,arguments)}function Pu(I,C,O,L,q){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(I,C,O,L,q){try{let ee=[];if(q&&q.send_to){let Ae=q.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ne=yield vd(O);for(const Qe of Ae){const It=Ne.find(St=>St.measurementId===Qe),Rt=It&&C[It.appId];if(!Rt){ee=[];break}ee.push(Rt)}}0===ee.length&&(ee=Object.values(C)),yield Promise.all(ee),I("event",L,q||{})}catch(ee){jn.error(ee)}})).apply(this,arguments)}function dg(){const I=window.document.getElementsByTagName("script");for(const C of Object.values(I))if(C.src&&C.src.includes(Al))return C;return null}const bn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gn=new class kn{constructor(C={},O=1e3){this.throttleMetadata=C,this.intervalMillis=O}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,O){this.throttleMetadata[C]=O}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Yo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function wd(I){return fn.apply(this,arguments)}function fn(){return(fn=(0,k.Z)(function*(I){var C;const{appId:O,apiKey:L}=I,q={method:"GET",headers:Yo(L)},ee=Oa.replace("{app-id}",O),Ae=yield fetch(ee,q);if(200!==Ae.status&&304!==Ae.status){let Ne="";try{const Qe=yield Ae.json();(null===(C=Qe.error)||void 0===C?void 0:C.message)&&(Ne=Qe.error.message)}catch(Qe){}throw bn.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ne})}return Ae.json()})).apply(this,arguments)}function zh(I){return xi.apply(this,arguments)}function xi(){return(xi=(0,k.Z)(function*(I,C=Gn,O){const{appId:L,apiKey:q,measurementId:ee}=I.options;if(!L)throw bn.create("no-app-id");if(!q){if(ee)return{measurementId:ee,appId:L};throw bn.create("no-api-key")}const Ae=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ne=new Fu;return setTimeout((0,k.Z)(function*(){Ne.abort()}),void 0!==O?O:6e4),Nl({appId:L,apiKey:q,measurementId:ee},Ae,Ne,C)})).apply(this,arguments)}function Nl(I,C,O){return ni.apply(this,arguments)}function ni(){return(ni=(0,k.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:O},L,q=Gn){const{appId:ee,measurementId:Ae}=I;try{yield Et(L,C)}catch(Ne){if(Ae)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ne.message}]`),{appId:ee,measurementId:Ae};throw Ne}try{const Ne=yield wd(I);return q.deleteThrottleMetadata(ee),Ne}catch(Ne){if(!Ed(Ne)){if(q.deleteThrottleMetadata(ee),Ae)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ne.message}]`),{appId:ee,measurementId:Ae};throw Ne}const Qe=503===Number(Ne.customData.httpStatus)?(0,X.$s)(O,q.intervalMillis,30):(0,X.$s)(O,q.intervalMillis),It={throttleEndTimeMillis:Date.now()+Qe,backoffCount:O+1};return q.setThrottleMetadata(ee,It),jn.debug(`Calling attemptFetch again in ${Qe} millis`),Nl(I,It,L,q)}})).apply(this,arguments)}function Et(I,C){return new Promise((O,L)=>{const q=Math.max(C-Date.now(),0),ee=setTimeout(O,q);I.addEventListener(()=>{clearTimeout(ee),L(bn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Ed(I){if(!(I instanceof X.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Fu{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Lu(){return wo.apply(this,arguments)}function wo(){return(wo=(0,k.Z)(function*(){if(!(0,X.hl)())return jn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(I){return jn.warn(bn.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*(I,C,O,L,q,ee,Ae){var Ne;const Qe=zh(I);Qe.then(Sn=>{O[Sn.measurementId]=Sn.appId,I.options.measurementId&&Sn.measurementId!==I.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>jn.error(Sn)),C.push(Qe);const It=Lu().then(Sn=>{if(Sn)return L.getId()}),[Rt,St]=yield Promise.all([Qe,It]);dg()||cg(ee,Rt.measurementId),q("js",new Date);const Hn=null!==(Ne=null==Ae?void 0:Ae.config)&&void 0!==Ne?Ne:{};return Hn.origin="firebase",Hn.update=!0,null!=St&&(Hn[O_]=St),q("config",Rt.measurementId,Hn),Rt.measurementId})).apply(this,arguments)}class qs{constructor(C){this.app=C}_delete(){return delete mi[this.app.options.appId],Promise.resolve()}}let mi={},Zs=[];const _i={};let Ks,Wi,$i="dataLayer",Bu=!1;function Ri(I,C,O){!function yi(){const I=[];if((0,X.ru)()&&I.push("This is a browser extension environment."),(0,X.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((L,q)=>`(${q+1}) ${L}`).join(" "),O=bn.create("invalid-analytics-context",{errorInfo:C});jn.warn(O.message)}}();const L=I.options.appId;if(!L)throw bn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw bn.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mi[L])throw bn.create("already-exists",{id:L});if(!Bu){!function hs(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}($i);const{wrappedGtag:ee,gtagCore:Ae}=function Wh(I,C,O,L,q){let ee=function(...Ae){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ee=window[q]),window[q]=function Dd(I,C,O,L){function ee(){return(ee=(0,k.Z)(function*(Ae,Ne,Qe){try{"event"===Ae?yield Pu(I,C,O,Ne,Qe):"config"===Ae?yield Ko(I,C,O,L,Ne,Qe):I("set",Ne)}catch(It){jn.error(It)}})).apply(this,arguments)}return function q(Ae,Ne,Qe){return ee.apply(this,arguments)}}(ee,I,C,O),{gtagCore:ee,wrappedGtag:window[q]}}(mi,Zs,_i,$i,"gtag");Wi=ee,Ks=Ae,Bu=!0}return mi[L]=function gn(I,C,O,L,q,ee,Ae){return fs.apply(this,arguments)}(I,Zs,_i,C,Ks,$i,O),new qs(I)}function xa(){return(xa=(0,k.Z)(function*(I,C,O,L,q){if(q&&q.global)I("event",O,L);else{const ee=yield C;I("event",O,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function vn(){return Js.apply(this,arguments)}function Js(){return(Js=(0,k.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(I){return!1}})).apply(this,arguments)}const Qs="@firebase/analytics";!function gg(){(0,oe._registerComponent)(new me.wA(Ru,(C,{options:O})=>Ri(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,oe._registerComponent)(new me.wA("analytics-internal",function I(C){try{const O=C.getProvider(Ru).getImmediate();return{logEvent:(L,q,ee)=>function pg(I,C,O,L){I=(0,X.m9)(I),function Ys(I,C,O,L,q){return xa.apply(this,arguments)}(Wi,mi[I.app.options.appId],C,O,L).catch(q=>jn.error(q))}(O,L,q,ee)}}catch(O){throw bn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,oe.registerVersion)(Qs,"0.7.7"),(0,oe.registerVersion)(Qs,"0.7.7","esm2017")}();var Xs=R(4408),Ol=R(7565);const Uu=new class wn extends Ol.v{}(class ps extends Xs.o{constructor(C,O){super(C,O),this.scheduler=C,this.work=O}schedule(C,O=0){return O>0?super.schedule(C,O):(this.delay=O,this.state=C,this.scheduler.flush(this),this)}execute(C,O){return O>0||this.closed?super.execute(C,O):this._execute(C,O)}requestAsyncId(C,O,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(C,O,L):C.flush(this)}});var mg=R(4986),ju=R(8505),Sr=R(9468),vi=R(5363);const Gu=new c.GfV("7.3.0"),gs="__angularfire_symbol__analyticsIsSupportedValue",Pi="__angularfire_symbol__analyticsIsSupported",qi="__angularfire_symbol__remoteConfigIsSupportedValue",Ra="__angularfire_symbol__remoteConfigIsSupported",Hu="__angularfire_symbol__messagingIsSupportedValue",$u="__angularfire_symbol__messagingIsSupported";function eo(I,C,O){if(C){if(1===C.length)return C[0];const ee=C.filter(Ae=>Ae.app===O);if(1===ee.length)return ee[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Pi]||(globalThis[Pi]=vn().then(I=>globalThis[gs]=I).catch(()=>globalThis[gs]=!1)),globalThis[$u]||(globalThis[$u]=yd().then(I=>globalThis[Hu]=I).catch(()=>globalThis[Hu]=!1)),globalThis[Ra]||(globalThis[Ra]=po().then(I=>globalThis[qi]=I).catch(()=>globalThis[qi]=!1));const Td=(I,C)=>{const O=C?[C]:(0,Y.C6)(),L=[];return O.forEach(q=>{q.container.getProvider(I).instances.forEach(Ae=>{L.includes(Ae)||L.push(Ae)})}),L};function Eo(){}class xl{constructor(C,O=Uu){this.zone=C,this.delegate=O}now(){return this.delegate.now()}schedule(C,O,L){const q=this.zone;return this.delegate.schedule(function(Ae){q.runGuarded(()=>{C.apply(this,[Ae])})},O,L)}}class Zi{constructor(C){this.zone=C,this.task=null}call(C,O){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),O.pipe((0,ju.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rl=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=O.run(()=>new xl(Zone.current,mg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ki(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function qu(I){return Ki(),function Io(I){return function(O){return(O=O.lift(new Zi(I.ngZone))).pipe((0,Sr.R)(I.outsideAngular),(0,vi.Q)(I.insideAngular))}}(Ki())(I)}},2090:(at,Ie,R)=>{R.d(Ie,{BH:()=>Se,LL:()=>Ct,ZR:()=>ae,zI:()=>_e,US:()=>re,tV:()=>G,L:()=>ce,$s:()=>co,r3:()=>Xt,Sg:()=>Re,ne:()=>ct,vZ:()=>Ms,ZB:()=>Q,Lj:()=>jt,pd:()=>rs,m9:()=>dt,z$:()=>Ve,jU:()=>nt,ru:()=>Ze,d:()=>be,xb:()=>or,w1:()=>De,hl:()=>z,uI:()=>pe,UG:()=>we,b$:()=>Ce,G6:()=>te,Mn:()=>We,X3:()=>ht,xO:()=>ji,zd:()=>Vr,eu:()=>ne});var c=R(5861);const X=function(j){const V=[];let $=0;for(let de=0;de<j.length;de++){let J=j.charCodeAt(de);J<128?V[$++]=J:J<2048?(V[$++]=J>>6|192,V[$++]=63&J|128):55296==(64512&J)&&de+1<j.length&&56320==(64512&j.charCodeAt(de+1))?(J=65536+((1023&J)<<10)+(1023&j.charCodeAt(++de)),V[$++]=J>>18|240,V[$++]=J>>12&63|128,V[$++]=J>>6&63|128,V[$++]=63&J|128):(V[$++]=J>>12|224,V[$++]=J>>6&63|128,V[$++]=63&J|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let J=0;J<j.length;J+=3){const Be=j[J],yt=J+1<j.length,Kt=yt?j[J+1]:0,br=J+2<j.length,Wt=br?j[J+2]:0;let dn=(15&Kt)<<2|Wt>>6,rr=63&Wt;br||(rr=64,yt||(dn=64)),de.push($[Be>>2],$[(3&Be)<<4|Kt>>4],$[dn],$[rr])}return de.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let $=0,de=0;for(;$<j.length;){const J=j[$++];if(J<128)V[de++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=j[$++];V[de++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const br=((7&J)<<18|(63&j[$++])<<12|(63&j[$++])<<6|63&j[$++])-65536;V[de++]=String.fromCharCode(55296+(br>>10)),V[de++]=String.fromCharCode(56320+(1023&br))}else{const Be=j[$++],yt=j[$++];V[de++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&yt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const $=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let J=0;J<j.length;){const Be=$[j.charAt(J++)],Kt=J<j.length?$[j.charAt(J)]:0;++J;const Wt=J<j.length?$[j.charAt(J)]:64;++J;const xt=J<j.length?$[j.charAt(J)]:64;if(++J,null==Be||null==Kt||null==Wt||null==xt)throw Error();de.push(Be<<2|Kt>>4),64!==Wt&&(de.push(Kt<<4&240|Wt>>2),64!==xt&&de.push(Wt<<6&192|xt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},G=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Q(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const $ in V)!V.hasOwnProperty($)||!ze($)||(j[$]=Q(j[$],V[$]));return j}function ze(j){return"__proto__"!==j}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,$)=>{this.resolve=V,this.reject=$})}wrapCallback(V){return($,de)=>{$?this.reject($):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V($):V($,de))}}}function Re(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",J=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(yt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return Ve().indexOf("Electron/")>=0}function De(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function We(){return Ve().indexOf("MSAppHost/")>=0}function te(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function ne(){return new Promise((j,V)=>{try{let $=!0;const de="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(de);J.onsuccess=()=>{J.result.close(),$||self.indexedDB.deleteDatabase(de),j(!0)},J.onupgradeneeded=()=>{$=!1},J.onerror=()=>{var Be;V((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch($){V($)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(V,$,de){super($),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(V,$,de){this.service=V,this.serviceName=$,this.errors=de}create(V,...$){const de=$[0]||{},J=`${this.service}/${V}`,Be=this.errors[V],yt=Be?function Qt(j,V){return j.replace(Mn,($,de)=>{const J=V[de];return null!=J?String(J):`<${de}?>`})}(Be,de):"Error";return new ae(J,`${this.serviceName}: ${yt} (${J}).`,de)}}const Mn=/\{\$([^}]+)}/g;function Xt(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function or(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Ms(j,V){if(j===V)return!0;const $=Object.keys(j),de=Object.keys(V);for(const J of $){if(!de.includes(J))return!1;const Be=j[J],yt=V[J];if(Lr(Be)&&Lr(yt)){if(!Ms(Be,yt))return!1}else if(Be!==yt)return!1}for(const J of de)if(!$.includes(J))return!1;return!0}function Lr(j){return null!==j&&"object"==typeof j}function ji(j){const V=[];for(const[$,de]of Object.entries(j))Array.isArray(de)?de.forEach(J=>{V.push(encodeURIComponent($)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent($)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function Vr(j){const V={};return j.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[J,Be]=de.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Be)}}),V}function rs(j){const V=j.indexOf("?");if(!V)return"";const $=j.indexOf("#",V);return j.substring(V,$>0?$:void 0)}function ct(j,V){const $=new Jr(j,V);return $.subscribe.bind($)}class Jr{constructor(V,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver($=>{$.next(V)})}error(V){this.forEachObserver($=>{$.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,$,de){let J;if(void 0===V&&void 0===$&&void 0===de)throw new Error("Missing Observer.");J=function Wn(j,V){if("object"!=typeof j||null===j)return!1;for(const $ of V)if($ in j&&"function"==typeof j[$])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:$,complete:de},void 0===J.next&&(J.next=di),void 0===J.error&&(J.error=di),void 0===J.complete&&(J.complete=di);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(yt){}}),this.observers.push(J),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,V)}sendOne(V,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{$(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}function co(j,V=1e3,$=2){const de=V*Math.pow($,j),J=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+J)}function dt(j){return j&&j._delegate?j._delegate:j}function vr(j,V){return new Promise(($,de)=>{j.onsuccess=J=>{$(J.target.result)},j.onerror=J=>{var Be;de(`${V}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ut{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,$){return new Ke(this._db.transaction.call(this._db,V,$))}createObjectStore(V,$){return new Te(this._db.createObjectStore(V,$))}close(){this._db.close()}}class Ke{constructor(V){this._transaction=V,this.complete=new Promise(($,de)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new et(this._store.index(V))}createIndex(V,$,de){return new et(this._store.createIndex(V,$,de))}get(V){return vr(this._store.get(V),"Error reading from IndexedDB")}put(V,$){return vr(this._store.put(V,$),"Error writing to IndexedDB")}delete(V){return vr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(V){this._index=V}get(V){return vr(this._index.get(V),"Error reading from IndexedDB")}}function ht(j,V,$){return new Promise((de,J)=>{try{const Be=indexedDB.open(j,V);Be.onsuccess=yt=>{de(new Ut(yt.target.result))},Be.onerror=yt=>{var Kt;J(`Error opening indexedDB: ${null===(Kt=yt.target.error)||void 0===Kt?void 0:Kt.message}`)},Be.onupgradeneeded=yt=>{$(new Ut(Be.result),yt.oldVersion,yt.newVersion,new Ke(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function jt(j){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(j){return new Promise((V,$)=>{try{const de=indexedDB.deleteDatabase(j);de.onsuccess=()=>{V()},de.onerror=J=>{var Be;$(`Error deleting indexedDB database "${j}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(de){$(`Error deleting indexedDB database "${j}": ${de.message}`)}})})).apply(this,arguments)}},4332:(at,Ie,R)=>{var c=R(5e3);let Y=null;function k(){return Y}const re=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new H((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(n){const e=(0,c.LFG)(re).location;return new Ze((0,c.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new c.OlP("appBaseHref");let Ze=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+Ve(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+Ve(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(nt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+Ve(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+Ve(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(nt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(Ge(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function We(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Se,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new be((0,c.LFG)(pe),(0,c.LFG)(he))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}let qn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function cr(n){return"server"===n}let _l=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new yl((0,c.LFG)(re),window)}),n})();class yl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ta(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=us(this.window.history)||us(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function us(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs extends class zo extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Bs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fd(){return ln=ln||document.querySelector("base"),ln?ln.getAttribute("href"):null}();return null==t?null:function _o(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ln=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Go(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let mo,ln=null;const wr=new c.OlP("TRANSITION_ID"),Sa=[{provide:c.ip1,useFactory:function xn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[wr,re,c.zs3],multi:!0}];class Mi{static init(){(0,c.VLi)(new Mi)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const m=function(v){d=d||v,l--,0==l&&r(d)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Er=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=new c.OlP("EventManagerPlugins");let cs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Us),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class vl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ei=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends ei{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Gs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Gs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Gs(n){k().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bl=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ee(n,i,t):(i=i.replace(bl,n),t.push(i))}return t}function Vt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let yn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Iu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new Cu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cs),c.LFG(js),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ft[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ft[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vt(r)):this.eventManager.addEventListener(e,t,Vt(r))}}class Iu extends qo{constructor(e,t,r,i){super(e),this.component=r;const l=Ee(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Du(n){return"_ngcontent-%COMP%".replace(bl,n)}(i+"-"+r.id),this.hostAttr=function wu(n){return"_nghost-%COMP%".replace(bl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Cu extends qo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ee(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pd=(()=>{class n extends vl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Tu=["alt","control","meta","shift"],Hs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cl=(()=>{class n extends vl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(Tu.forEach(v=>{const w=r.indexOf(v);w>-1&&(r.splice(w,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static getEventFullKey(t){let r="",i=function $s(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&dr.hasOwnProperty(e)&&(e=dr[e]))}return Hs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tu.forEach(l=>{l!=i&&gi[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Oi(){Bs.makeCurrent(),Mi.init()},multi:!0},{provide:re,useFactory:function Tl(){return(0,c.RDi)(document),document},deps:[]}]),Na=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Su(){return new c.qLn},deps:[]},{provide:Us,useClass:pd,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:Us,useClass:Cl,multi:!0,deps:[re]},{provide:yn,useClass:yn,deps:[cs,js,c.AFp]},{provide:c.FYo,useExisting:yn},{provide:ei,useExisting:js},{provide:js,useClass:js,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:cs,useClass:cs,deps:[Us,c.R0b]},{provide:class pn{},useClass:Er,deps:[]}];let Ma=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:wr,useExisting:c.AFp},Sa]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Na,imports:[qn,c.hGG]}),n})();"undefined"!=typeof window&&window;var Rn=R(8996),bn=R(3269);function pt(...n){const e=(0,bn.yG)(n);return(0,Rn.D)(n,e)}var tn=R(7579);class kn extends tn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Gn=R(8306);const{isArray:Yo}=Array,{getPrototypeOf:wd,prototype:fn,keys:zh}=Object;function xi(n){if(1===n.length){const e=n[0];if(Yo(e))return{args:e,keys:null};if(function Nl(n){return n&&"object"==typeof n&&wd(n)===fn}(e)){const t=zh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ni=R(4671),Et=R(4004);const{isArray:Ed}=Array;function Lu(n){return(0,Et.U)(e=>function Fu(n,e){return Ed(e)?n(...e):n(e)}(n,e))}function wo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var gn=R(5403),fs=R(9672);function Zs(n,e,t){n?(0,fs.f)(t,n,e):e()}var _i=R(576);function $i(n,e){const t=(0,_i.m)(n)?n:()=>n,r=i=>i.error(t());return new Gn.y(e?i=>e.schedule(r,0,i):r)}const Ks=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Wi=R(8189);function Ml(...n){return function Bu(){return(0,Wi.J)(1)}()((0,Rn.D)(n,(0,bn.yG)(n)))}var yi=R(8421);function Ri(n){return new Gn.y(e=>{(0,yi.Xf)(n()).subscribe(e)})}var Ys=R(515),xa=R(727),ir=R(4482);function ki(){return(0,ir.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Id extends Gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xa.w0.EMPTY)}return e}refCount(){return ki()(this)}}function Dn(n,e){return(0,ir.e)((t,r)=>{let i=null,l=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,gn.x)(r,v=>{null==i||i.unsubscribe();let w=0;const A=l++;(0,yi.Xf)(n(v,A)).subscribe(i=(0,gn.x)(r,M=>r.next(e?e(v,M,A,w++):M),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var Zn=R(5698);function Ur(...n){const e=(0,bn.yG)(n);return(0,ir.e)((t,r)=>{(e?Ml(n,t,e):Ml(n,t)).subscribe(r)})}function Jo(n,e,t,r,i){return(l,d)=>{let m=t,v=e,w=0;l.subscribe((0,gn.x)(d,A=>{const M=w++;v=m?n(v,A,M):(m=!0,A),r&&d.next(v)},i&&(()=>{m&&d.next(v),d.complete()})))}}function Cr(n,e){return(0,ir.e)(Jo(n,e,arguments.length>=2,!0))}function hr(n,e){return(0,ir.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function zi(n){return(0,ir.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,d=>{l=(0,yi.Xf)(n(d,zi(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var vn=R(5577);function Js(n,e){return(0,_i.m)(e)?(0,vn.z)(n,e,1):(0,vn.z)(n,1)}function Cd(n){return n<=0?()=>Ys.E:(0,ir.e)((e,t)=>{let r=[];e.subscribe((0,gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tn(n=hg){return(0,ir.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hg(){return new Ks}function fg(n){return(0,ir.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Qs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hr((i,l)=>n(i,l,r)):ni.y,(0,Zn.q)(1),t?fg(e):Tn(()=>new Ks))}var Tr=R(8505);class Xs{constructor(e,t){this.id=e,this.url=t}}class ps extends Xs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ol extends Xs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wn extends Xs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uu extends Xs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qo extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mg extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ju extends Xs{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sr extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ra{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $u{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Wu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kn(n){return new Wu(n)}const zu="ngNavigationCancelingError";function eo(n){const e=Error("NavigationCancelingError: "+n);return e[zu]=!0,e}function Eo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Rl(n[i],e[i]))return!1;return!0}function Rl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Ki(n){return Array.prototype.concat.apply([],n)}function Sd(n){return n.length>0?n[n.length-1]:null}function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bi(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):pt(n)}const Io={exact:function C(n,e,t){if(!Rt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!C(n.children[r],e.children[r],t))return!1;return!0},subset:L},Xo={exact:function I(n,e){return Zi(n,e)},subset:function O(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Rl(n[t],e[t]))},ignored:()=>!0};function kl(n,e,t){return Io[t.paths](n.root,e.root,t.matrixParams)&&Xo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L(n,e,t){return q(n,e,e.segments,t)}function q(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Rt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!Rt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!L(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Rt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Ft])&&q(n.children[Ft],e,l,r)}}function ee(n,e,t){return e.every((r,i)=>Xo[t](n[i].parameters,r.parameters))}class Ae{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return ea.serialize(this)}}class Ne{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Co(this)}}class Qe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kn(this.parameters)),this._parameterMap}toString(){return ka(this)}}function Rt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Hn{}class Sn{parse(e){const t=new Nd(e);return new Ae(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jr(e.root,!0)}`,r=function x_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Fi(t)}=${Fi(i)}`).join("&"):`${Fi(t)}=${Fi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function To(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ea=new Sn;function Co(n){return n.segments.map(e=>ka(e)).join("/")}function jr(n,e){if(!n.hasChildren())return Co(n);if(e){const t=n.children[Ft]?jr(n.children[Ft],!1):"",r=[];return Yn(n.children,(i,l)=>{l!==Ft&&r.push(`${l}:${jr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function St(n,e){let t=[];return Yn(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),Yn(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[jr(n.children[Ft],!1)]:[`${i}:${jr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Co(n)}/${t[0]}`:`${Co(n)}/(${t.join("//")})`}}function Di(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fi(n){return Di(n).replace(/%3B/gi,";")}function Ad(n){return Di(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(n){return decodeURIComponent(n)}function Ku(n){return Zu(n.replace(/\+/g,"%20"))}function ka(n){return`${Ad(n.path)}${function _g(n){return Object.keys(n).map(e=>`;${Ad(e)}=${Ad(n[e])}`).join("")}(n.parameters)}`}const R_=/^[^\/()?;=#]+/;function ms(n){const e=n.match(R_);return e?e[0]:""}const Yu=/^[^=?&#]+/,P_=/^[^&#]+/;class Nd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Ne(e,t)),r}parseSegment(){const e=ms(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qe(Zu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ms(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ms(this.remaining);i&&(r=i,this.capture(r))}e[Zu(t)]=Zu(r)}parseQueryParam(e){const t=function k_(n){const e=n.match(Yu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function yg(n){const e=n.match(P_);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Ku(t),l=Ku(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ms(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ft);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Ft]:new Ne([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class F_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=qh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Zh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zh(e,this._root).map(t=>t.value)}}function qh(n,e){if(n===e.value)return e;for(const t of e.children){const r=qh(n,t);if(r)return r}return null}function Zh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Zh(n,t);if(r.length)return r.unshift(e),r}return[]}class So{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ao(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Md extends F_{constructor(e,t){super(e),this.snapshot=t,xd(this,e)}toString(){return this.snapshot.toString()}}function Pa(n,e){const t=function L_(n,e){const d=new Pl([],{},{},"",{},Ft,e,null,n.root,-1,{});return new Kh("",new So(d,[]))}(n,e),r=new kn([new Qe("",{})]),i=new kn({}),l=new kn({}),d=new kn({}),m=new kn(""),v=new ta(r,i,d,m,l,Ft,e,t.root);return v.snapshot=t.root,new Md(new So(v,[]),t)}class ta{constructor(e,t,r,i,l,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>Kn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>Kn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function V_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function Od(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Pl{constructor(e,t,r,i,l,d,m,v,w,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kh extends F_{constructor(e,t){super(t),this.url=e,xd(this,t)}toString(){return Rd(this._root)}}function xd(n,e){e.value._routerState=n,e.children.forEach(t=>xd(n,t))}function Rd(n){const e=n.children.length>0?` { ${n.children.map(Rd).join(", ")} } `:"";return`${n.value}${e}`}function kd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zi(e.params,t.params)||n.params.next(t.params),function xl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yh(n,e){const t=Zi(n.params,e.params)&&function It(n,e){return Rt(n,e)&&n.every((t,r)=>Zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Yh(n.parent,e.parent))}function Ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Jh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ju(n,r,i);return Ju(n,r)})}(n,e,t);return new So(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Ju(n,m)),d}}const r=function U_(n){return new ta(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Ju(n,l));return new So(r,i)}}function na(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fl(n){return"object"==typeof n&&null!=n&&n.outlets}function vg(n,e,t,r,i){let l={};if(r&&Yn(r,(m,v)=>{l[v]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),n===e)return new Ae(t,l,i);const d=Qh(n,e,t);return new Ae(d,l,i)}function Qh(n,e,t){const r={};return Yn(n.children,(i,l)=>{r[l]=i===e?t:Qh(i,e,t)}),new Ne(n.segments,r)}class j_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&na(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Fl);if(i&&i!==Sd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function W_(n,e,t){if(n||(n=new Ne([],{})),0===n.segments.length&&n.hasChildren())return no(n,e,t);const r=function kb(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],m=t[r];if(Fl(m))break;const v=`${m}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!Li(v,w,d))return l;r+=2}else{if(!Li(v,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Ne(n.segments.slice(0,r.pathIndex),{});return l.children[Ft]=new Ne(n.segments.slice(r.pathIndex),n.children),no(l,0,i)}return r.match&&0===i.length?new Ne(n.segments,{}):r.match&&!n.hasChildren()?ef(n,e,t):r.match?no(n,0,i):ef(n,e,t)}function no(n,e,t){if(0===t.length)return new Ne(n.segments,{});{const r=function $_(n){return Fl(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};return Yn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=W_(n.children[d],e,l))}),Yn(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Ne(n.segments,i)}}function ef(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Fl(l)){const v=Ll(l.outlets);return new Ne(r,v)}if(0===i&&na(t[0])){r.push(new Qe(n.segments[e].path,tf(t[0]))),i++;continue}const d=Fl(l)?l.outlets[Ft]:`${l}`,m=i<t.length-1?t[i+1]:null;d&&m&&na(m)?(r.push(new Qe(d,tf(m))),i+=2):(r.push(new Qe(d,{})),i++)}return new Ne(r,{})}function Ll(n){const e={};return Yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ef(new Ne([],{}),0,t))}),e}function tf(n){const e={};return Yn(n,(t,r)=>e[r]=`${t}`),e}function Li(n,e,t){return n==t.path&&Zi(e,t.parameters)}class Dg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ao(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Yn(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ao(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ao(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ao(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Hu(l.value.snapshot))}),e.children.length&&this.forwardEvent(new qi(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(kd(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),kd(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function Pd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=v,d.outlet&&d.outlet.activateWith(i,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Fd{constructor(e,t){this.routes=e,this.module=t}}function Fa(n){return"function"==typeof n}function Vl(n){return n instanceof Ae}const Xu=Symbol("INITIAL_VALUE");function ra(){return Dn(n=>function qs(...n){const e=(0,bn.yG)(n),t=(0,bn.jO)(n),{args:r,keys:i}=xi(n);if(0===r.length)return(0,Rn.D)([],e);const l=new Gn.y(function mi(n,e,t=ni.y){return r=>{Zs(e,()=>{const{length:i}=n,l=new Array(i);let d=i,m=i;for(let v=0;v<i;v++)Zs(e,()=>{const w=(0,Rn.D)(n[v],e);let A=!1;w.subscribe((0,gn.x)(r,M=>{l[v]=M,A||(A=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>wo(i,d):ni.y));return t?l.pipe(Lu(t)):l}(n.map(e=>e.pipe((0,Zn.q)(1),Ur(Xu)))).pipe(Cr((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==Xu?i:(l===Xu&&(r=!0),r||!1!==l&&d!==t.length-1&&!Vl(l)?i:l),e)},Xu),hr(e=>e!==Xu),(0,Et.U)(e=>Vl(e)?e:!0===e),(0,Zn.q)(1)))}class z_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ec,this.attachRef=null}}class ec{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new z_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let tc=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new af(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ec),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class af{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ta?this.route:e===ec?this.childContexts:this.parent.get(e,t)}}let lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[tc],encapsulation:2}),n})();function nc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ld(r,uf(e,r))}}function Ld(n,e){n.children&&nc(n.children,e)}function uf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cf(n){const e=n.children&&n.children.map(cf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=lf),t}function nn(n){return n.outlet||Ft}function df(n,e){const t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}const Eg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Eg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Eo)(t,n,e);if(!l)return Object.assign({},Eg);const d={};Yn(l.posParams,(v,w)=>{d[w]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function rc(n,e,t,r,i="corrected"){if(t.length>0&&function Z_(n,e,t){return t.some(r=>Bd(n,e,r)&&nn(r)!==Ft)}(n,t,r)){const d=new Ne(e,function Vd(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&nn(l)!==Ft){const d=new Ne([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[nn(l)]=d}return i}(n,e,r,new Ne(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Ig(n,e,t){return t.some(r=>Bd(n,e,r))}(n,t,r)){const d=new Ne(n.segments,function q_(n,e,t,r,i,l){const d={};for(const m of r)if(Bd(n,t,m)&&!i[nn(m)]){const v=new Ne([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[nn(m)]=v}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Ne(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Bd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function K_(n,e,t,r){return!!(nn(n)===r||r!==Ft&&Bd(e,t,n))&&("**"===n.path||Bl(e,n,t).matched)}function Y_(n,e,t){return 0===e.length&&!n.children[t]}class ia{constructor(e){this.segmentGroup=e||null}}class Ar{constructor(e){this.urlTree=e}}function No(n){return $i(new ia(n))}function ic(n){return $i(new Ar(n))}class ff{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=rc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ne(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,Et.U)(l=>this.createUrlTree(Va(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zi(l=>{if(l instanceof Ar)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ia?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,Et.U)(i=>this.createUrlTree(Va(i),e.queryParams,e.fragment))).pipe(zi(i=>{throw i instanceof ia?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ne([],{[Ft]:e}):e;return new Ae(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Et.U)(l=>new Ne([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Rn.D)(i).pipe(Js(l=>{const d=r.children[l],m=df(t,l);return this.expandSegmentGroup(e,m,d,l).pipe((0,Et.U)(v=>({segment:v,outlet:l})))}),Cr((l,d)=>(l[d.outlet]=d.segment,l),{}),function pg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hr((i,l)=>n(i,l,r)):ni.y,Cd(1),t?fg(e):Tn(()=>new Ks))}())}expandSegment(e,t,r,i,l,d){return(0,Rn.D)(r).pipe(Js(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,d).pipe(zi(w=>{if(w instanceof ia)return pt(null);throw w}))),Qs(m=>!!m),zi((m,v)=>{if(m instanceof Ks||"EmptyError"===m.name)return Y_(t,i,l)?pt(new Ne([],{})):No(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,d,m){return K_(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):No(t):No(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ic(l):this.lineralizeSegments(r,l).pipe((0,vn.z)(d=>{const m=new Ne(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:m,consumedSegments:v,remainingSegments:w,positionalParamSegments:A}=Bl(t,i,l);if(!m)return No(t);const M=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?ic(M):this.lineralizeSegments(i,M).pipe((0,vn.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Et.U)(M=>(r._loadedConfig=M,new Ne(i,{})))):pt(new Ne(i,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=Bl(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,vn.z)(A=>{const M=A.module,F=A.routes,{segmentGroup:B,slicedSegments:K}=rc(t,m,v,F),ue=new Ne(B.segments,B.children);if(0===K.length&&ue.hasChildren())return this.expandChildren(M,F,ue).pipe((0,Et.U)(mt=>new Ne(m,mt)));if(0===F.length&&0===K.length)return pt(new Ne(m,{}));const Oe=nn(r)===l;return this.expandSegment(M,ue,F,K,Oe?Ft:l,!0).pipe((0,Et.U)(Pe=>new Ne(m.concat(Pe.segments),Pe.children)))})):No(t)}getChildConfig(e,t,r){return t.children?pt(new Fd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,vn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Et.U)(l=>(t._loadedConfig=l,l))):function Gr(n){return $i(eo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):pt(new Fd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?pt(i.map(d=>{const m=e.get(d);let v;if(function nf(n){return n&&Fa(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!Fa(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return bi(v)})).pipe(ra(),(0,Tr.b)(d=>{if(!Vl(d))return;const m=eo(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,Et.U)(d=>!0===d)):pt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pt(r);if(i.numberOfChildren>1||!i.children[Ft])return $i(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Ae(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yn(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Yn(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,i)}),new Ne(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Va(n){const e={};for(const r of Object.keys(n.children)){const l=Va(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Vi(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Ne(n.segments.concat(e.segments),e.children)}return n}(new Ne(n.segments,e))}class Cg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ba{constructor(e,t){this.component=e,this.route=t}}function gf(n,e,t){const r=n._root;return wi(r,e?e._root:null,t,[r.value])}function sc(n,e,t){const r=function J_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function wi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ao(e);return n.children.forEach(d=>{(function Sg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function Q_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Rt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Rt(n.url,e.url)||!Zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yh(n,e)||!Zi(n.queryParams,e.queryParams);default:return!Yh(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Cg(r)):(l.data=d.data,l._resolvedData=d._resolvedData),wi(n,e,l.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Ba(m.outlet.component,d))}else d&&Ua(e,m,i),i.canActivateChecks.push(new Cg(r)),wi(n,null,l.component?m?m.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Yn(l,(d,m)=>Ua(d,t.getContext(m),i)),i}function Ua(n,e,t){const r=Ao(n),i=n.value;Yn(r,(l,d)=>{Ua(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Ba(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class yf{}function vf(n){return new Gn.y(e=>e.error(n))}class bf{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=rc(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new Pl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new So(r,t),l=new Kh(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=V_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],m=df(e,l),v=this.processSegmentGroup(m,d,l);if(null===v)return null;r.push(...v)}const i=Ng(r);return function ny(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return Y_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!K_(e,t,r,i))return null;let l,d=[],m=[];if("**"===e.path){const B=r.length>0?Sd(r).parameters:{};l=new Pl(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),nn(e),e.component,e,f(t),g(t)+r.length,T(e))}else{const B=Bl(t,e,r);if(!B.matched)return null;d=B.consumedSegments,m=B.remainingSegments,l=new Pl(d,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),nn(e),e.component,e,f(t),g(t)+d.length,T(e))}const v=function ry(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:A}=rc(t,d,m,v.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===A.length&&w.hasChildren()){const B=this.processChildren(v,w);return null===B?null:[new So(l,B)]}if(0===v.length&&0===A.length)return[new So(l,[])];const M=nn(e)===i,F=this.processSegment(v,w,A,M?Ft:i);return null===F?null:[new So(l,F)]}}function iy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ng(n){const e=[],t=new Set;for(const r of n){if(!iy(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ng(r.children);e.push(new So(r.value,i))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function T(n){return n.resolve||{}}function tt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lt(n){return Dn(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,Et.U)(()=>e)):pt(e)})}class ac extends class Ji{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ul=new c.OlP("ROUTES");class jl{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Et.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Fd(Ki(d.injector.get(Ul,void 0,c.XFs.Self|c.XFs.Optional)).map(cf),d)}),zi(l=>{throw t._loader$=void 0,l}));return t._loader$=new Id(i,()=>new tn.x).pipe(ki()),t._loader$}loadModuleFactory(e){return bi(e()).pipe((0,vn.z)(t=>t instanceof c.YKP?pt(t):(0,Rn.D)(this.compiler.compileModuleAsync(t))))}}class sy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function sa(n){throw n}function Ud(n,e,t){return e.parse("/")}function jd(n,e){return pt(null)}const wf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class n{constructor(t,r,i,l,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tn.x,this.errorHandler=sa,this.malformedUriErrorHandler=Ud,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jd,afterPreactivation:jd},this.urlHandlingStrategy=new sy,this.routeReuseStrategy=new ac,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const M=d.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function qu(){return new Ae(new Ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jl(d,m,F=>this.triggerEvent(new Gu(F)),F=>this.triggerEvent(new gs(F))),this.routerState=Pa(this.currentUrlTree,this.rootComponentType),this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(hr(i=>0!==i.id),(0,Et.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dn(i=>{let l=!1,d=!1;return pt(i).pipe((0,Tr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(m=>{const v=this.browserUrlTree.toString(),w=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Mg(m.source)&&(this.browserUrlTree=m.extractedUrl),pt(m).pipe(Dn(M=>{const F=this.transitions.getValue();return r.next(new ps(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Ys.E:Promise.resolve(M)}),function pf(n,e,t,r){return Dn(i=>function La(n,e,t,r,i){return new ff(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Et.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function x(n,e,t,r,i){return(0,vn.z)(l=>function ty(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new bf(n,e,t,r,i,l).recognize();return null===d?vf(new yf):pt(d)}catch(d){return vf(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Et.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new Qo(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:K,restoredState:ue,extras:Oe}=m,Xe=new ps(F,this.serializeUrl(B),K,ue);r.next(Xe);const Pe=Pa(B,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},m),{targetSnapshot:Pe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Ys.E}),lt(m=>{const{targetSnapshot:v,id:w,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=m;return this.hooks.beforePreactivation(v,{navigationId:w,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Tr.b)(m=>{const v=new mg(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Et.U)(m=>Object.assign(Object.assign({},m),{guards:gf(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function X_(n,e){return(0,vn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?pt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ag(n,e,t,r){return(0,Rn.D)(n).pipe((0,vn.z)(i=>function oc(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?pt(l.map(m=>{const v=sc(m,e,i);let w;if(function Pb(n){return n&&Fa(n.canDeactivate)}(v))w=bi(v.canDeactivate(n,e,t,r));else{if(!Fa(v))throw new Error("Invalid CanDeactivate guard");w=bi(v(n,e,t,r))}return w.pipe(Qs())})).pipe(ra()):pt(!0)}(i.component,i.route,t,e,r)),Qs(i=>!0!==i,!0))}(d,r,i,n).pipe((0,vn.z)(m=>m&&function wg(n){return"boolean"==typeof n}(m)?function Nr(n,e,t,r){return(0,Rn.D)(e).pipe(Js(i=>Ml(function _f(n,e){return null!==n&&e&&e(new Pi(n)),pt(!0)}(i.route.parent,r),function mf(n,e){return null!==n&&e&&e(new Ra(n)),pt(!0)}(i.route,r),function Mo(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Tg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ri(()=>pt(d.guards.map(v=>{const w=sc(v,d.node,t);let A;if(function sf(n){return n&&Fa(n.canActivateChild)}(w))A=bi(w.canActivateChild(r,n));else{if(!Fa(w))throw new Error("Invalid CanActivateChild guard");A=bi(w(r,n))}return A.pipe(Qs())})).pipe(ra())));return pt(l).pipe(ra())}(n,i.path,t),function ey(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const i=r.map(l=>Ri(()=>{const d=sc(l,e,t);let m;if(function rf(n){return n&&Fa(n.canActivate)}(d))m=bi(d.canActivate(e,n));else{if(!Fa(d))throw new Error("Invalid CanActivate guard");m=bi(d(e,n))}return m.pipe(Qs())}));return pt(i).pipe(ra())}(n,i.route,t))),Qs(i=>!0!==i,!0))}(r,l,n,e):pt(m)),(0,Et.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Tr.b)(m=>{if(Vl(m.guardsResult)){const w=eo(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw w.url=m.guardsResult,w}const v=new ju(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),hr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),lt(m=>{if(m.guards.canActivateChecks.length)return pt(m).pipe((0,Tr.b)(v=>{const w=new Sr(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),Dn(v=>{let w=!1;return pt(v).pipe(function W(n,e){return(0,vn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pt(t);let l=0;return(0,Rn.D)(i).pipe(Js(d=>function se(n,e,t,r){return function Ue(n,e,t,r){const i=tt(n);if(0===i.length)return pt({});const l={};return(0,Rn.D)(i).pipe((0,vn.z)(d=>function vt(n,e,t,r){const i=sc(n,e,r);return bi(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Tr.b)(m=>{l[d]=m}))),Cd(1),(0,vn.z)(()=>tt(l).length===i.length?pt(l):Ys.E))}(n._resolve,n,e,r).pipe((0,Et.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),V_(n,t).resolve),null)))}(d.route,r,n,e)),(0,Tr.b)(()=>l++),Cd(1),(0,vn.z)(d=>l===i.length?pt(t):Ys.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Tr.b)(v=>{const w=new vi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),lt(m=>{const{targetSnapshot:v,id:w,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=m;return this.hooks.afterPreactivation(v,{navigationId:w,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Et.U)(m=>{const v=function B_(n,e,t){const r=Ju(n,e._root,t?t._root:void 0);return new Md(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,Tr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(r=>(new Dg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Tr.b)({next(){l=!0},complete(){l=!0}}),function gg(n){return(0,ir.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),zi(m=>{if(d=!0,function Td(n){return n&&n[zu]}(m)){const v=Vl(m.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const w=new wn(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(w),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mg(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new Uu(i.id,this.serializeUrl(i.extractedUrl),m);r.next(v);try{i.resolve(this.errorHandler(m))}catch(w){i.reject(w)}}return Ys.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nc(t),this.config=t.map(cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,w=i||this.routerState.root,A=v?this.currentUrlTree.fragment:d;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function to(n,e,t,r,i){if(0===t.length)return vg(e.root,e.root,e.root,r,i);const l=function G_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new j_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Yn(l.outlets,(v,w)=>{m[w]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new j_(t,e,r)}(t);if(l.toRoot())return vg(e.root,e.root,new Ne([],{}),r,i);const d=function bg(n,e,t){if(n.isAbsolute)return new Xh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Xh(l,l===e.root,0)}const r=na(n.commands[0])?0:1;return function H_(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Xh(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=d.processChildren?no(d.segmentGroup,d.index,l.commands):W_(d.segmentGroup,d.index,l.commands);return vg(e.root,d.segmentGroup,m,r,i)}(w,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vl(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Ef(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},wf):!1===r?Object.assign({},Gd):r,Vl(t))return kl(this.currentUrlTree,t,i);const l=this.parseUrl(t);return kl(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ol(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var m,v;if(this.disposed)return Promise.resolve(!1);let w,A,M;d?(w=d.resolve,A=d.reject,M=d.promise):M=new Promise((K,ue)=>{w=K,A=ue});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:w,reject:A,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new wn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Mg(n){return"imperative"!==n}class uy{}class Lb{preload(e,t){return pt(null)}}let Vb=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new jl(i,r,v=>t.triggerEvent(new Gu(v)),v=>t.triggerEvent(new gs(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(hr(t=>t instanceof Ol),Js(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,Rn.D)(i).pipe((0,Wi.J)(),(0,Et.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,vn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(uy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Og=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ol&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $u&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new $u(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _s=new c.OlP("ROUTER_CONFIGURATION"),dy=new c.OlP("ROUTER_FORROOT_GUARD"),Bb=[be,{provide:Hn,useClass:Sn},{provide:ri,useFactory:function fy(n,e,t,r,i,l,d={},m,v){const w=new ri(null,n,e,t,r,i,Ki(l));return m&&(w.urlHandlingStrategy=m),v&&(w.routeReuseStrategy=v),function Gb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(A=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),w},deps:[Hn,ec,be,c.zs3,c.Sil,Ul,_s,[class Df{},new c.FiY],[class An{},new c.FiY]]},ec,{provide:ta,useFactory:function xg(n){return n.routerState.root},deps:[ri]},Vb,Lb,class cy{preload(e,t){return t().pipe(zi(()=>pt(null)))}},{provide:_s,useValue:{enableTracing:!1}}];function H1(){return new c.PXZ("Router",ri)}let If=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Bb,hy(t),{provide:dy,useFactory:jb,deps:[[ri,new c.FiY,new c.tp0]]},{provide:_s,useValue:r||{}},{provide:pe,useFactory:Ub,deps:[he,[new c.tBr(nt),new c.FiY],_s]},{provide:Og,useFactory:$1,deps:[ri,_l,_s]},{provide:uy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Lb},{provide:c.PXZ,multi:!0,useFactory:H1},[$d,{provide:c.ip1,multi:!0,useFactory:Hb,deps:[$d]},{provide:gy,useFactory:py,deps:[$d]},{provide:c.tb,multi:!0,useExisting:gy}]]}}static forChild(t){return{ngModule:n,providers:[hy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dy,8),c.LFG(ri,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function $1(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Og(n,e,t)}function Ub(n,e,t={}){return t.useHash?new Ce(n,e):new Ze(n,e)}function jb(n){return"guarded"}function hy(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Ul,multi:!0,useValue:n}]}let $d=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new tn.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(ri),d=this.injector.get(_s);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(_s),i=this.injector.get(Vb),l=this.injector.get(Og),d=this.injector.get(ri),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Hb(n){return n.appInitializer.bind(n)}function py(n){return n.bootstrapListener.bind(n)}const gy=new c.OlP("Router Initializer");let W1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,consts:[["src","https://firebasestorage.googleapis.com/v0/b/pruebaapp-d5f1d.appspot.com/o/main.png?alt=media&token=558cf3d1-0eb4-4df8-af19-d03cc773a44a"]],template:function(t,r){1&t&&(c.TgZ(0,"div"),c._UZ(1,"img",0),c.qZA())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}div[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:70em;max-width:max-content;max-height:max-content;left:0;right:0;bottom:0;margin:auto}"]}),n})(),$b=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-quien-soy"]],decls:17,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3","crossorigin","anonymous"],[1,"card","text-center"],[1,"card-header"],[1,"card-body"],["src","https://firebasestorage.googleapis.com/v0/b/pruebaapp-d5f1d.appspot.com/o/yo.png?alt=media&token=8d44c79d-03cb-4d03-abeb-a70e27f49e24","alt","Card image cap",1,"card-img-top",2,"max-width","100px","max-height","100px;"],[1,"card-title"],[1,"card-text"]],template:function(t,r){1&t&&(c.TgZ(0,"html",0)(1,"head"),c._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"link",4)(6,"link",5),c.qZA(),c.TgZ(7,"body")(8,"div",6)(9,"div",7),c._uU(10," Quien Soy "),c.qZA(),c.TgZ(11,"div",8),c._UZ(12,"img",9),c.TgZ(13,"h5",10),c._uU(14,"Ian Garcia"),c.qZA(),c.TgZ(15,"p",11),c._uU(16,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus porro necessitatibus sint ipsam, libero, dolor a maiores iure, impedit aspernatur odit nam temporibus quam dolorem? Tenetur esse saepe provident excepturi."),c.qZA()()()()())},styles:[""]}),n})();var ye=R(5861),_y=R(4986),ii=R(5813);function Cf(){return(0,ir.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function fS(n,e){return n===e}var rt,ro=R(2011),Wb=(R(4087),R(3942)),lc=R(9681),kg=R(4859),Hr=R(1877),zt=R(2090),zb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ja={},yy=yy||{},Ot=zb||self;function Sf(){}function vy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Af(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var At="closure_uid_"+(1e9*Math.random()>>>0),qb=0;function Zb(n,e,t){return n.call.apply(n.bind,arguments)}function Kb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function fr(n,e,t){return(fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zb:Kb).apply(null,arguments)}function Qi(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $r(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Gl(){this.s=this.s,this.o=this.o}var Ga={};Gl.prototype.s=!1,Gl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function z1(n){return Object.prototype.hasOwnProperty.call(n,At)&&n[At]||(n[At]=++qb)}(this);delete Ga[n]}},Gl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Dy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function q1(n){return Array.prototype.concat.apply([],arguments)}function Fg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ey(n){return/^[\s\xa0]*$/.test(n)}var si,Nf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wr(n,e){return-1!=n.indexOf(e)}function Mf(n,e){return n<e?-1:n>e?1:0}e:{var Lg=Ot.navigator;if(Lg){var Z1=Lg.userAgent;if(Z1){si=Z1;break e}}si=""}function Iy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Yb(n){const e={};for(const t in n)e[t]=n[t];return e}var Jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Jb.length;l++)t=Jb[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vg(n){return Vg[" "](n),n}Vg[" "]=Sf;var Sy,n,K1=Wr(si,"Opera"),Of=Wr(si,"Trident")||Wr(si,"MSIE"),Cy=Wr(si,"Edge"),Bg=Cy||Of,Xb=Wr(si,"Gecko")&&!(Wr(si.toLowerCase(),"webkit")&&!Wr(si,"Edge"))&&!(Wr(si,"Trident")||Wr(si,"MSIE"))&&!Wr(si,"Edge"),Ty=Wr(si.toLowerCase(),"webkit")&&!Wr(si,"Edge");function Y1(){var n=Ot.document;return n?n.documentMode:void 0}e:{var eD="",tD=(n=si,Xb?/rv:([^\);]+)(\)|;)/.exec(n):Cy?/Edge\/([\d\.]+)/.exec(n):Of?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ty?/WebKit\/(\S+)/.exec(n):K1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tD&&(eD=tD?tD[1]:""),Of){var nD=Y1();if(null!=nD&&nD>parseFloat(eD)){Sy=String(nD);break e}}Sy=eD}var mS={};var yS=Ot.document&&Of&&(Y1()||parseInt(Sy,10))||void 0,Hl=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Sf,e),Ot.removeEventListener("test",Sf,e)}catch(t){}return n}();function zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function xf(n,e){if(zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xb){e:{try{Vg(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xf.Z.h.call(this)}}zr.prototype.h=function(){this.defaultPrevented=!0},$r(xf,zr);var iD={2:"touch",3:"pen",4:"mouse"};xf.prototype.h=function(){xf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var uc="closure_listenable_"+(1e6*Math.random()|0),sD=0;function Ay(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++sD,this.ca=this.fa=!1}function Ug(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Oo(n){this.src=n,this.g={},this.h=0}function jg(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Pg(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Ug(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ny(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Oo.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Ny(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new Ay(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Rf="closure_lm_"+(1e6*Math.random()|0),My={};function Oy(n,e,t,r,i){if(r&&r.once)return Wd(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Oy(n,e[l],t,r,i);return null}return t=Gg(t),n&&n[uc]?n.N(e,t,Af(r)?!!r.capture:!!r,i):oD(n,e,t,!1,r,i)}function oD(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=Af(i)?!!i.capture:!!i,m=$l(n);if(m||(n[Rf]=m=new Oo(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function Q1(){var e=Pf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hl||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(dc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Wd(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Wd(n,e[l],t,r,i);return null}return t=Gg(t),n&&n[uc]?n.O(e,t,Af(r)?!!r.capture:!!r,i):oD(n,e,t,!0,r,i)}function cc(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)cc(n,e[l],t,r,i);else r=Af(r)?!!r.capture:!!r,t=Gg(t),n&&n[uc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ny(l=n.g[e],t,r,i))&&(Ug(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=$l(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ny(e,t,r,i)),(t=-1<n?e[n]:null)&&kf(t))}function kf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[uc])jg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(dc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=$l(e))?(jg(t,n),0==t.h&&(t.src=null,e[Rf]=null)):Ug(n)}}}function dc(n){return n in My?My[n]:My[n]="on"+n}function Pf(n,e){if(n.ca)n=!0;else{e=new xf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&kf(n),n=t.call(r,e)}return n}function $l(n){return(n=n[Rf])instanceof Oo?n:null}var xy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(n){return"function"==typeof n?n:(n[xy]||(n[xy]=function(e){return n.handleEvent(e)}),n[xy])}function Mr(){Gl.call(this),this.i=new Oo(this),this.P=this,this.I=null}function Or(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new zr(e,n);else if(e instanceof zr)e.target=e.target||n;else{var i=e;Qb(e=new zr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=zd(d,r,!0,e)&&i}if(i=zd(d=e.g=n,r,!0,e)&&i,i=zd(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=zd(d=e.g=t[l],r,!1,e)&&i}function zd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,v=d.ia||d.src;d.fa&&jg(n.i,d),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}$r(Mr,Gl),Mr.prototype[uc]=!0,Mr.prototype.removeEventListener=function(n,e,t,r){cc(this,n,e,t,r)},Mr.prototype.M=function(){if(Mr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ug(t[r]);delete n.g[e],n.h--}}this.I=null},Mr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hg=Ot.JSON.stringify;function $g(){var n=uD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ky,Ry=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vS,n=>n.reset());class vS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aD(n){Ot.setTimeout(()=>{throw n},0)}function Wg(n,e){ky||function lD(){var n=Ot.Promise.resolve(void 0);ky=function(){n.then(ys)}}(),Py||(ky(),Py=!0),uD.add(n,e)}var Py=!1,uD=new class X1{constructor(){this.h=this.g=null}add(e,t){const r=Ry.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ys(){for(var n;n=$g();){try{n.h.call(n.g)}catch(t){aD(t)}var e=Ry;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Py=!1}function zg(n,e){Mr.call(this),this.h=n||1,this.g=e||Ot,this.j=fr(this.kb,this),this.l=Date.now()}function Fy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function cD(n,e,t){if("function"==typeof n)t&&(n=fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function eI(n){n.g=cD(()=>{n.g=null,n.i&&(n.i=!1,eI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$r(zg,Mr),(rt=zg.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Or(this,"tick"),this.da&&(Fy(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){zg.Z.M.call(this),Fy(this),delete this.g};class dD extends Gl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eI(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qg(n){Gl.call(this),this.h=n,this.g={}}$r(qg,Gl);var hD=[];function Zg(n,e,t,r){Array.isArray(t)||(t&&(hD[0]=t.toString()),t=hD);for(var i=0;i<t.length;i++){var l=Oy(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Ly(n){Iy(n.g,function(e,t){this.g.hasOwnProperty(t)&&kf(e)},n),n.g={}}function Kg(){this.g=!0}function hc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return Hg(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}qg.prototype.M=function(){qg.Z.M.call(this),Ly(this)},qg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kg.prototype.Aa=function(){this.g=!1},Kg.prototype.info=function(){};var fc={},pD=null;function Ff(){return pD=pD||new Mr}function Vy(n){zr.call(this,fc.Ma,n)}function Lf(n){const e=Ff();Or(e,new Vy(e,n))}function xo(n,e){zr.call(this,fc.STAT_EVENT,n),this.stat=e}function oi(n){const e=Ff();Or(e,new xo(e,n))}function gD(n,e){zr.call(this,fc.Na,n),this.size=e}function Vf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}fc.Ma="serverreachability",$r(Vy,zr),fc.STAT_EVENT="statevent",$r(xo,zr),fc.Na="timingevent",$r(gD,zr);var By={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Uy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jy(){}function _D(){}jy.prototype.h=null;var qd,pc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gy(){zr.call(this,"d")}function Hy(){zr.call(this,"c")}function Zd(){}function Bf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new qg(this),this.P=$y,this.W=new zg(n=Bg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yg}function Yg(){this.i=null,this.g="",this.h=!1}$r(Gy,zr),$r(Hy,zr),$r(Zd,jy),Zd.prototype.g=function(){return new XMLHttpRequest},Zd.prototype.i=function(){return{}},qd=new Zd;var $y=45e3,Jg={},Qg={};function Wy(n,e,t){n.K=1,n.v=tm(Ro(e)),n.s=t,n.U=!0,Xg(n,null)}function Xg(n,e){n.F=Date.now(),Kd(n),n.A=Ro(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ky(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Yg,n.g=tv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new dD(fr(n.Ia,n,n.g),n.O)),Zg(n.V,n.g,"readystatechange",n.gb),e=n.H?Yb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Lf(1),function tI(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),v=0;v<m.length;v++){var w=m[v].split("=");if(1<w.length){var A=w[0];w=w[1];var M=A.split("_");d=2<=M.length&&"type"==M[1]?d+(A+"=")+w+"&":d+(A+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function iI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function yD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=vD(n,t),i==Qg){4==e&&(n.o=4,oi(14),r=!1),hc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Jg){n.o=4,oi(15),hc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hc(n.j,n.m,i,null),Jd(n,i)}iI(n)&&i!=Qg&&i!=Jg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Jl(e),e.L=!0,oi(11))):(hc(n.j,n.m,t,"[Invalid Chunked Response]"),Bi(n),Yd(n))}function vD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qg:(t=Number(e.substring(t,r)),isNaN(t)?Jg:(r+=1)+t>e.length?Qg:(e=e.substr(r,t),n.C=r+t,e))}function Kd(n){n.Y=Date.now()+n.P,zy(n,n.P)}function zy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vf(fr(n.eb,n),e)}function Uf(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Yd(n){0==n.l.G||n.I||yc(n.l,n)}function Bi(n){Uf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fy(n.W),Ly(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Jd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||TD(t.i,n)))if(t.I=n.N,!n.J&&TD(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Vf(fr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;$a(t),lm(t)}Yl(t),oi(18)}if(1>=Yy(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else so(t,11)}else if((n.J||t.g==n)&&$a(t),!Ey(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const A=w[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=w[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const K=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var l=r.i;!l.g&&(Wr(K,"spdy")||Wr(K,"quic")||Wr(K,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(rm(l,l.h),l.h=null))}if(r.D){const ue=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.sa=ue,En(r.F,r.D,ue))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Dc(r,r.H?r.la:null,r.W),d.J){SD(r.i,d);var m=d,v=r.K;v&&m.setTimeout(v),m.B&&(Uf(m),Kd(m)),r.g=d}else cm(r);0<t.l.length&&ql(t)}else"stop"!=w[0]&&"close"!=w[0]||so(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?so(t,7):ev(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}Lf(4)}catch(w){}}function qy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vy(n)||"string"==typeof n)Dy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(vy(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function sI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function jf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof jf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Gf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Wl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Wl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Wl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Bf.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==Ha(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const A=Ha(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||Bg||this.g&&(this.h.h||this.g.ga()||FD(this.g)))){this.I||4!=A||7==e||Lf(8==e||0>=M?3:2),Uf(this);var t=this.g.ba();this.N=t;t:if(iI(this)){var r=FD(this.g);n="";var i=r.length,l=4==Ha(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bi(this),Yd(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function nI(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ey(m)){var w=m;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,oi(12),Bi(this),Yd(this);break e}hc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jd(this,t)}this.U?(yD(this,A,d),Bg&&this.i&&3==A&&(Zg(this.V,this.W,"tick",this.fb),this.W.start())):(hc(this.j,this.m,d,null),Jd(this,d)),4==A&&Bi(this),this.i&&!this.I&&(4==A?yc(this.l,this):(this.i=!1,Kd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,oi(12)):(this.o=0,oi(13)),Bi(this),Yd(this)}}}catch(A){}},rt.fb=function(){if(this.g){var n=Ha(this.g),e=this.g.ga();this.C<e.length&&(Uf(this),yD(this,n,e),this.i&&4!=n&&Kd(this))}},rt.cancel=function(){this.I=!0,Bi(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Lf(3),oi(17)),Bi(this),this.o=2,Yd(this)):zy(this,this.Y-n)},(rt=jf.prototype).R=function(){Gf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Gf(this),this.g.concat()},rt.get=function(n,e){return Wl(this.h,n)?this.h[n]:e},rt.set=function(n,e){Wl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var em=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof gc){this.g=void 0!==e?e:n.g,$f(this,n.j),this.s=n.s,Wf(this,n.i),zf(this,n.m),this.l=n.l,e=n.h;var t=new qf;t.i=e.i,e.g&&(t.g=new jf(e.g),t.h=e.h),bD(this,t),this.o=n.o}else n&&(t=String(n).match(em))?(this.g=!!e,$f(this,t[1]||"",!0),this.s=oa(t[2]||""),Wf(this,t[3]||"",!0),zf(this,t[4]),this.l=oa(t[5]||"",!0),bD(this,t[6]||"",!0),this.o=oa(t[7]||"")):(this.g=!!e,this.h=new qf(null,this.g))}function Ro(n){return new gc(n)}function $f(n,e,t){n.j=t?oa(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wf(n,e,t){n.i=t?oa(e,!0):e}function zf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bD(n,e,t){e instanceof qf?(n.h=e,function ED(n,e){e&&!n.j&&(qr(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(nm(this,r),Ky(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Qd(e,uI)),n.h=new qf(e,n.g))}function En(n,e,t){n.h.set(e,t)}function tm(n){return En(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function oa(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qd(e,wD,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qd(e,wD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qd(t,"/"==t.charAt(0)?lI:Xd,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qd(t,cI)),n.join("")};var wD=/[#\/\?@]/g,Xd=/[#\?:]/g,lI=/[#\?]/g,uI=/[#\?@]/g,cI=/#/g;function qf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qr(n){n.g||(n.g=new jf,n.h=0,n.i&&function Hf(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nm(n,e){qr(n),e=mc(n,e),Wl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Wl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Gf(n)))}function Zy(n,e){return qr(n),e=mc(n,e),Wl(n.g.h,e)}function Ky(n,e,t){nm(n,e),0<t.length&&(n.i=null,n.g.set(mc(n,e),Fg(t)),n.h+=t.length)}function mc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ID(n){this.l=n||hI,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=qf.prototype).add=function(n,e){qr(this),this.i=null,n=mc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){qr(this),this.g.forEach(function(t,r){Dy(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){qr(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},rt.R=function(n){qr(this);var e=[];if("string"==typeof n)Zy(this,n)&&(e=q1(e,this.g.get(mc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=q1(e,n[t])}return e},rt.set=function(n,e){return qr(this),this.i=null,Zy(this,n=mc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var hI=10;function CD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Yy(n){return n.h?1:n.g?n.g.size:0}function TD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rm(n,e){n.g?n.g.add(e):n.h=e}function SD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fg(n.i)}function ND(){}function bS(){this.g=new ND}function Jy(n,e,t){const r=t||"";try{qy(n,function(i,l){let d=i;Af(i)&&(d=Hg(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function eh(n){this.l=n.$b||null,this.j=n.ib||!1}function Qy(n,e){Mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ID.prototype.cancel=function(){if(this.i=AD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ND.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},ND.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},$r(eh,jy),eh.prototype.g=function(){return new Qy(this.l,this.j)},eh.prototype.i=function(n){return function(){return n}}({}),$r(Qy,Mr);var vs=0;function pI(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function im(n){n.readyState=4,n.l=null,n.j=null,n.A=null,th(n)}function th(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Qy.prototype).open=function(n,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,th(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,im(this)),this.readyState=vs},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,th(this)),this.g&&(this.readyState=3,th(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pI(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?im(this):th(this),3==this.readyState&&pI(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,im(this))},rt.Ta=function(n){this.g&&(this.response=n,im(this))},rt.ha=function(){this.g&&im(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MD=Ot.JSON.parse;function sr(n){Mr.call(this),this.headers=new jf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OD,this.K=this.L=!1}$r(sr,Mr);var OD="",DS=/^https?$/i,xD=["POST","PUT"];function gI(n){return"content-type"==n.toLowerCase()}function sm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,RD(n),om(n)}function RD(n){n.D||(n.D=!0,Or(n,"complete"),Or(n,"error"))}function kD(n){if(n.h&&void 0!==yy&&(!n.C[1]||4!=Ha(n)||2!=n.ba()))if(n.v&&4==Ha(n))cD(n.Fa,0,n);else if(Or(n,"readystatechange"),4==Ha(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(em)[1]||null;if(!i&&Ot.self&&Ot.self.location){var l=Ot.self.location.protocol;i=l.substr(0,l.length-1)}r=!DS.test(i?i.toLowerCase():"")}t=r}if(t)Or(n,"complete"),Or(n,"success");else{n.m=6;try{var d=2<Ha(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",RD(n)}}finally{om(n)}}}function om(n,e){if(n.g){PD(n);const t=n.g,r=n.C[0]?Sf:null;n.g=null,n.C=null,e||Or(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function PD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Ha(n){return n.g?n.g.readyState:0}function FD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zl(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function am(n){let e="";return Iy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):En(n,e,t))}function Kf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nh(n){this.za=0,this.l=[],this.h=new Kg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kf("baseRetryDelayMs",5e3,n),this.$a=Kf("retryDelaySeedMs",1e4,n),this.Ya=Kf("forwardChannelMaxRetries",2,n),this.ra=Kf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ID(n&&n.concurrentRequestLimit),this.Ca=new bS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ev(n){if(um(n),3==n.G){var e=n.V++,t=Ro(n.F);En(t,"SID",n.J),En(t,"RID",e),En(t,"TYPE","terminate"),Kl(n,t),(e=new Bf(n,n.h,e,void 0)).K=2,e.v=tm(Ro(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=tv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Kd(e)}bc(n)}function lm(n){n.g&&(Jl(n),n.g.cancel(),n.g=null)}function um(n){lm(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),$a(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function io(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ql(n)}function ql(n){CD(n.i)||n.m||(n.m=!0,Wg(n.Ha,n),n.C=0)}function Zl(n,e){var t;t=e?e.m:n.V++;const r=Ro(n.F);En(r,"SID",n.J),En(r,"RID",t),En(r,"AID",n.U),Kl(n,r),n.o&&n.s&&zl(r,n.o,n.s),t=new Bf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=bs(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),rm(n.i,t),Wy(t,r,e)}function Kl(n,e){n.j&&qy({},function(t,r){En(e,r,t)})}function bs(n,e,t){t=Math.min(n.l.length,t);var r=n.j?fr(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let w=i[v].h;const A=i[v].g;if(w-=l,0>w)l=Math.max(0,i[v].h-100),m=!1;else try{Jy(A,d,"req"+w+"_")}catch(M){r&&r(A)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function cm(n){n.g||n.u||(n.Y=1,Wg(n.Ga,n),n.A=0)}function Yl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Vf(fr(n.Ga,n),vc(n,n.A)),n.A++,0))}function Jl(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function _c(n){n.g=new Bf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ro(n.oa);En(e,"RID","rpc"),En(e,"SID",n.J),En(e,"CI",n.N?"0":"1"),En(e,"AID",n.U),Kl(n,e),En(e,"TYPE","xmlhttp"),n.o&&n.s&&zl(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=tm(Ro(e)),t.s=null,t.U=!0,Xg(t,n)}function $a(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function yc(n,e){var t=null;if(n.g==e){$a(n),Jl(n),n.g=null;var r=2}else{if(!TD(n.i,e))return;t=e.D,SD(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Or(r=Ff(),new gD(r,t,e,i)),ql(n)}else cm(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Ei(n,e){return!(Yy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Vf(fr(n.Ha,n,e),vc(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:so(n,5);break;case 4:so(n,10);break;case 3:so(n,6);break;default:so(n,2)}}function vc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function so(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=fr(n.jb,n);t||(t=new gc("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||$f(t,"https"),tm(t)),function fI(n,e){const t=new Kg;if(Ot.Image){const r=new Image;r.onload=Qi(Zf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Qi(Zf,t,r,"TestLoadImage: error",!1,e),r.onabort=Qi(Zf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qi(Zf,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else oi(2);n.G=0,n.j&&n.j.va(e),bc(n),um(n)}function bc(n){n.G=0,n.I=-1,n.j&&((0!=AD(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Fg(n.l),n.l.length=0),n.j.ua())}function Dc(n,e,t){let r=function oI(n){return n instanceof gc?Ro(n):new gc(n,void 0)}(t);if(""!=r.i)e&&Wf(r,e+"."+r.i),zf(r,r.m);else{const i=Ot.location;r=function DD(n,e,t,r){var i=new gc(null,void 0);return n&&$f(i,n),e&&Wf(i,e),t&&zf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Iy(n.aa,function(i,l){En(r,l,i)}),t=n.sa,(e=n.D)&&t&&En(r,e,t),En(r,"VER",n.ma),Kl(n,r),r}function tv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sr(t&&n.Ba&&!n.qa?new eh({ib:!0}):n.qa)).L=n.H,e}function nv(){}function Yf(){if(Of&&!(10<=Number(yS)))throw Error("Environmental error: no available transport.")}function Xi(n,e){Mr.call(this),this.g=new nh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ey(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ey(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wc(this)}function rv(n){Gy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iv(){Hy.call(this),this.status=1}function wc(n){this.g=n}(rt=sr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qd.g(),this.C=function mD(n){return n.h||(n.h=n.i())}(this.u?this.u:qd),this.g.onreadystatechange=fr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void sm(this,l)}n=t||"";const i=new jf(this.headers);r&&qy(r,function(l,d){i.set(d,l)}),r=function wy(n){e:{var e=gI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=Pg(xD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PD(this),0<this.B&&((this.K=function Xy(n){return Of&&function _S(){return function gS(n){var e=mS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Nf(String(Sy)).split("."),t=Nf("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Mf(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Mf(0==i[2].length,0==l[2].length)||Mf(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fr(this.pa,this)):this.A=cD(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){sm(this,l)}},rt.pa=function(){void 0!==yy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Or(this,"complete"),Or(this,"abort"),om(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),om(this,!0)),sr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?kD(this):this.cb())},rt.cb=function(){kD(this)},rt.ba=function(){try{return 2<Ha(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MD(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=nh.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bf(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Yb(l),Qb(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bs(this,i,e),En(t=Ro(this.F),"RID",n),En(t,"CVER",22),this.D&&En(t,"X-HTTP-Session-Id",this.D),Kl(this,t),this.o&&l&&zl(t,this.o,l),rm(this.i,i),this.Ra&&En(t,"TYPE","init"),this.ja?(En(t,"$req",e),En(t,"SID","null"),i.$=!0,Wy(i,t,null)):Wy(i,t,e),this.G=2}}else 3==this.G&&(n?Zl(this,n):0==this.l.length||CD(this.i)||Zl(this))},rt.Ga=function(){if(this.u=null,_c(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Vf(fr(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,oi(10),lm(this),_c(this))},rt.ab=function(){null!=this.v&&(this.v=null,lm(this),Yl(this),oi(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),oi(2)):(this.h.info("Failed to ping google.com"),oi(1))},(rt=nv.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},Yf.prototype.g=function(n,e){return new Xi(n,e)},$r(Xi,Mr),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Wg(fr(n.hb,n,e))),oi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Dc(n,null,n.W),ql(n)},Xi.prototype.close=function(){ev(this.g)},Xi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,io(this.g,e)}else this.v?((e={}).__data__=Hg(n),io(this.g,e)):io(this.g,n)},Xi.prototype.M=function(){this.g.j=null,delete this.j,ev(this.g),delete this.g,Xi.Z.M.call(this)},$r(rv,Gy),$r(iv,Hy),$r(wc,nv),wc.prototype.xa=function(){Or(this.g,"a")},wc.prototype.wa=function(n){Or(this.g,new rv(n))},wc.prototype.va=function(n){Or(this.g,new iv(n))},wc.prototype.ua=function(){Or(this.g,"b")},Yf.prototype.createWebChannel=Yf.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,By.NO_ERROR=0,By.TIMEOUT=8,By.HTTP_ERROR=6,Uy.COMPLETE="complete",_D.EventType=pc,pc.OPEN="a",pc.CLOSE="b",pc.ERROR="c",pc.MESSAGE="d",Mr.prototype.listen=Mr.prototype.N,sr.prototype.listenOnce=sr.prototype.O,sr.prototype.getLastError=sr.prototype.La,sr.prototype.getLastErrorCode=sr.prototype.Da,sr.prototype.getStatus=sr.prototype.ba,sr.prototype.getResponseJson=sr.prototype.Qa,sr.prototype.getResponseText=sr.prototype.ga,sr.prototype.send=sr.prototype.ea;var LD=ja.createWebChannelTransport=function(){return new Yf},VD=ja.getStatEventTarget=function(){return Ff()},sv=ja.ErrorCode=By,BD=ja.EventType=Uy,mI=ja.Event=fc,ov=ja.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UD=ja.FetchXmlHttpFactory=eh,dm=ja.WebChannel=_D,_I=ja.XhrIo=sr;const av="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let Ec="9.6.10";const Ql=new Hr.Yd("@firebase/firestore");function lv(){return Ql.logLevel}function Le(n,...e){if(Ql.logLevel<=Hr.in.DEBUG){const t=e.map(uv);Ql.debug(`Firestore (${Ec}): ${n}`,...t)}}function Jn(n,...e){if(Ql.logLevel<=Hr.in.ERROR){const t=e.map(uv);Ql.error(`Firestore (${Ec}): ${n}`,...t)}}function Ic(n,...e){if(Ql.logLevel<=Hr.in.WARN){const t=e.map(uv);Ql.warn(`Firestore (${Ec}): ${n}`,...t)}}function uv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function Nt(n,e){n||st()}function qe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class jD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vI{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Zr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const w=d;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},v=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Zr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new Cc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new ai(e)}}class GD{constructor(e,t,r){this.type="FirstParty",this.user=ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class hm{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new GD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new HD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function bI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ds.A=-1;class WD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bI(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function Tc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function zD(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new Qn(0,0))}static max(){return new wt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jf{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rn extends Jf{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rn(t)}static emptyPath(){return new rn([])}}const Qf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Jf{construct(e,t,r){return new xr(e,t,r)}static isValidIdentifier(e){return Qf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(l(),i++)}if(l(),d)throw new Me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(t)}static emptyPath(){return new xr([])}}class Xl{constructor(e){this.fields=e,e.sort(xr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const gm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=gm.exec(n);if(Nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ih(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function dv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mm(n){const e=n.mapValue.fields.__previous_value__;return dv(e)?mm(e):e}function Sc(n){const e=ko(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class qD{constructor(e,t,r,i,l,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class aa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}function Wa(n){return null==n}function sh(n){return 0===n&&1/n==-1/0}function hv(n){return"number"==typeof n&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(e){this.path=e}static fromPath(e){return new je(rn.fromString(e))}static fromName(e){return new je(rn.fromString(e).popFirst(5))}static empty(){return new je(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new rn(e.slice()))}}const fv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZD={nullValue:"NULL_VALUE"};function eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:mv(n)?9:10:st()}function Po(n,e){if(n===e)return!0;const t=eu(n);if(t!==eu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sc(n).isEqual(Sc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=ko(r.timestampValue),d=ko(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ih(n.bytesValue).isEqual(ih(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pn(r.geoPointValue.latitude)===Pn(i.geoPointValue.latitude)&&Pn(r.geoPointValue.longitude)===Pn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pn(r.integerValue)===Pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Pn(r.doubleValue),d=Pn(i.doubleValue);return l===d?sh(l)===sh(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Tc(n.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(fm(l)!==fm(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!Po(l[m],d[m])))return!1;return!0}(n,e);default:return st()}var i}function Ac(n,e){return void 0!==(n.values||[]).find(t=>Po(t,e))}function za(n,e){if(n===e)return 0;const t=eu(n),r=eu(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Pn(i.integerValue||i.doubleValue),m=Pn(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return KD(n.timestampValue,e.timestampValue);case 4:return KD(Sc(n),Sc(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=ih(i),m=ih(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),m=l.split("/");for(let v=0;v<d.length&&v<m.length;v++){const w=qt(d[v],m[v]);if(0!==w)return w}return qt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=qt(Pn(i.latitude),Pn(l.latitude));return 0!==d?d:qt(Pn(i.longitude),Pn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],m=l.values||[];for(let v=0;v<d.length&&v<m.length;++v){const w=za(d[v],m[v]);if(w)return w}return qt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},m=Object.keys(d),v=l.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let A=0;A<m.length&&A<w.length;++A){const M=qt(m[A],w[A]);if(0!==M)return M;const F=za(d[m[A]],v[w[A]]);if(0!==F)return F}return qt(m.length,w.length)}(n.mapValue,e.mapValue);default:throw st()}}function KD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=ko(n),r=ko(e),i=qt(t.seconds,r.seconds);return 0!==i?i:qt(t.nanos,r.nanos)}function Nc(n){return _m(n)}function _m(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ko(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ih(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=_m(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of i)d?d=!1:l+=",",l+=`${m}:${_m(r.fields[m])}`;return l+"}"}(n.mapValue):st();var e}function tu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oh(n){return!!n&&"integerValue"in n}function ah(n){return!!n&&"arrayValue"in n}function pv(n){return!!n&&"nullValue"in n}function gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xf(n){return!!n&&"mapValue"in n}function lh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _v(n,e){return void 0===n?e:void 0===e||za(n,e)>0?n:e}function yv(n,e){return void 0===n?e:void 0===e||za(n,e)<0?n:e}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(t)}setAll(e){let t=xr.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=lh(d):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rh(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Ui(lh(this.value))}}function YD(n){const e=[];return rh(n.fields,(t,r)=>{const i=new xr([t]);if(Xf(r)){const l=YD(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Xl(e)}class Nn{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Nn(e,0,wt.min(),wt.min(),Ui.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,wt.min(),r,0)}static newNoDocument(e,t){return new Nn(e,2,t,wt.min(),Ui.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,wt.min(),Ui.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ep{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function vv(n){return n.fields.find(e=>2===e.kind)}function Fn(n){return n.fields.filter(e=>2!==e.kind)}ep.UNKNOWN_ID=-1;class tp{constructor(e,t){this.fieldPath=e,this.kind=t}}class np{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new np(0,qa.min())}}function JD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new qa(i,je.empty(),e)}function QD(n){return new qa(n.readTime,n.key,-1)}class qa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qa(wt.min(),je.empty(),-1)}static max(){return new qa(wt.max(),je.empty(),-1)}}function XD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}class ew{constructor(e,t=null,r=[],i=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=m,this.P=null}}function Mc(n,e=null,t=[],r=[],i=null,l=null,d=null){return new ew(n,e,t,r,i,l,d)}function Oc(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Nc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Wa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nc(r)).join(",")),e.P=t}return e.P}function uh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!wI(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Po(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iw(n.startAt,e.startAt)&&iw(n.endAt,e.endAt)}function ym(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rp(n,e){return n.filters.filter(t=>t instanceof Ii&&t.field.isEqual(e))}class Ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new bv(e,t,r):"array-contains"===t?new nw(e,r):"in"===t?new ua(e,r):"not-in"===t?new Fo(e,r):"array-contains-any"===t?new Lo(e,r):new Ii(e,t,r)}static V(e,t,r){return"in"===t?new Dv(e,r):new la(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(za(t,this.value)):null!==t&&eu(this.value)===eu(t)&&this.v(za(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bv extends Ii{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.v(t)}}class Dv extends Ii{constructor(e,t){super(e,"in",t),this.keys=tw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class la extends Ii{constructor(e,t){super(e,"not-in",t),this.keys=tw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class nw extends Ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ah(t)&&Ac(t.arrayValue,this.value)}}class ua extends Ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ac(this.value.arrayValue,t)}}class Fo extends Ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ac(this.value.arrayValue,t)}}class Lo extends Ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}class Za{constructor(e,t){this.position=e,this.inclusive=t}}class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function wI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function rw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?je.comparator(je.fromName(d.referenceValue),t.key):za(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function iw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Po(n.position[t],e.position[t]))return!1;return!0}class Ka{constructor(e,t=null,r=[],i=[],l=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=v,this.D=null,this.C=null}}function vm(n,e,t,r,i,l,d,m){return new Ka(n,e,t,r,i,l,d,m)}function ca(n){return new Ka(n)}function bm(n){return!Wa(n.limit)&&"F"===n.limitType}function ip(n){return!Wa(n.limit)&&"L"===n.limitType}function wv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dm(n){for(const e of n.filters)if(e.S())return e.field;return null}function wm(n){return null!==n.collectionGroup}function Ya(n){const e=qe(n);if(null===e.D){e.D=[];const t=Dm(e),r=wv(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new xc(t)),e.D.push(new xc(xr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new xc(xr.keyField(),l))}}}return e.D}function oo(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=Mc(e.path,e.collectionGroup,Ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Ya(e))t.push(new xc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Za(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Za(e.startAt.position,!e.startAt.inclusive):null;e.C=Mc(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Ev(n,e,t){return new Ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ch(n,e){return uh(oo(n),oo(e))&&n.limitType===e.limitType}function Iv(n){return`${Oc(oo(n))}|lt:${n.limitType}`}function dh(n){return`Query(target=${function DI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Nc(r.value)}`;var r}).join(", ")}]`),Wa(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Nc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Nc(t)).join(",")),`Target(${e})`}(oo(n))}; limitType=${n.limitType})`}function Em(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const m=rw(i,l,d);return i.inclusive?m<=0:m<0}(t.startAt,Ya(t),r)||t.endAt&&!function(i,l,d){const m=rw(i,l,d);return i.inclusive?m>=0:m>0}(t.endAt,Ya(t),r)));var t,r}function Cv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Tv(n){return(e,t)=>{let r=!1;for(const i of Ya(n)){const l=sw(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function sw(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(i,l,d){const m=l.data.field(i),v=d.data.field(i);return null!==m&&null!==v?za(m,v):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function Sv(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function Av(n){return{integerValue:""+n}}function Nv(n,e){return hv(e)?Av(e):Sv(n,e)}class sp{constructor(){this._=void 0}}function EI(n,e,t){return n instanceof hh?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Rc?aw(n,e):n instanceof kc?lw(n,e):function(r,i){const l=ow(r,i),d=uw(l)+uw(r.k);return oh(l)&&oh(r.k)?Av(d):Sv(r.M,d)}(n,e)}function II(n,e,t){return n instanceof Rc?aw(n,e):n instanceof kc?lw(n,e):t}function ow(n,e){return n instanceof fh?oh(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class hh extends sp{}class Rc extends sp{constructor(e){super(),this.elements=e}}function aw(n,e){const t=cw(e);for(const r of n.elements)t.some(i=>Po(i,r))||t.push(r);return{arrayValue:{values:t}}}class kc extends sp{constructor(e){super(),this.elements=e}}function lw(n,e){let t=cw(e);for(const r of n.elements)t=t.filter(i=>!Po(i,r));return{arrayValue:{values:t}}}class fh extends sp{constructor(e,t){super(),this.M=e,this.k=t}}function uw(n){return Pn(n.integerValue||n.doubleValue)}function cw(n){return ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class op{constructor(e,t){this.field=e,this.transform=t}}class TI{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Im(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cm{}function SI(n,e,t){n instanceof ph?function(r,i,l){const d=r.value.clone(),m=Rv(r.fieldTransforms,i,l.transformResults);d.setAll(m),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof nu?function(r,i,l){if(!Im(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=Rv(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(xv(r)),m.setAll(d),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tm(n,e,t){var i;n instanceof ph?function(r,i,l){if(!Im(r.precondition,i))return;const d=r.value.clone(),m=kv(r.fieldTransforms,l,i);d.setAll(m),i.convertToFoundDocument(Ov(i),d).setHasLocalMutations()}(n,e,t):n instanceof nu?function(r,i,l){if(!Im(r.precondition,i))return;const d=kv(r.fieldTransforms,l,i),m=i.data;m.setAll(xv(r)),m.setAll(d),i.convertToFoundDocument(Ov(i),m).setHasLocalMutations()}(n,e,t):Im(n.precondition,i=e)&&i.convertToNoDocument(wt.min())}function dw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=ow(r.transform,i||null);null!=l&&(null==t&&(t=Ui.empty()),t.set(r.field,l))}return t||null}function Mv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Tc(t,r,(i,l)=>function CI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rc&&r instanceof Rc||t instanceof kc&&r instanceof kc?Tc(t.elements,r.elements,Po):t instanceof fh&&r instanceof fh?Po(t.k,r.k):t instanceof hh&&r instanceof hh);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Ov(n){return n.isFoundDocument()?n.version:wt.min()}class ph extends Cm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class nu extends Cm{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function xv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Rv(n,e,t){const r=new Map;Nt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,m=e.data.field(l.field);r.set(l.field,II(d,m,t[i]))}return r}function kv(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,EI(l,d,e))}return r}class Pc extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Sm extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Fc{constructor(e){this.count=e}}var gr,en;function Lc(n){switch(n){default:return st();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function AI(n){if(void 0===n)return Jn("GRPC error has no .code"),le.UNKNOWN;switch(n){case gr.OK:return le.OK;case gr.CANCELLED:return le.CANCELLED;case gr.UNKNOWN:return le.UNKNOWN;case gr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case gr.INTERNAL:return le.INTERNAL;case gr.UNAVAILABLE:return le.UNAVAILABLE;case gr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case gr.NOT_FOUND:return le.NOT_FOUND;case gr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case gr.ABORTED:return le.ABORTED;case gr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case gr.DATA_LOSS:return le.DATA_LOSS;default:return st()}}(en=gr||(gr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rh(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return pm(this.inner)}size(){return this.innerSize}}class mr{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}}class ap{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Kr.RED,this.left=null!=i?i:Kr.EMPTY,this.right=null!=l?l:Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Kr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Kr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bt(this.data.getIterator())}getIteratorFrom(e){return new bt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ln(this.comparator);return t.data=e,t}}class bt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gh(n){return n.hasNext()?n.getNext():void 0}const NI=new mr(je.comparator);function ao(){return NI}const Am=new mr(je.comparator);function Pv(){return Am}function ru(){return new da(n=>n.toString(),(n,e)=>n.isEqual(e))}const Nm=new mr(je.comparator),Xn=new Ln(je.comparator);function mn(...n){let e=Xn;for(const t of n)e=e.add(t);return e}const hw=new Ln(qt);function Mm(){return hw}class lp{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t)),new lp(wt.min(),r,Mm(),ao(),mn())}}class mh{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mh(Rr.EMPTY_BYTE_STRING,t,mn(),mn(),mn())}}class up{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Fv{constructor(e,t){this.targetId=e,this.$=t}}class Lv{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fw{constructor(){this.B=0,this.L=_h(),this.U=Rr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=mn(),t=mn(),r=mn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new mh(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=_h()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class MI{constructor(e){this.nt=e,this.st=new Map,this.it=ao(),this.rt=pw(),this.ot=new Ln(qt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(ym(l))if(0===r){const d=new je(l.path);this.ct(t,d,Nn.newNoDocument(d,wt.min()))}else Nt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const m=this.wt(d);if(m){if(l.current&&ym(m.target)){const v=new je(m.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,Nn.newNoDocument(v,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=mn();this.rt.forEach((l,d)=>{let m=!0;d.forEachWhile(v=>{const w=this.wt(v);return!w||2===w.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new lp(e,t,this.ot,this.it,r);return this.it=ao(),this.rt=pw(),this.ot=new Ln(qt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new fw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ln(qt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new fw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function pw(){return new mr(je.comparator)}function _h(){return new mr(je.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},xI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class RI{constructor(e,t){this.databaseId=e,this.N=t}}function iu(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(n,e){return n.N?e.toBase64():e.toUint8Array()}function gw(n,e){return iu(n,e.toTimestamp())}function kr(n){return Nt(!!n),wt.fromTimestamp(function(e){const t=ko(e);return new Qn(t.seconds,t.nanos)}(n))}function Bv(n,e){return(t=n,new rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yh(n){const e=rn.fromString(n);return Nt(ww(e)),e}function Ja(n,e){return Bv(n.databaseId,e.path)}function ha(n,e){const t=yh(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(jv(t))}function Uv(n,e){return Bv(n.databaseId,e)}function mw(n){const e=yh(n);return 4===e.length?rn.emptyPath():jv(e)}function vh(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jv(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Gv(n,e,t){return{name:Ja(n,e),fields:t.value.mapValue.fields}}function _w(n,e,t){const r=ha(n,e.name),i=kr(e.updateTime),l=new Ui({mapValue:{fields:e.fields}}),d=Nn.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function cp(n,e){let t;if(e instanceof ph)t={update:Gv(n,e.key,e.value)};else if(e instanceof Pc)t={delete:Ja(n,e.key)};else if(e instanceof nu)t={update:Gv(n,e.key,e.data),updateMask:UI(e.fieldMask)};else{if(!(e instanceof Sm))return st();t={verify:Ja(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Rc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof fh)return{fieldPath:l.field.canonicalString(),increment:d.k};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gw(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function vw(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?pr.updateTime(kr(i.updateTime)):void 0!==i.exists?pr.exists(i.exists):pr.none():pr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let m=null;"setToServerValue"in d?(Nt("REQUEST_TIME"===d.setToServerValue),m=new hh):"appendMissingElements"in d?m=new Rc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new kc(d.removeAllFromArray.values||[]):"increment"in d?m=new fh(l,d.increment):st();const v=xr.fromServerFormat(d.fieldPath);return new op(v,m)}(n,i)):[];var i;if(e.update){const i=ha(n,e.update.name),l=new Ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Xl((e.updateMask.fieldPaths||[]).map(w=>xr.fromServerFormat(w)));return new nu(i,l,d,t,r)}return new ph(i,l,t,r)}if(e.delete){const i=ha(n,e.delete);return new Pc(i,t)}if(e.verify){const i=ha(n,e.verify);return new Sm(i,t)}return st()}function PI(n,e){return{documents:[Uv(n,e.path)]}}function FI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Uv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Uv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const w=v.map(A=>function(M){if("=="===M.op){if(gv(M.value))return{unaryFilter:{field:fa(M.field),op:"IS_NAN"}};if(pv(M.value))return{unaryFilter:{field:fa(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(gv(M.value))return{unaryFilter:{field:fa(M.field),op:"IS_NOT_NAN"}};if(pv(M.value))return{unaryFilter:{field:fa(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(M.field),op:Dw(M.op),value:M.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(v){if(0!==v.length)return v.map(w=>{return{field:fa((A=w).field),direction:LI(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.N||Wa(w)?w:{value:w});var w,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function Hv(n){let e=mw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Nt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=bw(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new xc(bh((M=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(A){let M;return M="object"==typeof A?A.value:A,Wa(M)?null:M}(t.limit));let v=null;var A;t.startAt&&(v=new Za((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new Za(A.values||[],!A.before)}(t.endAt)),vm(e,i,d,l,m,"F",v,w)}function bw(n){return n?void 0!==n.unaryFilter?[BI(n)]:void 0!==n.fieldFilter?[VI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>bw(e)).reduce((e,t)=>e.concat(t)):st():[]}function LI(n){return OI[n]}function Dw(n){return xI[n]}function fa(n){return{fieldPath:n.canonicalString()}}function bh(n){return xr.fromServerFormat(n.fieldPath)}function VI(n){return Ii.create(bh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function BI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bh(n.unaryFilter.field);return Ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bh(n.unaryFilter.field);return Ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bh(n.unaryFilter.field);return Ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=bh(n.unaryFilter.field);return Ii.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function UI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ww(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Pr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ew(e)),e=jI(n.get(t),e);return Ew(e)}function jI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Ew(n){return n+"\x01\x01"}function Ci(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),rn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&st(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:st()}l=d+2}return new rn(r)}const Iw=["userId","batchId"];function dp(n,e){return[n,Pr(e)]}function Cw(n,e,t){return[n,Pr(e),t]}const Tw={},GI=["prefixPath","collectionGroup","readTime","documentId"],Sw=["prefixPath","collectionGroup","documentId"],HI=["collectionGroup","readTime","prefixPath","documentId"],$v=["canonicalId","targetId"],$I=["targetId","path"],Aw=["path","targetId"],Nw=["collectionId","parent"],WI=["indexId","uid"],zI=["uid","sequenceNumber"],qI=["indexId","uid","arrayValue","directionalValue","documentKey"],Wv=["indexId","uid","documentKey"],ZI=["userId","collectionPath","documentId"],Mw=["userId","collectionPath","largestBatchId"],KI=["userId","collectionGroup","largestBatchId"],Ow=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YI=[...Ow,"documentOverlays"],xw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JI=[...xw,"indexConfiguration","indexState","indexEntries"],Rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,l=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++l,d&&l===i&&t()},v=>r(v))}),d=!0,l===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class hp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Zr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new fp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=pp(r.target.error);this.At.reject(new fp(e,i))}}static open(e,t,r,i){try{return new hp(t,e.transaction(i,r))}catch(l){throw new fp(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fw(t)}}class lo{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===lo.Vt((0,zt.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Vc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,zt.hl)())return!1;if(lo.St())return!0;const e=(0,zt.z$)(),t=lo.Vt(e),r=0<t&&t<10,i=lo.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new fp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Me(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new fp(e,m))},l.onupgradeneeded=d=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const v=hp.open(l.db,e,d?"readonly":"readwrite",r),w=i(v).next(A=>(v.bt(),A)).catch(A=>(v.abort(A),ge.reject(A))).toPromise();return w.catch(()=>{}),yield v.Rt,w}catch(v){const w="FirebaseError"!==v.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",v.message,"Retrying:",w),l.close(),!w)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Pw{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Vc(this.Ft.delete())}}class fp extends Me{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qa(n){return"IndexedDbTransactionError"===n.name}class Fw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vc(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Vc(this.store.add(e))}get(e){return Vc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Vc(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Vc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Gt(i,(d,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ge((l,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(l,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new ge((r,i)=>{t.onerror=l=>{const d=pp(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new ge((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const v=new Pw(m),w=t(m.primaryKey,m.value,v);if(w instanceof ge){const A=w.catch(M=>(v.done(),ge.reject(M)));r.push(A)}v.isDone?i():null===v.Lt?m.continue():m.continue(v.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vc(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=pp(r.target.error);t(i)}})}let Lw=!1;function pp(n){const e=lo.Vt((0,zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lw||(Lw=!0,setTimeout(()=>{throw r},0)),r}}return n}class xm extends kw{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=qe(n);return lo.xt(t.Ht,e)}class gp{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&SI(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Tm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Tm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,(t,r)=>Mv(t,r))&&Tc(this.baseMutations,e.baseMutations,(t,r)=>Mv(t,r))}}class zv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Nt(e.mutations.length===r.length);let i=Nm;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new zv(e,t,r,i)}}class qv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pa{constructor(e,t,r,i,l=wt.min(),d=wt.min(),m=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vw{constructor(e){this.Jt=e}}function Uw(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ja(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:iu(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var i,l;return r}function mp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function su(n){const e=new Qn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function _p(n,e){const t=(e.baseMutations||[]).map(l=>vw(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>vw(n.Jt,l)),i=Qn.fromMillis(e.localWriteTimeMs);return new gp(e.batchId,i,t,r)}function yp(n){const e=su(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?su(n.lastLimboFreeSnapshotVersion):wt.min();let r;var i;return void 0!==n.query.documents?(Nt(1===(i=n.query).documents.length),r=oo(ca(mw(i.documents[0])))):r=oo(Hv(n.query)),new pa(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function vp(n,e){const t=Bc(e.snapshotVersion),r=Bc(e.lastLimboFreeSnapshotVersion);let i;i=ym(e.target)?PI(n.Jt,e.target):FI(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Zv(n){const e=Hv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ev(e,e.limit,"L"):e}function ou(n,e){return new qv(e.largestBatchId,vw(n.Jt,e.overlayMutation))}function Dh(n,e){const t=e.path.lastSegment();return[n,Pr(e.path.popLast()),t]}class QI{getBundleMetadata(e,t){return XI(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:su(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return XI(e).put({bundleId:(r=t).id,createTime:Bc(kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Kv(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Zv(i.bundledQuery),readTime:su(i.readTime)};var i})}saveNamedQuery(e,t){return Kv(e).put({name:(r=t).name,readTime:Bc(kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function XI(n){return Fr(n,"bundles")}function Kv(n){return Fr(n,"namedQueries")}class Yv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Yv(e,t.uid||"")}getOverlay(e,t){return bp(e).get(Dh(this.userId,t)).next(r=>r?ou(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const m=new qv(t,d);i.push(this.Xt(e,m))}),ge.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Pr(d.getCollectionPath())));const l=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(bp(e).Qt("collectionPathOverlayIndex",m))}),ge.waitFor(l)}getOverlaysForCollection(e,t,r){const i=ru(),l=Pr(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return bp(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const w=ou(this.M,v);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=ru();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bp(e).Wt({index:"collectionGroupOverlayIndex",range:m},(v,w,A)=>{const M=ou(this.M,w);l.size()<i||M.largestBatchId===d?(l.set(M.getKey(),M),d=M.largestBatchId):A.done()}).next(()=>l)}Xt(e,t){return bp(e).put(function(r,i,l){const[d,m,v]=Dh(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:cp(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function bp(n){return Fr(n,"documentOverlays")}class wh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Pn(e.integerValue));else if("doubleValue"in e){const r=Pn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),sh(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ih(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?mv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):st()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),je.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function eC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Jv(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=eC(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}wh.fe=new wh;class jw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=Jv(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=Jv(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Qv{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Rm{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class au{constructor(){this.De=new jw,this.Ce=new Qv(this.De),this.xe=new Rm(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class lu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new lu(this.indexId,this.documentKey,this.arrayValue,r)}}function uu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Xv(n.arrayValue,e.arrayValue),0!==t?t:(t=Xv(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function Xv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=vv(e);if(void 0!==t&&!this.Be(t))return!1;const r=Fn(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class nC{constructor(){this.qe=new Dp}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class Dp{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ln(rn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(rn.comparator)).toArray()}}const km=new Uint8Array(0);class TS{constructor(e){this.user=e,this.Ge=new Dp,this.Ke=new da(t=>Oc(t),(t,r)=>uh(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:Pr(i)};return Gw(e).put(l)}return ge.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[zD(t),""],!1,!0);return Gw(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Ci(d.parent))}return r})}addFieldIndex(e,t){const r=Xa(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Xa(e),i=Ep(e),l=wp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=wp(e);let i=!0;const l=new Map;return ge.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{i&&(i=!!m),l.set(d,m)})).next(()=>{if(i){let d=mn();return ge.forEach(l,(m,v)=>{var w;Le("IndexedDbIndexManager",`Using index ${w=m,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Pe=>`${Pe.fieldPath}:${Pe.kind}`).join(",")}`} to execute ${Oc(t)}`);const A=function(Pe,mt){const $e=vv(mt);if(void 0===$e)return null;for(const Ye of rp(Pe,$e.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(v,m),M=function(Pe,mt){const $e=new Map;for(const Ye of Fn(mt))for(const Je of rp(Pe,Ye.fieldPath))switch(Je.op){case"==":case"in":$e.set(Ye.fieldPath.canonicalString(),Je.value);break;case"not-in":case"!=":return $e.set(Ye.fieldPath.canonicalString(),Je.value),Array.from($e.values())}return null}(v,m),F=function(Pe,mt){const $e=[];let Ye=!0;for(const Zt of Fn(mt)){let Bt,$n=!0;for(const Jt of rp(Pe,Zt.fieldPath)){let kt,Si=!0;switch(Jt.op){case"<":case"<=":kt="nullValue"in(Je=Jt.value)?ZD:"booleanValue"in Je?{booleanValue:!1}:"integerValue"in Je||"doubleValue"in Je?{doubleValue:NaN}:"timestampValue"in Je?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Je?{stringValue:""}:"bytesValue"in Je?{bytesValue:""}:"referenceValue"in Je?tu(aa.empty(),je.empty()):"geoPointValue"in Je?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Je?{arrayValue:{}}:"mapValue"in Je?{mapValue:{}}:st();break;case"==":case"in":case">=":kt=Jt.value;break;case">":kt=Jt.value,Si=!1;break;case"!=":case"not-in":kt=ZD}_v(Bt,kt)===kt&&(Bt=kt,$n=Si)}if(null!==Pe.startAt)for(let Jt=0;Jt<Pe.orderBy.length;++Jt)if(Pe.orderBy[Jt].field.isEqual(Zt.fieldPath)){const kt=Pe.startAt.position[Jt];_v(Bt,kt)===kt&&(Bt=kt,$n=Pe.startAt.inclusive);break}if(void 0===Bt)return null;$e.push(Bt),Ye&&(Ye=$n)}var Je;return new Za($e,Ye)}(v,m),B=function(Pe,mt){const $e=[];let Ye=!0;for(const Zt of Fn(mt)){let Bt,$n=!0;for(const Jt of rp(Pe,Zt.fieldPath)){let kt,Si=!0;switch(Jt.op){case">=":case">":kt="nullValue"in(Je=Jt.value)?{booleanValue:!1}:"booleanValue"in Je?{doubleValue:NaN}:"integerValue"in Je||"doubleValue"in Je?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Je?{stringValue:""}:"stringValue"in Je?{bytesValue:""}:"bytesValue"in Je?tu(aa.empty(),je.empty()):"referenceValue"in Je?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Je?{arrayValue:{}}:"arrayValue"in Je?{mapValue:{}}:"mapValue"in Je?fv:st(),Si=!1;break;case"==":case"in":case"<=":kt=Jt.value;break;case"<":kt=Jt.value,Si=!1;break;case"!=":case"not-in":kt=fv}yv(Bt,kt)===kt&&(Bt=kt,$n=Si)}if(null!==Pe.endAt)for(let Jt=0;Jt<Pe.orderBy.length;++Jt)if(Pe.orderBy[Jt].field.isEqual(Zt.fieldPath)){const kt=Pe.endAt.position[Jt];yv(Bt,kt)===kt&&(Bt=kt,$n=Pe.endAt.inclusive);break}if(void 0===Bt)return null;$e.push(Bt),Ye&&(Ye=$n)}var Je;return new Za($e,Ye)}(v,m),K=this.je(m,v,F),ue=this.je(m,v,B),Oe=this.We(m,v,M),Xe=this.ze(m.indexId,A,K,!!F&&F.inclusive,ue,!!B&&B.inclusive,Oe);return ge.forEach(Xe,Pe=>r.Kt(Pe,t.limit).next(mt=>{mt.forEach($e=>{d=d.add(new je(Ci($e.documentKey)))})}))}).next(()=>d)}return ge.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,l,d,m){const v=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),w=v/(null!=t?t.length:1),A=[];for(let M=0;M<v;++M){const F=t?this.He(t[M/w]):km,B=r?this.Je(e,F,r[M%w],i):this.Ye(e),K=l?this.Xe(e,F,l[M%w],d):this.Ye(e+1);A.push(...this.createRange(B,K,m.map(ue=>this.Je(e,F,ue,!0))))}return A}Je(e,t,r,i){const l=new lu(e,je.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new lu(e,je.empty(),t,r);return i?l.ke():l}Ye(e){return new lu(e,je.empty(),km,km)}getFieldIndex(e,t){const r=new tC(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const d=l.filter(m=>r.$e(m));return d.sort((m,v)=>v.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new au;for(const i of Fn(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);wh.fe.Zt(l,d)}return r.Se()}He(e){const t=new au;return wh.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new au);let l=0;for(const d of Fn(e)){const m=r[l++];for(const v of i)if(this.tn(t,d.fieldPath)&&ah(m))i=this.en(i,d,m);else{const w=v.Ne(d.kind);wh.fe.Zt(m,w)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of i){const v=new au;v.seed(m.Se()),wh.fe.Zt(d,v.Ne(t.kind)),l.push(v)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof Ii&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Xa(e),i=Ep(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return ge.forEach(l,m=>i.get([m.indexId,this.uid]).next(v=>{d.push(function(w,A){const M=A?new np(A.sequenceNumber,new qa(su(A.readTime),new je(Ci(A.documentKey)),A.largestBatchId)):np.empty(),F=w.fields.map(([B,K])=>new tp(xr.fromServerFormat(B),K));return new ep(w.indexId,w.collectionGroup,F,M)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:qt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Xa(e),l=Ep(e);return this.sn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ge.forEach(m,v=>{return l.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Bc((F=r).readTime),documentKey:Pr(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?ge.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),ge.forEach(m,v=>this.rn(e,i,v).next(w=>{const A=this.on(l,v);return w.isEqual(A)?ge.resolve():this.un(e,l,w,A)}))))})}an(e,t,r){return wp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Pr(t.key.path)})}cn(e,t,r){return wp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Pr(t.key.path)])}rn(e,t,r){const i=wp(e);let l=new Ln(uu);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Pr(t.path)])},(d,m)=>{l=l.add(new lu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new Ln(uu);const i=this.Ze(t,e);if(null==i)return r;const l=vv(t);if(null!=l){const d=e.data.field(l.fieldPath);if(ah(d))for(const m of d.arrayValue.values||[])r=r.add(new lu(t.indexId,e.key,this.He(m),i))}else r=r.add(new lu(t.indexId,e.key,km,i));return r}un(e,t,r,i){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,m,v,w,A){const M=d.getIterator(),F=m.getIterator();let B=gh(M),K=gh(F);for(;B||K;){let ue=!1,Oe=!1;if(B&&K){const Xe=v(B,K);Xe<0?Oe=!0:Xe>0&&(ue=!0)}else null!=B?Oe=!0:ue=!0;ue?(w(K),K=gh(F)):Oe?(A(B),B=gh(M)):(B=gh(M),K=gh(F))}}(r,i,uu,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),ge.waitFor(l)}sn(e){let t=1;return Ep(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>uu(d,m)).filter((d,m,v)=>!m||0!==uu(d,v[m-1]));const i=[];i.push(e);for(const d of r){const m=uu(d,e),v=uu(d,t);if(0===m)i[0]=e.ke();else if(m>0&&v<0)i.push(d),i.push(d.ke());else if(v>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,""],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,""]));return l}}function Gw(n){return Fr(n,"collectionParents")}function wp(n){return Fr(n,"indexEntries")}function Xa(n){return Fr(n,"indexConfiguration")}function Ep(n){return Fr(n,"indexState")}const Uc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function e0(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.Wt({range:d},(A,M,F)=>(m++,F.delete()));l.push(v.next(()=>{Nt(1===m)}));const w=[];for(const A of t.mutations){const M=Cw(e,A.key.path,t.batchId);l.push(i.delete(M)),w.push(A.key)}return ge.waitFor(l).next(()=>w)}function Pm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class Hw{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Nt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Hw(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jc(e).Wt({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Gc(e),d=jc(e);return d.add({}).next(m=>{Nt("number"==typeof m);const v=new gp(m,t,r,i),w=function(F,B,K){const ue=K.baseMutations.map(Xe=>cp(F.Jt,Xe)),Oe=K.mutations.map(Xe=>cp(F.Jt,Xe));return{userId:B,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:ue,mutations:Oe}}(this.M,this.userId,v),A=[];let M=new Ln((F,B)=>qt(F.canonicalString(),B.canonicalString()));for(const F of i){const B=Cw(this.userId,F.key.path,m);M=M.add(F.key.path.popLast()),A.push(d.put(w)),A.push(l.put(B,Tw))}return M.forEach(F=>{A.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[m]=v.keys()}),ge.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return jc(e).get(t).next(r=>r?(Nt(r.userId===this.userId),_p(this.M,r)):null)}ln(e,t){return this.hn[t]?ge.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return jc(e).Wt({index:"userMutationsIndex",range:i},(d,m,v)=>{m.userId===this.userId&&(Nt(m.batchId>=r),l=_p(this.M,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return jc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jc(e).qt("userMutationsIndex",t).next(r=>r.map(i=>_p(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=dp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Gc(e).Wt({range:i},(d,m,v)=>{const[w,A,M]=d,F=Ci(A);if(w===this.userId&&t.path.isEqual(F))return jc(e).get(M).next(B=>{if(!B)throw st();Nt(B.userId===this.userId),l.push(_p(this.M,B))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(qt);const i=[];return t.forEach(l=>{const d=dp(this.userId,l.path),m=IDBKeyRange.lowerBound(d),v=Gc(e).Wt({range:m},(w,A,M)=>{const[F,B,K]=w,ue=Ci(B);F===this.userId&&l.path.isEqual(ue)?r=r.add(K):M.done()});i.push(v)}),ge.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=dp(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Ln(qt);return Gc(e).Wt({range:d},(v,w,A)=>{const[M,F,B]=v,K=Ci(F);M===this.userId&&r.isPrefixOf(K)?K.length===i&&(m=m.add(B)):A.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(jc(e).get(l).next(d=>{if(null===d)throw st();Nt(d.userId===this.userId),r.push(_p(this.M,d))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return e0(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Gc(e).Wt({range:r},(l,d,m)=>{if(l[0]===this.userId){const v=Ci(l[1]);i.push(v)}else m.done()}).next(()=>{Nt(0===i.length)})})}containsKey(e,t){return t0(e,this.userId,t)}_n(e){return Fm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function t0(n,e,t){const r=dp(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Gc(n).Wt({range:l,jt:!0},(m,v,w)=>{const[A,M,F]=m;A===e&&M===i&&(d=!0),w.done()}).next(()=>d)}function jc(n){return Fr(n,"mutations")}function Gc(n){return Fr(n,"documentMutations")}function Fm(n){return Fr(n,"mutationQueues")}class Hc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Hc(0)}static gn(){return new Hc(-1)}}class $w{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Hc(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>wt.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$c(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return $c(e).Wt((d,m)=>{const v=yp(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>ge.waitFor(l)).next(()=>i)}forEachTarget(e,t){return $c(e).Wt((r,i)=>{const l=yp(i);t(l)})}yn(e){return n0(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}pn(e,t){return n0(e).put("targetGlobalKey",t)}In(e,t){return $c(e).put(vp(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Oc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return $c(e).Wt({range:i,index:"queryTargetsIndex"},(d,m,v)=>{const w=yp(m);uh(t,w.target)&&(l=w,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=cu(e);return t.forEach(d=>{const m=Pr(d.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),ge.waitFor(i)}removeMatchingKeys(e,t,r){const i=cu(e);return ge.forEach(t,l=>{const d=Pr(l.path);return ge.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=cu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=cu(e);let l=mn();return i.Wt({range:r,jt:!0},(d,m,v)=>{const w=Ci(d[1]),A=new je(w);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=Pr(t.path),i=IDBKeyRange.bound([r],[zD(r)],!1,!0);let l=0;return cu(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,m],v,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return $c(e).get(t).next(r=>r?yp(r):null)}}function $c(n){return Fr(n,"targets")}function n0(n){return Fr(n,"targetGlobal")}function cu(n){return Fr(n,"targetDocuments")}function Wc(n){return r0.apply(this,arguments)}function r0(){return r0=(0,ye.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Rw)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),r0.apply(this,arguments)}function Ww([n,e],[t,r]){const i=qt(n,t);return 0===i?qt(e,r):i}class rC{constructor(e){this.En=e,this.buffer=new Ln(Ww),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ww(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Qa(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Wc(i)}yield t.vn(e)}))}}class Ip{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(Ds.A);const r=new rC(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Uc)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uc):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,l,d,m,v,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),lv()<=Hr.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${M} documents in `+(w-v)+`ms\nTotal Duration: ${w-A}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class zw{constructor(e,t){this.db=e,this.garbageCollector=new Ip(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return Cp(e,r)}removeReference(e,t,r){return Cp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Cp(e,t)}Mn(e,t){return function(r,i){let l=!1;return Fm(r).zt(d=>t0(r,d,i).next(m=>(m&&(l=!0),ge.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.kn(e,(d,m)=>{if(m<=t){const v=this.Mn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,wt.min()),cu(e).delete([0,Pr(d.path)])))});i.push(v)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Cp(e,t)}kn(e,t){const r=cu(e);let i,l=Ds.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:w})=>{0===d?(l!==Ds.A&&t(new je(Ci(i)),l),l=w,i=v):l=Ds.A}).next(()=>{l!==Ds.A&&t(new je(Ci(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cp(n,e){return cu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Pr(e.path),sequenceNumber:r}));var r}class s0{constructor(){this.changes=new da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qw{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zc(e).put(r)}removeEntry(e,t,r){return zc(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],mp(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return zc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Tp(t))},(i,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return zc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Tp(t))},(i,l)=>{r={document:this.Fn(t,l),size:Pm(l)}}).next(()=>r)}getEntries(e,t){let r=ao();return this.Bn(e,t,(i,l)=>{const d=this.Fn(i,l);r=r.insert(i,d)}).next(()=>r)}Ln(e,t){let r=ao(),i=new mr(je.comparator);return this.Bn(e,t,(l,d)=>{const m=this.Fn(l,d);r=r.insert(l,m),i=i.insert(l,Pm(d))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return ge.resolve();let i=new Ln(Jw);t.forEach(v=>i=i.add(v));const l=IDBKeyRange.bound(Tp(i.first()),Tp(i.last())),d=i.getIterator();let m=d.getNext();return zc(e).Wt({index:"documentKeyIndex",range:l},(v,w,A)=>{const M=je.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;m&&Jw(m,M)<0;)r(m,null),m=d.getNext();m&&m.isEqual(M)&&(r(m,w),m=d.hasNext()?d.getNext():null),m?A.Ut(Tp(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),mp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).qt(IDBKeyRange.bound(i,l,!0)).next(d=>{let m=ao();for(const v of d){const w=this.Fn(je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(w.key,w)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=ao();const d=Yw(t,r),m=Yw(t,qa.max());return zc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,w,A)=>{const M=this.Fn(je.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(M.key,M),l.size===i&&A.done()}).next(()=>l)}newChangeBuffer(e){return new Zw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Kw(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}On(e,t){return Kw(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function Bw(n,e){let t;if(e.document)t=_w(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=su(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=je.fromSegments(e.unknownDocument.path),i=su(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Qn(r[0],r[1]);return wt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return Nn.newInvalidDocument(e)}}class Zw extends s0{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new da(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ln((l,d)=>qt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const v=Uw(this.qn.M,d);i=i.add(l.path.popLast()),r+=Pm(v)-m.size,t.push(this.qn.addEntry(e,l,v))}else if(r-=m.size,this.trackRemovals){const v=Uw(this.qn.M,d.convertToNoDocument(wt.min()));t.push(this.qn.addEntry(e,l,v))}}),i.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function Kw(n){return Fr(n,"remoteDocumentGlobal")}function zc(n){return Fr(n,"remoteDocumentsV14")}function Tp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yw(n,e){const t=e.documentKey.path.toArray();return[n,mp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Jw(n,e){const t=n.path.length-e.path.length;return 0!==t?t:je.comparator(n,e)}class sC{constructor(e){this.M=e}kt(e,t,r,i){const l=new hp("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iw,{unique:!0}),m.createObjectStore("documentMutations"),Qw(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Qw(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").qt().next(w=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iw,{unique:!0});const A=v.store("mutations"),M=w.map(F=>A.put(F));return ge.waitFor(M)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Kn(l))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&i>=7&&(d=d.next(()=>this.jn(l))),r<8&&i>=8&&(d=d.next(()=>this.Wn(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.zn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:ZI});v.createIndex("collectionPathOverlayIndex",Mw,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",KI,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:GI});v.createIndex("documentKeyIndex",Sw),v.createIndex("collectionGroupIndex",HI)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:WI}).createIndex("sequenceNumberIndex",zI,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:qI}).createIndex("documentKeyIndex",Wv,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=Pm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ge.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>ge.forEach(m,v=>{Nt(v.userId===l.userId);const w=_p(this.M,v);return e0(e,l.userId,w).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((d,m)=>{const v=new rn(d),w=[0,Pr(v)];l.push(t.get(w).next(A=>A?ge.resolve():t.put({targetId:0,path:Pr(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Nw});const r=t.store("collectionParents"),i=new Dp,l=d=>{if(i.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:Pr(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const v=new rn(d);return l(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,v],w)=>{const A=Ci(m);return l(A.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=yp(i),d=vp(this.M,l);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,d)=>{const m=t.store("remoteDocumentsV14"),v=(w=d,w.document?new je(rn.fromString(w.document.name).popFirst(5)):w.noDocument?je.fromSegments(w.noDocument.path):w.unknownDocument?je.fromSegments(w.unknownDocument.path):st()).path.toArray();var w;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(A))}).next(()=>ge.waitFor(i))}}function Qw(n){n.createObjectStore("targetDocuments",{keyPath:$I}).createIndex("documentTargetsIndex",Aw,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$v,{unique:!0}),n.createObjectStore("targetGlobal")}const qc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class o0{constructor(e,t,r,i,l,d,m,v,w,A,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=d,this.document=m,this.Yn=w,this.Xn=A,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!o0.vt())throw new Me(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zw(this,i),this.cs=t+"main",this.M=new Vw(v),this.hs=new lo(this.cs,this.Zn,new sC(this.M)),this.ls=new $w(this.referenceDelegate,this.M),this.fs=new qw(this.M),this.ds=new QI,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===A&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,qc);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ds(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Es(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Qa(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Zc(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Ps(e){return Es(e).delete(this.clientId)}Vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Fr(r,"clientMetadata");return i.qt().next(l=>{const d=e.Ss(l,18e5),m=l.filter(v=>-1===d.indexOf(v));return ge.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ge.resolve(!0):Zc(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,qc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Es(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new xm(t,Ds.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>Es(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Hw.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new TS(e)}getDocumentOverlayCache(e){return Yv.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?JI:13===d?xw:12===d?YI:11===d?Ow:void st();var d;let m;return this.hs.runTransaction(e,i,l,v=>(m=new xm(v,this.ts?this.ts.next():Ds.A),"readwrite-primary"===t?this.Ts(m).next(w=>!!w||this.Es(m)).next(w=>{if(!w)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Me(le.FAILED_PRECONDITION,Rw);return r(m)}).next(w=>this.Rs(m).next(()=>w)):this.Fs(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Fs(e){return Zc(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(le.FAILED_PRECONDITION,qc)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zc(e).put("owner",t)}static vt(){return lo.vt()}As(e){const t=Zc(e);return t.get("owner").next(r=>this.bs(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Jn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zc(n){return Fr(n,"owner")}function Es(n){return Fr(n,"clientMetadata")}function a0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class l0{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):wm(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new je(t)).next(r=>{let i=Pv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let l=Pv();return this.indexManager.getCollectionParents(e,i).next(d=>ge.forEach(d,m=>{const v=(w=t,A=m.child(i),new Ka(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,A;return this.Ws(e,v,r).next(w=>{w.forEach((A,M)=>{l=l.insert(A,M)})})}).next(()=>l))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const m of d.mutations){const v=m.key;let w=i.get(v);null==w&&(w=Nn.newInvalidDocument(v),i=i.insert(v,w)),Tm(m,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(v))}}).next(()=>(i.forEach((l,d)=>{Em(t,d)||(i=i.remove(l))}),i))}}class Kc{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=mn(),i=mn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Kc(e,t.fromCache,r,i)}}class Xw{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(wt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(l=>{const d=this.ti(t,l);return(bm(t)||ip(t))&&this.ei(t.limitType,d,i,r)?this.Zs(e,t):(lv()<=Hr.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dh(t)),this.Xs.Ks(e,t,JD(r,-1)).next(m=>(d.forEach(v=>{m=m.insert(v.key,v)}),m)))});var l}ti(e,t){let r=new Ln(Tv(e));return t.forEach((i,l)=>{Em(e,l)&&(r=r.add(l))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Zs(e,t){return lv()<=Hr.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",dh(t)),this.Xs.Ks(e,t,qa.min())}}class oC{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new mr(qt),this.ii=new da(l=>Oc(l),uh),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new l0(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function eE(n,e,t,r){return new oC(n,e,t,r)}function Sp(n,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,ye.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(l=>(i=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let v=mn();for(const w of i){d.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}for(const w of l){m.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}return t.ai.qs(r,v).next(w=>({ci:w,removedBatchIds:d,addedBatchIds:m}))})})}),Eh.apply(this,arguments)}function aC(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,v,w){const A=v.batch,M=A.keys();let F=ge.resolve();return M.forEach(B=>{F=F.next(()=>w.getEntry(m,B)).next(K=>{const ue=v.docVersions.get(B);Nt(null!==ue),K.version.compareTo(ue)<0&&(A.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),w.addEntry(K)))})}),F.next(()=>d.$s.removeMutationBatch(m,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function tE(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function nE(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const m=[];e.targetChanges.forEach((w,A)=>{const M=i.get(A);if(!M)return;m.push(t.ls.removeMatchingKeys(l,w.removedDocuments,A).next(()=>t.ls.addMatchingKeys(l,w.addedDocuments,A)));let F=M.withSequenceNumber(l.currentSequenceNumber);var B,K,ue;e.targetMismatches.has(A)?F=F.withResumeToken(Rr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,r)),i=i.insert(A,F),K=F,ue=w,(0===(B=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,F))});let v=ao();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),m.push(u0(l,d,e.documentUpdates).next(w=>{v=w})),!r.isEqual(wt.min())){const w=t.ls.getLastRemoteSnapshotVersion(l).next(A=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(w)}return ge.waitFor(m).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,v)).next(()=>v)}).then(l=>(t.si=i,l))}function u0(n,e,t){let r=mn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=ao();return t.forEach((d,m)=>{const v=i.get(d);m.isNoDocument()&&m.version.isEqual(wt.min())?(e.removeEntry(d,m.readTime),l=l.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(d,m)):Le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)}),l})}function c0(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Yc(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(l=>l?(i=l,ge.resolve(i)):t.ls.allocateTargetId(r).next(d=>(i=new pa(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Ih(n,e,t){return d0.apply(this,arguments)}function d0(){return d0=(0,ye.Z)(function*(n,e,t){const r=qe(n),i=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Qa(d))throw d;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),d0.apply(this,arguments)}function h0(n,e,t){const r=qe(n);let i=wt.min(),l=mn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,w){const A=qe(m),M=A.ii.get(w);return void 0!==M?ge.resolve(A.si.get(M)):A.ls.getTargetData(v,w)}(r,d,oo(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,m.targetId).next(v=>{l=v})}).next(()=>r.ni.Ks(d,e,t?i:wt.min(),t?l:mn())).next(m=>(f0(r,Cv(e),m),{documents:m,hi:l})))}function Lm(n,e){const t=qe(n),r=qe(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function Vm(n,e){const t=qe(n),r=t.ri.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,JD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(f0(t,e,i),i))}function f0(n,e,t){let r=wt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function Ap(){return Ap=(0,ye.Z)(function*(n,e,t,r){const i=qe(n);let l=mn(),d=ao();for(const w of t){const A=e.li(w.metadata.name);w.document&&(l=l.add(A));const M=e.fi(w);M.setReadTime(e.di(w.metadata.readTime)),d=d.insert(A,M)}const m=i.oi.newChangeBuffer({trackRemovals:!0}),v=yield Yc(i,(w=r,oo(ca(rn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>u0(w,m,d).next(A=>(m.apply(w),A)).next(A=>i.ls.removeMatchingKeysForTargetId(w,v.targetId).next(()=>i.ls.addMatchingKeys(w,l,v.targetId)).next(()=>i.ai.Gs(w,A)).next(()=>A)))}),Ap.apply(this,arguments)}function lC(n,e){return g0.apply(this,arguments)}function g0(){return g0=(0,ye.Z)(function*(n,e,t=mn()){const r=yield Yc(n,oo(Zv(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=kr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.ds.saveNamedQuery(l,e);const m=r.withResumeToken(Rr.EMPTY_BYTE_STRING,d);return i.si=i.si.insert(m.targetId,m),i.ls.updateTargetData(l,m).next(()=>i.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.ls.addMatchingKeys(l,t,r.targetId)).next(()=>i.ds.saveNamedQuery(l,e))})}),g0.apply(this,arguments)}class uC{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ge.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:kr(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:Zv(r.bundledQuery),readTime:kr(r.readTime)}),ge.resolve();var r}}class cC{constructor(){this.overlays=new mr(je.comparator),this.mi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=ru(),l=t.length+1,d=new je(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&v.largestBatchId>r&&i.set(v.getKey(),v)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new mr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let A=l.get(w.largestBatchId);null===A&&(A=ru(),l=l.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const m=ru(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,A)=>m.set(w,A)),!(m.size()>=i)););return ge.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qv(t,r));let l=this.mi.get(t);void 0===l&&(l=mn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class Bm{constructor(){this.gi=new Ln(_r.yi),this.pi=new Ln(_r.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new _r(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new _r(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new je(new rn([])),r=new _r(t,e),i=new _r(t,e+1),l=[];return this.pi.forEachInRange([r,i],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new je(new rn([])),r=new _r(t,e),i=new _r(t,e+1);let l=mn();return this.pi.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new _r(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _r{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return je.comparator(e.key,t.key)||qt(e.Vi,t.Vi)}static Ii(e,t){return qt(e.Vi,t.Vi)||je.comparator(e.key,t.key)}}class rE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Ln(_r.yi)}checkEmpty(e){return ge.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const l=this.vi;this.vi++;const d=new gp(l,t,r,i);this.$s.push(d);for(const m of i)this.Si=this.Si.add(new _r(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,t){return ge.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),l=i<0?0:i;return ge.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ge.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _r(t,0),i=new _r(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,i],d=>{const m=this.Di(d.Vi);l.push(m)}),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(qt);return t.forEach(i=>{const l=new _r(i,0),d=new _r(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],m=>{r=r.add(m.Vi)})}),ge.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;je.isDocumentKey(l)||(l=l.child(""));const d=new _r(new je(l),0);let m=new Ln(qt);return this.Si.forEachWhile(v=>{const w=v.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(m=m.add(v.Vi)),!0)},d),ge.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Nt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ge.forEach(t.mutations,i=>{const l=new _r(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new _r(t,0),i=this.Si.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class iE{constructor(e){this.ki=e,this.docs=new mr(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=ao();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Nn.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,t,r){let i=ao();const l=new je(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||XD(QD(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}Mi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sE(this)}getSize(e){return ge.resolve(this.size)}}class sE extends s0{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class oE{constructor(e){this.persistence=e,this.Oi=new da(t=>Oc(t),uh),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Bm,this.targetCount=0,this.Bi=Hc.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ge.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Hc(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.In(t),ge.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),ge.waitFor(l).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),ge.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.$i.containsKey(t))}}class dC{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ds(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new oE(this),this.indexManager=new nC,this.fs=new iE(r=>this.referenceDelegate.Ui(r)),this.M=new Vw(t),this.ds=new uC(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new rE(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new aE(this.ts.next());return this.referenceDelegate.qi(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ki(e,t){return ge.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class aE extends kw{constructor(e){super(),this.currentSequenceNumber=e}}class Um{constructor(e){this.persistence=e,this.Qi=new Bm,this.ji=null}static Wi(e){return new Um(e)}get zi(){if(this.ji)return this.ji;throw st()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.zi,r=>{const i=je.fromPath(r);return this.Hi(e,i).next(l=>{l||t.removeEntry(i,wt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ge.or([()=>ge.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function lE(n,e){return`firestore_clients_${n}_${e}`}function m0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jm(n,e){return`firestore_targets_${n}_${e}`}class Yr{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Me(i.error.code,i.error.message))),d?new Yr(e,t,i.state,l):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ga{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Me(r.error.code,r.error.message))),l?new ga(e,r.state,i):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Mm();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=hv(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new Gm(e,l):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _0{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _0(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uE{constructor(){this.activeTargetIds=Mm()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jc{constructor(e,t,r,i,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new mr(qt),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=lE(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new uE),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const l=e.getItem(lE(e.persistenceKey,i));if(l){const d=Gm.Ji(i,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jm(this.persistenceKey,e));if(r){const i=ga.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let d=Ds.A;if(null!=l)try{const m=JSON.parse(l);Nt("number"==typeof m),d=m}catch(m){Jn("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Ds.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new Yr(this.currentUser,e,t,r),l=m0(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=m0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=jm(this.persistenceKey,e),l=new ga(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Gm.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return Yr.Ji(new ai(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return ga.Ji(i,t)}wr(e){return _0.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),d=[],m=[];return l.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Mm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class cE{constructor(){this.Fr=new uE,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new uE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y0{Br(e){}shutdown(){}}class dE{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hC{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class fC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const d=this.oo(e,t);Le("RestConnection","Sending: ",d,r);const m={};return this.uo(m,i,l),this.ao(e,d,m,r).then(v=>(Le("RestConnection","Received: ",v),v),v=>{throw Ic("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}co(e,t,r,i,l){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ec,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${hE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((l,d)=>{const m=new _I;m.listenOnce(BD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case sv.NO_ERROR:const w=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),l(w);break;case sv.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),d(new Me(le.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:const A=m.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(M.status);d(new Me(F,M.message))}else d(new Me(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Me(le.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LD(),d=VD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new UD({})),this.uo(m.initMessageHeaders,t,r),(0,zt.uI)()||(0,zt.b$)()||(0,zt.d)()||(0,zt.w1)()||(0,zt.Mn)()||(0,zt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Le("Connection","Creating WebChannel: "+v,m);const w=l.createWebChannel(v,m);let A=!1,M=!1;const F=new hC({jr:K=>{M?Le("Connection","Not sending because WebChannel is closed:",K):(A||(Le("Connection","Opening WebChannel transport."),w.open(),A=!0),Le("Connection","WebChannel sending:",K),w.send(K))},Wr:()=>w.close()}),B=(K,ue,Oe)=>{K.listen(ue,Xe=>{try{Oe(Xe)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return B(w,dm.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),B(w,dm.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),F.eo())}),B(w,dm.EventType.ERROR,K=>{M||(M=!0,Ic("Connection","WebChannel transport errored:",K),F.eo(new Me(le.UNAVAILABLE,"The operation could not be completed")))}),B(w,dm.EventType.MESSAGE,K=>{var ue;if(!M){const Oe=K.data[0];Nt(!!Oe);const Xe=Oe,Pe=Xe.error||(null===(ue=Xe[0])||void 0===ue?void 0:ue.error);if(Pe){Le("Connection","WebChannel received error:",Pe);const mt=Pe.status;let $e=function(Je){const Zt=gr[Je];if(void 0!==Zt)return AI(Zt)}(mt),Ye=Pe.message;void 0===$e&&($e=le.INTERNAL,Ye="Unknown error status: "+mt+" with message "+Pe.message),M=!0,F.eo(new Me($e,Ye)),w.close()}else Le("Connection","WebChannel received:",Oe),F.no(Oe)}}),B(d,mI.STAT_EVENT,K=>{K.stat===ov.PROXY?Le("Connection","Detected buffering proxy"):K.stat===ov.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function Hm(){return"undefined"!=typeof window?window:null}function Np(){return"undefined"!=typeof document?document:null}function Ch(n){return new RI(n,!0)}class Th{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class $m{constructor(e,t,r,i,l,d,m,v){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Th(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Me(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SS extends $m{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function kI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:st(),i=e.targetChange.targetIds||[],l=function(v,w){return v.N?(Nt(void 0===w||"string"==typeof w),Rr.fromBase64String(w||"")):(Nt(void 0===w||w instanceof Uint8Array),Rr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const w=void 0===v.code?le.UNKNOWN:AI(v.code);return new Me(w,v.message||"")}(d);t=new Lv(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=ha(n,r.document.name),l=kr(r.document.updateTime),d=new Ui({mapValue:{fields:r.document.fields}}),m=Nn.newFoundDocument(i,l,d);t=new up(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=ha(n,r.document),l=r.readTime?kr(r.readTime):wt.min(),d=Nn.newNoDocument(i,l);t=new up([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=ha(n,r.document);t=new up([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,l=new Fc(r.count||0);t=new Fv(r.targetId,l)}}var v;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return wt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?wt.min():l.readTime?kr(l.readTime):wt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=vh(this.M),t.addTarget=function(i,l){let d;const m=l.target;return d=ym(m)?{documents:PI(i,m)}:{query:FI(i,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=Vv(i,l.resumeToken):l.snapshotVersion.compareTo(wt.min())>0&&(d.readTime=iu(i,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function Om(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=vh(this.M),t.removeTarget=e,this.Oo(t)}}class fE extends $m{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function CS(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,i){let l=kr(r.updateTime?r.updateTime:i);return l.isEqual(wt.min())&&(l=kr(i)),new TI(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.Jo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=vh(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cp(this.M,r))};this.Oo(t)}}class pC extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class pE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Jn(t),this.su=!1):Le("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Wm{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var v;el(d)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ye.Z)(function*(w){const A=qe(w);A.lu.add(4),yield du(A),A._u.set("Unknown"),A.lu.delete(4),yield Sh(A)}),function(w){return v.apply(this,arguments)})(d))}))}),this._u=new pE(r,i)}}function Sh(n){return v0.apply(this,arguments)}function v0(){return v0=(0,ye.Z)(function*(n){if(el(n))for(const e of n.fu)yield e(!0)}),v0.apply(this,arguments)}function du(n){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ye.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Mp.apply(this,arguments)}function b0(n,e){const t=qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),E0(t)?zm(t):hu(t).Co()&&D0(t,e))}function Op(n,e){const t=qe(n),r=hu(t);t.hu.delete(e),r.Co()&&w0(t,e),0===t.hu.size&&(r.Co()?r.ko():el(t)&&t._u.set("Unknown"))}function D0(n,e){n.wu.Z(e.targetId),hu(n).Qo(e)}function w0(n,e){n.wu.Z(e),hu(n).jo(e)}function zm(n){n.wu=new MI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),hu(n).start(),n._u.iu()}function E0(n){return el(n)&&!hu(n).Do()&&n.hu.size>0}function el(n){return 0===qe(n).lu.size}function I0(n){n.wu=void 0}function gC(n){return C0.apply(this,arguments)}function C0(){return C0=(0,ye.Z)(function*(n){n.hu.forEach((e,t)=>{D0(n,e)})}),C0.apply(this,arguments)}function gE(n,e){return T0.apply(this,arguments)}function T0(){return T0=(0,ye.Z)(function*(n,e){I0(n),E0(n)?(n._u.uu(e),zm(n)):n._u.set("Unknown")}),T0.apply(this,arguments)}function mE(n,e,t){return qm.apply(this,arguments)}function qm(){return qm=(0,ye.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Lv&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const d=l.cause;for(const m of l.targetIds)i.hu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.hu.delete(m),i.wu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xp(n,r)}else if(e instanceof up?n.wu.ut(e):e instanceof Fv?n.wu._t(e):n.wu.ht(e),!t.isEqual(wt.min()))try{const r=yield tE(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.wu.yt(l);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=i.hu.get(v);w&&i.hu.set(v,w.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const v=i.hu.get(m);if(!v)return;i.hu.set(m,v.withResumeToken(Rr.EMPTY_BYTE_STRING,v.snapshotVersion)),w0(i,m);const w=new pa(v.target,m,1,v.sequenceNumber);D0(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield xp(n,r)}var r}),qm.apply(this,arguments)}function xp(n,e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,ye.Z)(function*(n,e,t){if(!Qa(e))throw e;n.lu.add(1),yield du(n),n._u.set("Offline"),t||(t=()=>tE(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Sh(n)}))}),Zm.apply(this,arguments)}function _E(n,e){return e().catch(t=>xp(n,t,e))}function Ah(n){return yE.apply(this,arguments)}function yE(){return yE=(0,ye.Z)(function*(n){const e=qe(n),t=tl(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;vE(e);)try{const i=yield c0(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,AS(e,i)}catch(i){yield xp(e,i)}mC(e)&&_C(e)}),yE.apply(this,arguments)}function vE(n){return el(n)&&n.cu.length<10}function AS(n,e){n.cu.push(e);const t=tl(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function mC(n){return el(n)&&!tl(n).Do()&&n.cu.length>0}function _C(n){tl(n).start()}function NS(n){return bE.apply(this,arguments)}function bE(){return bE=(0,ye.Z)(function*(n){tl(n).Xo()}),bE.apply(this,arguments)}function MS(n){return DE.apply(this,arguments)}function DE(){return DE=(0,ye.Z)(function*(n){const e=tl(n);for(const t of n.cu)e.Ho(t.mutations)}),DE.apply(this,arguments)}function OS(n,e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,ye.Z)(function*(n,e,t){const r=n.cu.shift(),i=zv.from(r,e,t);yield _E(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ah(n)}),Nh.apply(this,arguments)}function xS(n,e){return Km.apply(this,arguments)}function Km(){return Km=(0,ye.Z)(function*(n,e){var t;e&&tl(n).zo&&(yield(t=(0,ye.Z)(function*(r,i){if(Lc(l=i.code)&&l!==le.ABORTED){const d=r.cu.shift();tl(r).No(),yield _E(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Ah(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),mC(n)&&_C(n)}),Km.apply(this,arguments)}function Ym(n,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,ye.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=el(t);t.lu.add(3),yield du(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Sh(t)}),Jm.apply(this,arguments)}function Qm(n,e){return wE.apply(this,arguments)}function wE(){return wE=(0,ye.Z)(function*(n,e){const t=qe(n);e?(t.lu.delete(2),yield Sh(t)):e||(t.lu.add(2),yield du(t),t._u.set("Unknown"))}),wE.apply(this,arguments)}function hu(n){return n.mu||(n.mu=function(e,t,r){const i=qe(e);return i.tu(),new SS(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:gC.bind(null,n),Jr:gE.bind(null,n),Ko:mE.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.mu.No(),E0(n)?zm(n):n._u.set("Unknown")):(yield n.mu.stop(),I0(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function tl(n){return n.gu||(n.gu=function(e,t,r){const i=qe(e);return i.tu(),new fE(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:NS.bind(null,n),Jr:xS.bind(null,n),Yo:MS.bind(null,n),Jo:OS.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.No(),yield Ah(n)):(yield n.gu.stop(),n.cu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Xm{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,m=new Xm(e,t,d,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qc(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),Qa(n))return new Me(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Rp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=Pv(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new Rp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Rp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class S0{constructor(){this.yu=new mr(je.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):st():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mh{constructor(e,t,r,i,l,d,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Mh(e,t,Rp.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class A0{constructor(){this.Iu=void 0,this.listeners=[]}}class yC{constructor(){this.queries=new da(e=>Iv(e),ch),this.onlineState="Unknown",this.Tu=new Set}}function EE(n,e){return IE.apply(this,arguments)}function IE(){return IE=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new A0),i)try{l.Iu=yield t.onListen(r)}catch(d){const m=Qc(d,`Initialization of query '${dh(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&TE(t)}),IE.apply(this,arguments)}function CE(n,e){return N0.apply(this,arguments)}function N0(){return N0=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),N0.apply(this,arguments)}function vC(n,e){const t=qe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Au(i)&&(r=!0);d.Iu=i}}r&&TE(t)}function bC(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function TE(n){n.Tu.forEach(e=>{e.next()})}class M0{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class O0{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class SE{constructor(e){this.M=e}li(e){return ha(this.M,e)}fi(e){return e.metadata.exists?_w(this.M,e.document,!1):Nn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return kr(e)}}class Vo{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AE(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=rn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new SE(this.M);for(const i of e)if(i.metadata.queries){const l=r.li(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||mn()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function p0(n,e,t,r){return Ap.apply(this,arguments)}(e.localStore,new SE(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield lC(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function AE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class e_{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class ME{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=mn(),this.mutatedKeys=mn(),this.Lu=Tv(e),this.Uu=new Rp(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new S0,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const v=bm(this.query)&&i.size===this.query.limit?i.last():null,w=ip(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const F=i.get(A),B=Em(this.query,M)?M:null,K=!!F&&this.mutatedKeys.has(F.key),ue=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Oe=!1;F&&B?F.data.isEqual(B.data)?K!==ue&&(r.track({type:3,doc:B}),Oe=!0):this.Qu(F,B)||(r.track({type:2,doc:B}),Oe=!0,(v&&this.Lu(B,v)>0||w&&this.Lu(B,w)<0)&&(m=!0)):!F&&B?(r.track({type:0,doc:B}),Oe=!0):F&&!B&&(r.track({type:1,doc:F}),Oe=!0,(v||w)&&(m=!0)),Oe&&(B?(d=d.add(B),l=ue?l.add(A):l.delete(A)):(d=d.delete(A),l=l.delete(A)))}),bm(this.query)||ip(this.query))for(;d.size>this.query.limit;){const A=bm(this.query)?d.last():d.first();d=d.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Uu:d,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((w,A)=>function(M,F){const B=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return B(M)-B(F)}(w.type,A.type)||this.Lu(w.doc,A.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,v=m!==this.$u;return this.$u=m,0!==l.length||v?{snapshot:new Mh(this.query,e.Uu,i,l,e.mutatedKeys,0===m,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new S0,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=mn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new NE(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new e_(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=mn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Mh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class x0{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OE{constructor(e){this.key=e,this.Xu=!1}}class xE{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new da(m=>Iv(m),ch),this.ea=new Map,this.na=new Set,this.sa=new mr(je.comparator),this.ia=new Map,this.ra=new Bm,this.oa={},this.ua=new Map,this.aa=Hc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function DC(n,e){return t_.apply(this,arguments)}function t_(){return t_=(0,ye.Z)(function*(n,e){const t=Fp(n);let r,i;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const d=yield Yc(t.localStore,oo(e));t.isPrimaryClient&&b0(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield n_(t,e,r,"current"===m)}return i}),t_.apply(this,arguments)}function n_(n,e,t,r){return R0.apply(this,arguments)}function R0(){return R0=(0,ye.Z)(function*(n,e,t,r){n.ha=(A,M,F)=>{return(B=(0,ye.Z)(function*(K,ue,Oe,Xe){let Pe=ue.view.Gu(Oe);Pe.ei&&(Pe=yield h0(K.localStore,ue.query,!1).then(({documents:Ye})=>ue.view.Gu(Ye,Pe)));const mt=Xe&&Xe.targetChanges.get(ue.targetId),$e=ue.view.applyChanges(Pe,K.isPrimaryClient,mt);return o_(K,ue.targetId,$e.zu),$e.snapshot}),function(K,ue,Oe,Xe){return B.apply(this,arguments)})(n,A,M,F);var B};const i=yield h0(n.localStore,e,!0),l=new ME(e,i.hi),d=l.Gu(i.documents),m=mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,m);o_(n,t,v.zu);const w=new x0(e,t,l);return n.ta.set(e,w),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),v.snapshot}),R0.apply(this,arguments)}function wC(n,e){return kp.apply(this,arguments)}function kp(){return kp=(0,ye.Z)(function*(n,e){const t=qe(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(l=>!ch(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ih(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Op(t.remoteStore,r.targetId),fu(t,r.targetId)}).catch(Wc))):(fu(t,r.targetId),yield Ih(t.localStore,r.targetId,!0))}),kp.apply(this,arguments)}function k0(){return k0=(0,ye.Z)(function*(n,e,t){const r=Lp(n);try{const i=yield function(l,d){const m=qe(l),v=Qn.now(),w=d.reduce((M,F)=>M.add(F.key),mn());let A;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.ai.qs(M,w).next(F=>{A=F;const B=[];for(const K of d){const ue=dw(K,A.get(K.key));null!=ue&&B.push(new nu(K.key,ue,YD(ue.value.mapValue),pr.exists(!0)))}return m.$s.addMutationBatch(M,v,B,d)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,m){let v=l.oa[l.currentUser.toKey()];v||(v=new mr(qt)),v=v.insert(d,m),l.oa[l.currentUser.toKey()]=v}(r,i.batchId,t),yield ma(r,i.changes),yield Ah(r.remoteStore)}catch(i){const l=Qc(i,"Failed to persist write");t.reject(l)}}),k0.apply(this,arguments)}function EC(n,e){return P0.apply(this,arguments)}function P0(){return P0=(0,ye.Z)(function*(n,e){const t=qe(n);try{const r=yield nE(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.ia.get(l);d&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Xu=!0:i.modifiedDocuments.size>0?Nt(d.Xu):i.removedDocuments.size>0&&(Nt(d.Xu),d.Xu=!1))}),yield ma(t,r,e)}catch(r){yield Wc(r)}}),P0.apply(this,arguments)}function F0(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((l,d)=>{const m=d.view.Eu(e);m.snapshot&&i.push(m.snapshot)}),function(l,d){const m=qe(l);m.onlineState=d;let v=!1;m.queries.forEach((w,A)=>{for(const M of A.listeners)M.Eu(d)&&(v=!0)}),v&&TE(m)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IC(n,e,t){return L0.apply(this,arguments)}function L0(){return L0=(0,ye.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),l=i&&i.key;if(l){let d=new mr(je.comparator);d=d.insert(l,Nn.newNoDocument(l,wt.min()));const m=mn().add(l),v=new lp(wt.min(),new Map,new Ln(qt),d,m);yield EC(r,v),r.sa=r.sa.remove(l),r.ia.delete(e),a_(r)}else yield Ih(r.localStore,e,!1).then(()=>fu(r,e,t)).catch(Wc)}),L0.apply(this,arguments)}function RE(n,e){return V0.apply(this,arguments)}function V0(){return V0=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield aC(t.localStore,e);i_(t,r,null),U0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ma(t,i)}catch(i){yield Wc(i)}}),V0.apply(this,arguments)}function RS(n,e,t){return r_.apply(this,arguments)}function r_(){return r_=(0,ye.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(l,d){const m=qe(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return m.$s.lookupMutationBatch(v,d).next(A=>(Nt(null!==A),w=A.keys(),m.$s.removeMutationBatch(v,A))).next(()=>m.$s.performConsistencyCheck(v)).next(()=>m.ai.qs(v,w))})}(r.localStore,e);i_(r,e,t),U0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ma(r,i)}catch(i){yield Wc(i)}}),r_.apply(this,arguments)}function B0(){return B0=(0,ye.Z)(function*(n,e){const t=qe(n);el(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=qe(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Qc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),B0.apply(this,arguments)}function U0(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function i_(n,e,t){const r=qe(n);let i=r.oa[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||s_(n,r)})}function s_(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Op(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),a_(n))}function o_(n,e,t){for(const r of t)r instanceof e_?(n.ra.addReference(r.key,e),CC(n,r)):r instanceof NE?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||s_(n,r.key)):st()}function CC(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.na.add(r),a_(n))}function a_(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new je(rn.fromString(e)),r=n.aa.next();n.ia.set(r,new OE(t)),n.sa=n.sa.insert(t,r),b0(n.remoteStore,new pa(oo(ca(t.path)),r,2,Ds.A))}}function ma(n,e,t){return j0.apply(this,arguments)}function j0(){return j0=(0,ye.Z)(function*(n,e,t){const r=qe(n),i=[],l=[],d=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,v)=>{d.push(r.ha(v,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,w.fromCache?"not-current":"current"),i.push(w);const A=Kc.Js(v.targetId,w);l.push(A)}}))}),yield Promise.all(d),r.Zu.Ko(i),yield(m=(0,ye.Z)(function*(v,w){const A=qe(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ge.forEach(w,F=>ge.forEach(F.zs,B=>A.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>ge.forEach(F.Hs,B=>A.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!Qa(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const F=M.targetId;if(!M.fromCache){const B=A.si.get(F),ue=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.si=A.si.insert(F,ue)}}}),function(v,w){return m.apply(this,arguments)})(r.localStore,l))}),j0.apply(this,arguments)}function TC(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,ye.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield Sp(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new Me(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ma(t,r.ci)}var i}),PE.apply(this,arguments)}function kS(n,e){const t=qe(n),r=t.ia.get(e);if(r&&r.Xu)return mn().add(r.key);{let i=mn();const l=t.ea.get(e);if(!l)return i;for(const d of l){const m=t.ta.get(d);i=i.unionWith(m.view.qu)}return i}}function FE(n,e){return G0.apply(this,arguments)}function G0(){return G0=(0,ye.Z)(function*(n,e){const t=qe(n),r=yield h0(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&o_(t,e.targetId,i.zu),i}),G0.apply(this,arguments)}function SC(n,e){return H0.apply(this,arguments)}function H0(){return H0=(0,ye.Z)(function*(n,e){const t=qe(n);return Vm(t.localStore,e).then(r=>ma(t,r))}),H0.apply(this,arguments)}function PS(n,e,t,r){return LE.apply(this,arguments)}function LE(){return LE=(0,ye.Z)(function*(n,e,t,r){const i=qe(n),l=yield function(d,m){const v=qe(d),w=qe(v.$s);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>w.ln(A,m).next(M=>M?v.ai.qs(A,M):ge.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield Ah(i.remoteStore):"acknowledged"===t||"rejected"===t?(i_(i,e,r||null),U0(i,e),m=e,qe(qe(i.localStore).$s).dn(m)):st(),yield ma(i,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),LE.apply(this,arguments)}function VE(){return VE=(0,ye.Z)(function*(n,e){const t=qe(n);if(Fp(t),Lp(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield AC(t,r.toArray());t.ca=!0,yield Qm(t.remoteStore,!0);for(const l of i)b0(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(fu(t,d),Ih(t.localStore,d,!0))),Op(t.remoteStore,d)}),yield i,yield AC(t,r),function(l){const d=qe(l);d.ia.forEach((m,v)=>{Op(d.remoteStore,v)}),d.ra.bi(),d.ia=new Map,d.sa=new mr(je.comparator)}(t),t.ca=!1,yield Qm(t.remoteStore,!1)}}),VE.apply(this,arguments)}function AC(n,e,t){return $0.apply(this,arguments)}function $0(){return $0=(0,ye.Z)(function*(n,e,t){const r=qe(n),i=[],l=[];for(const d of e){let m;const v=r.ea.get(d);if(v&&0!==v.length){m=yield Yc(r.localStore,oo(v[0]));for(const w of v){const A=r.ta.get(w),M=yield FE(r,A);M.snapshot&&l.push(M.snapshot)}}else{const w=yield Lm(r.localStore,d);m=yield Yc(r.localStore,w),yield n_(r,Pp(w),d,!1)}i.push(m)}return r.Zu.Ko(l),i}),$0.apply(this,arguments)}function Pp(n){return vm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NC(n){const e=qe(n);return qe(qe(e.localStore).persistence).Os()}function MC(n,e,t,r){return l_.apply(this,arguments)}function l_(){return l_=(0,ye.Z)(function*(n,e,t,r){const i=qe(n);if(i.ca)return void Le("SyncEngine","Ignoring unexpected query state notification.");const l=i.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Vm(i.localStore,Cv(l[0])),m=lp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ma(i,d,m);break}case"rejected":yield Ih(i.localStore,e,!0),fu(i,e,r);break;default:st()}}),l_.apply(this,arguments)}function Xc(n,e,t){return u_.apply(this,arguments)}function u_(){return u_=(0,ye.Z)(function*(n,e,t){const r=Fp(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const l=yield Lm(r.localStore,i),d=yield Yc(r.localStore,l);yield n_(r,Pp(l),d.targetId,!1),b0(r.remoteStore,d)}for(const i of t)r.ea.has(i)&&(yield Ih(r.localStore,i,!1).then(()=>{Op(r.remoteStore,i),fu(r,i)}).catch(Wc))}}),u_.apply(this,arguments)}function Fp(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IC.bind(null,e),e.Zu.Ko=vC.bind(null,e.eventManager),e.Zu.la=bC.bind(null,e.eventManager),e}function Lp(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RS.bind(null,e),e}class c_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Ch(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return eE(this.persistence,new Xw,e.initialUser,this.M)}_a(e){return new dC(Um.Wi,this.M)}da(e){return new cE}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class d_ extends c_{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield Lp(r.ga.syncEngine),yield Ah(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return eE(this.persistence,new Xw,e.initialUser,this.M)}wa(e){return new iC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=a0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new o0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Hm(),Np(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new cE}}class h_ extends d_{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof Jc&&(r.sharedClientState.syncEngine={kr:PS.bind(null,i),Mr:MC.bind(null,i),Or:Xc.bind(null,i),Os:NC.bind(null,i),Nr:SC.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ye.Z)(function*(d){yield function FS(n,e){return VE.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=Hm();if(!Jc.vt(t))throw new Me(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=a0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jc(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class BE{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>F0(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,r.syncEngine),yield Qm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yC}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),r=new fC(e.databaseInfo);return new pC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>F0(this.syncEngine,m,0),d=dE.vt()?new dE:new y0,new Wm(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,m,v,w){const A=new xE(r,i,l,d,m,v);return w&&(A.ca=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=qe(t);Le("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield du(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xC(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class W0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LS{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new O0(JSON.parse(l),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ye.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class UE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,d){const m=qe(l),v=vh(m.M)+"/documents",w={documents:d.map(B=>Ja(m.M,B))},A=yield m.co("BatchGetDocuments",v,w),M=new Map;A.forEach(B=>{const K=function yw(n,e){return"found"in e?function(t,r){Nt(!!r.found);const i=ha(t,r.found.name),l=kr(r.found.updateTime),d=new Ui({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const i=ha(t,r.missing),l=kr(r.readTime);return Nn.newNoDocument(i,l)}(n,e):st()}(m.M,B);M.set(K.key.toString(),K)});const F=[];return d.forEach(B=>{const K=M.get(B.toString());Nt(!!K),F.push(K)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=je.fromPath(i);e.mutations.push(new Sm(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const d=qe(i),m=vh(d.M)+"/documents",v={writes:l.map(w=>cp(d.M,w))};yield d.ro("Commit",m,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?pr.updateTime(t):pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Me(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(t)}return pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RC{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new Th(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ye.Z)(function*(){const t=new UE(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ca(l)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Wa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Lc(t)}return!1}}class kC{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=WD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Le("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Qc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function jE(n,e){return z0.apply(this,arguments)}function z0(){return z0=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield Sp(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),z0.apply(this,arguments)}function q0(n,e){return f_.apply(this,arguments)}function f_(){return f_=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield p_(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Ym(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>Ym(e.remoteStore,l)),n.onlineComponents=e}),f_.apply(this,arguments)}function p_(n){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,ye.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield jE(n,new c_)),n.offlineComponents}),Z0.apply(this,arguments)}function g_(n){return m_.apply(this,arguments)}function m_(){return m_=(0,ye.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield q0(n,new BE)),n.onlineComponents}),m_.apply(this,arguments)}function __(n){return p_(n).then(e=>e.persistence)}function GE(n){return p_(n).then(e=>e.localStore)}function K0(n){return g_(n).then(e=>e.remoteStore)}function Vp(n){return g_(n).then(e=>e.syncEngine)}function Oh(n){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,ye.Z)(function*(n){const e=yield g_(n),t=e.eventManager;return t.onListen=DC.bind(null,e.syncEngine),t.onUnlisten=wC.bind(null,e.syncEngine),t}),Y0.apply(this,arguments)}function HE(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,d,m,v){const w=new W0({next:M=>{l.enqueueAndForget(()=>CE(i,A));const F=M.docs.has(d);!F&&M.fromCache?v.reject(new Me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&m&&"server"===m.source?v.reject(new Me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new M0(ca(d.path),w,{includeMetadataChanges:!0,Du:!0});return EE(i,A)}(yield Oh(n),n.asyncQueue,e,t,r)})),r.promise}function FC(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,d,m,v){const w=new W0({next:M=>{l.enqueueAndForget(()=>CE(i,A)),M.fromCache&&"server"===m.source?v.reject(new Me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new M0(d,w,{includeMetadataChanges:!0,Du:!0});return EE(i,A)}(yield Oh(n),n.asyncQueue,e,t,r)})),r.promise}const $E=new Map;function WE(n,e,t){if(!t)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LC(n,e,t,r){if(!0===e&&!0===r)throw new Me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VC(n){if(!je.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BC(n){if(je.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function s(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function o(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=s(n);throw new Me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function a(n,e){if(e<=0)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class u{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u({}),this._settingsFrozen=!1,e instanceof aa?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Me(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(i.options.projectId)}(e))}get app(){if(!this._app)throw new Me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yI;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new hm(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$E.get(e);t&&(Le("ComponentProvider","Removing Datastore"),$E.delete(e),t.terminate())}(this),Promise.resolve()}}class _{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new E(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _(this.firestore,e,this._key)}}class D{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new D(this.firestore,e,this._query)}}class E extends D{constructor(e,t,r){super(e,t,ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _(this.firestore,null,new je(e))}withConverter(e){return new E(this.firestore,e,this._path)}}function S(n,e,...t){if(n=(0,zt.m9)(n),WE("collection","path",e),n instanceof h){const r=rn.fromString(e,...t);return BC(r),new E(n,null,r)}{if(!(n instanceof _||n instanceof E))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return BC(r),new E(n.firestore,null,r)}}function P(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=WD.R()),WE("doc","path",e),n instanceof h){const r=rn.fromString(e,...t);return VC(r),new _(n,null,new je(r))}{if(!(n instanceof _||n instanceof E))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return VC(r),new _(n.firestore,n instanceof E?n.converter:null,new je(r))}}function U(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),(n instanceof _||n instanceof E)&&(e instanceof _||e instanceof E)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Z(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),n instanceof D&&e instanceof D&&n.firestore===e.firestore&&ch(n._query,e._query)&&n.converter===e.converter}class ve{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Th(this,"async_queue_retry"),this.Ua=()=>{const t=Np();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Np();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Np();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Zr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ye.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Qa(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=Xm.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(i),i}qa(){this.Fa&&st()}verifyOperationInProgress(){}ja(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function Fe(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class He{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fe extends h{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new ve,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||es(this),this._firestoreClient.terminate()}}function Tt(n){return n._firestoreClient||es(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function es(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qD(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new kC(n._authCredentials,n._appCheckCredentials,n._queue,r)}function y_(n,e,t){const r=new Zr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield jE(n,t),yield q0(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function WS(n){if(n._initialized||n._terminated)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(Rr.fromBase64String(e))}catch(t){throw new Me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pu(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bp{constructor(e){this._methodName=e}}class qE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const BO=/^__.*__$/;class UO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ph(e,this.data,t,this.fieldTransforms)}}class zS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class ZE{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new ZE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return JE(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(qS(this.Ya)&&BO.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class jO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Ch(e)}uc(e,t,r,i=!1){return new ZE({Ya:e,methodName:t,oc:r,path:xr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Up(n){const e=n._freezeSettings(),t=Ch(n._databaseId);return new jO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KE(n,e,t,r,i,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,i);HC("Data must be an object, but it was:",d,r);const m=YS(r,d);let v,w;if(l.merge)v=new Xl(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const A=[];for(const M of l.mergeFields){const F=$C(e,M,t);if(!d.contains(F))throw new Me(le.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);QS(A,F)||A.push(F)}v=new Xl(A),w=d.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,w=d.fieldTransforms;return new UO(new Ui(m),v,w)}class ib extends Bp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ib}}function ZS(n,e,t){return new ZE({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class UC extends Bp{_toFieldTransform(e){return new op(e.path,new hh)}isEqual(e){return e instanceof UC}}class GO extends Bp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ZS(this,e,!0),r=this.ac.map(l=>jp(l,t)),i=new Rc(r);return new op(e.path,i)}isEqual(e){return this===e}}class HO extends Bp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ZS(this,e,!0),r=this.ac.map(l=>jp(l,t)),i=new kc(r);return new op(e.path,i)}isEqual(e){return this===e}}class $O extends Bp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new fh(e.M,Nv(e.M,this.cc));return new op(e.path,t)}isEqual(e){return this===e}}function jC(n,e,t,r){const i=n.uc(1,e,t);HC("Data must be an object, but it was:",i,r);const l=[],d=Ui.empty();rh(r,(v,w)=>{const A=YE(e,v,t);w=(0,zt.m9)(w);const M=i.nc(A);if(w instanceof ib)l.push(A);else{const F=jp(w,M);null!=F&&(l.push(A),d.set(A,F))}});const m=new Xl(l);return new zS(d,m,i.fieldTransforms)}function GC(n,e,t,r,i,l){const d=n.uc(1,e,t),m=[$C(e,r,t)],v=[i];if(l.length%2!=0)throw new Me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)m.push($C(e,l[F])),v.push(l[F+1]);const w=[],A=Ui.empty();for(let F=m.length-1;F>=0;--F)if(!QS(w,m[F])){const B=m[F];let K=v[F];K=(0,zt.m9)(K);const ue=d.nc(B);if(K instanceof ib)w.push(B);else{const Oe=jp(K,ue);null!=Oe&&(w.push(B),A.set(B,Oe))}}const M=new Xl(w);return new zS(A,M,d.fieldTransforms)}function KS(n,e,t,r=!1){return jp(t,n.uc(r?4:3,e))}function jp(n,e){if(JS(n=(0,zt.m9)(n)))return HC("Unsupported field value:",e,n),YS(n,e);if(n instanceof Bp)return function(t,r){if(!qS(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let m=jp(d,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nv(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qn.fromDate(t);return{timestampValue:iu(r.M,i)}}if(t instanceof Qn){const i=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:iu(r.M,i)}}if(t instanceof qE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pu)return{bytesValue:Vv(r.M,t._byteString)};if(t instanceof _){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Bv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${s(t)}`)}(n,e)}function YS(n,e){const t={};return pm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rh(n,(r,i)=>{const l=jp(i,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function JS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof qE||n instanceof pu||n instanceof _||n instanceof Bp)}function HC(n,e,t){if(!JS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=s(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function $C(n,e,t){if((e=(0,zt.m9)(e))instanceof td)return e._internalPath;if("string"==typeof e)return YE(n,e);throw JE("Field path arguments must be of type string or ",n,!1,void 0,t)}const WO=new RegExp("[~\\*/\\[\\]]");function YE(n,e,t){if(e.search(WO)>=0)throw JE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new td(...e.split("."))._internalPath}catch(r){throw JE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function JE(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new Me(le.INVALID_ARGUMENT,m+n+v)}function QS(n,e){return n.some(t=>t.isEqual(e))}class sb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zO extends sb{data(){return super.data()}}function QE(n,e){return"string"==typeof e?YE(n,e):e instanceof td?e._internalPath:e._delegate._internalPath}class Gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nd extends sb{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ob extends nd{data(e={}){return super.data(e)}}class xh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Gp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ob(this._firestore,this._userDataWriter,r.key,r,new Gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new ob(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Gp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new ob(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Gp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,w=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:qO(d.type),doc:m,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function XS(n,e){return n instanceof nd&&e instanceof nd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xh&&e instanceof xh&&n._firestore===e._firestore&&Z(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function eA(n){if(ip(n)&&0===n.explicitOrderBy.length)throw new Me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ab{}function Rh(n,...e){for(const t of e)n=t._apply(n);return n}class ZO extends ab{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Up(e.firestore),r=function(i,l,d,m,v,w,A){let M;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){oA(A,w);const B=[];for(const K of A)B.push(sA(m,i,K));M={arrayValue:{values:B}}}else M=sA(m,i,A)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||oA(A,w),M=KS(d,"where",A,"in"===w||"not-in"===w);const F=Ii.create(v,w,M);return function(B,K){if(K.S()){const Oe=Dm(B);if(null!==Oe&&!Oe.isEqual(K.field))throw new Me(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${K.field.toString()}'`);const Xe=wv(B);null!==Xe&&aA(0,K.field,Xe)}const ue=function(Oe,Xe){for(const Pe of Oe.filters)if(Xe.indexOf(Pe.op)>=0)return Pe.op;return null}(B,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==ue)throw new Me(le.INVALID_ARGUMENT,ue===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${ue.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new D(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new Ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class YO extends ab{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new xc(i,l);return function(m,v){if(null===wv(m)){const w=Dm(m);null!==w&&aA(0,w,v.field)}}(r,d),d}(e._query,this.hc,this.dc);return new D(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Ka(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class tA extends ab{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new D(e.firestore,e.converter,Ev(e._query,this._c,this.wc))}}class nA extends ab{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=iA(e,this.type,this.mc,this.gc);return new D(e.firestore,e.converter,(i=t,new Ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class rA extends ab{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=iA(e,this.type,this.mc,this.gc);return new D(e.firestore,e.converter,(i=t,new Ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function iA(n,e,t,r){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof sb)return function(i,l,d,m,v){if(!m)throw new Me(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const A of Ya(i))if(A.field.isKeyField())w.push(tu(l,m.key));else{const M=m.data.field(A.field);if(dv(M))throw new Me(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=A.field.canonicalString();throw new Me(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(M)}return new Za(w,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Up(n.firestore);return function(l,d,m,v,w,A){const M=l.explicitOrderBy;if(w.length>M.length)throw new Me(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<w.length;B++){const K=w[B];if(M[B].field.isKeyField()){if("string"!=typeof K)throw new Me(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof K}`);if(!wm(l)&&-1!==K.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${K}' contains a slash.`);const ue=l.path.child(rn.fromString(K));if(!je.isDocumentKey(ue))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const Oe=new je(ue);F.push(tu(d,Oe))}else{const ue=KS(m,v,K);F.push(ue)}}return new Za(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function sA(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new Me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wm(e)&&-1!==t.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!je.isDocumentKey(r))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tu(n,new je(r))}if(t instanceof _)return tu(n,t._key);throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s(t)}.`)}function oA(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function aA(n,e,t){if(!t.isEqual(e))throw new Me(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class WC{convertValue(e,t="none"){switch(eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ih(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return rh(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new qE(Pn(e.latitude),Pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=ko(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);Nt(ww(r));const i=new aa(r.get(1),r.get(3)),l=new je(r.popFirst(5));return i.isEqual(t)||Jn(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function XE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ix extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _(this.firestore,null,t)}}class lA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Up(e)}set(e,t,r){this._verifyNotCommitted();const i=kh(e,this._firestore),l=XE(i.converter,t,r),d=KE(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,pr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=kh(e,this._firestore);let d;return d="string"==typeof(t=(0,zt.m9)(t))||t instanceof td?GC(this._dataReader,"WriteBatch.update",l._key,t,r,i):jC(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kh(e,this._firestore);return this._mutations=this._mutations.concat(new Pc(t._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kh(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new Me(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hp extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _(this.firestore,null,t)}}function uA(n,e,t){n=o(n,_);const r=o(n.firestore,fe),i=XE(n.converter,e,t);return v_(r,[KE(Up(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,pr.none())])}function cA(n,e,t,...r){n=o(n,_);const i=o(n.firestore,fe),l=Up(i);let d;return d="string"==typeof(e=(0,zt.m9)(e))||e instanceof td?GC(l,"updateDoc",n._key,e,t,r):jC(l,"updateDoc",n._key,e),v_(i,[d.toMutation(n._key,pr.exists(!0))])}function dA(n,...e){var t,r,i;n=(0,zt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Fe(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(Fe(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,w,A;if(n instanceof _)w=o(n.firestore,fe),A=ca(n._key.path),v={next:M=>{e[d]&&e[d](zC(w,n,M))},error:e[d+1],complete:e[d+2]};else{const M=o(n,D);w=o(M.firestore,fe),A=M._query;const F=new Hp(w);v={next:B=>{e[d]&&e[d](new xh(w,F,M,B))},error:e[d+1],complete:e[d+2]},eA(n._query)}return function(M,F,B,K){const ue=new W0(K),Oe=new M0(F,ue,B);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return EE(yield Oh(M),Oe)})),()=>{ue.pa(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return CE(yield Oh(M),Oe)}))}}(Tt(w),A,m,v)}function v_(n,e){return function(t,r){const i=new Zr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Bo(n,e,t){return k0.apply(this,arguments)}(yield Vp(t),r,i)})),i.promise}(Tt(n),e)}function zC(n,e,t){const r=t.docs.get(e._key),i=new Hp(n);return new nd(n,i,e._key,r,new Gp(t.hasPendingWrites,t.fromCache),e.converter)}class px extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Up(e)}get(e){const t=kh(e,this._firestore),r=new ix(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const l=i[0];if(l.isFoundDocument())return new sb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new sb(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=kh(e,this._firestore),l=XE(i.converter,t,r),d=KE(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=kh(e,this._firestore);let d;return d="string"==typeof(t=(0,zt.m9)(t))||t instanceof td?GC(this._dataReader,"Transaction.update",l._key,t,r,i):jC(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=kh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kh(e,this._firestore),r=new Hp(this._firestore);return super.get(e).then(i=>new nd(this._firestore,r,t._key,i._document,new Gp(!1,!1),t.converter))}}function qC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function fA(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function pA(){if(!function cv(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ec=lc.SDK_VERSION,(0,lc._registerComponent)(new kg.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new fe(i,new vI(t.getProvider("auth-internal")),new $D(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,lc.registerVersion)(av,"3.4.7",n),(0,lc.registerVersion)(av,"3.4.7","esm2017")}();class lb{constructor(e){this._delegate=e}static fromBase64String(e){return pA(),new lb(pu.fromBase64String(e))}static fromUint8Array(e){return fA(),new lb(pu.fromUint8Array(e))}toBase64(){return pA(),this._delegate.toBase64()}toUint8Array(){return fA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZC(n){return function Ex(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Ix{enableIndexedDbPersistence(e,t){return function ed(n,e){WS(n=o(n,fe));const t=Tt(n),r=n._freezeSettings(),i=new BE;return y_(t,i,new d_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function J0(n){WS(n=o(n,fe));const e=Tt(n),t=n._freezeSettings(),r=new BE;return y_(e,r,new h_(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Q0(n){if(n._initialized&&!n._terminated)throw new Me(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!lo.vt())return Promise.resolve();const i=r+"main";yield lo.delete(i)}),function(r){return t.apply(this,arguments)})(a0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class gA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof aa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function p(n,e,t,r={}){var i;const l=(n=o(n,h))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=ai.MOCK_USER;else{d=(0,zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Me(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ai(v)}n._authCredentials=new jD(new Cc(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function eb(n){return function VS(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield __(n),t=yield K0(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.lu.delete(0),Sh(i)}(t)}))}(Tt(n=o(n,fe)))}(this._delegate)}disableNetwork(){return function tb(n){return function BS(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield __(n),t=yield K0(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=qe(i);l.lu.add(0),yield du(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Tt(n=o(n,fe)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LC("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function X0(n){return function(e){const t=new Zr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function kE(n,e){return B0.apply(this,arguments)}(yield Vp(e),t)})),t.promise}(Tt(n=o(n,fe)))}(this._delegate)}onSnapshotsInSync(e){return function fx(n,e){return function jS(n,e){const t=new W0(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Oh(n),i=t,qe(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Oh(n),i=t,void qe(r).Tu.delete(i);var r,i}))}}(Tt(n=o(n,fe)),Fe(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new b_(this,S(this._delegate,e))}catch(t){throw Is(t,"collection()","Firestore.collection()")}}doc(e){try{return new _a(this,P(this._delegate,e))}catch(t){throw Is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function N(n,e){if(n=o(n,h),WE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new D(n,null,(t=e,new Ka(rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gx(n,e){return function GS(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,g_(i).then(l=>l.datastore));var i;new RC(n.asyncQueue,r,e,t).run()})),t.promise}(Tt(n=o(n,fe)),t=>e(new px(n,t)))}(this._delegate,t=>e(new mA(this,t)))}batch(){return Tt(this._delegate),new _A(new lA(this._delegate,e=>v_(this._delegate,e)))}loadBundle(e){return function nb(n,e){const t=Tt(n=o(n,fe)),r=new He;return function HS(n,e,t,r){const i=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,w){if(v instanceof Uint8Array)return xC(v,w);if(v instanceof ArrayBuffer)return xC(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new LS(v,d);var v}(t,Ch(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function OC(n,e,t){const r=qe(n);var i;(i=(0,ye.Z)(function*(l,d,m){try{const v=yield d.getMetadata();if(yield function(F,B){const K=qe(F),ue=kr(B.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Oe=>K.ds.getBundleMetadata(Oe,B.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(ue)>=0)}(l.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(F=v).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);m._updateProgress(AE(v));const w=new Vo(v,l.localStore,d.M);let A=yield d.fa();for(;A;){const F=yield w.Nu(A);F&&m._updateProgress(F),A=yield d.fa()}const M=yield w.complete();return yield ma(l,M.Ou,void 0),yield function(F,B){const K=qe(F);return K.persistence.runTransaction("Save bundle","readwrite",ue=>K.ds.saveBundleMetadata(ue,B))}(l.localStore,v),m._completeWith(M.progress),Promise.resolve(M.Mu)}catch(v){return Ic("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var F}),function(l,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Vp(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rb(n,e){return function $S(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.ds.getNamedQuery(l,r))}(yield GE(n),e)}))}(Tt(n=o(n,fe)),e).then(t=>t?new D(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class e1 extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new lb(new pu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _a.forKey(t,this.firestore,null)}}class mA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new e1(e)}get(e){const t=Wp(e);return this._delegate.get(t).then(r=>new ub(this._firestore,new nd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Wp(e);return r?(qC("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Wp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}}class _A{constructor(e){this._delegate=e}set(e,t,r){const i=Wp(e);return r?(qC("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Wp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $p{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ob(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$p.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new $p(e,new e1(e),t),i.set(t,l)),l}}$p.INSTANCES=new WeakMap;class _a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new e1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _a(t,new _(t._delegate,r,new je(e)))}static forKey(e,t,r){return new _a(t,new _(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new b_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new b_(this.firestore,S(this._delegate,e))}catch(t){throw Is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zt.m9)(e))instanceof _&&U(this._delegate,e)}set(e,t){t=qC("DocumentReference.set",t);try{return t?uA(this._delegate,e,t):uA(this._delegate,e)}catch(r){throw Is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?cA(this._delegate,e):cA(this._delegate,e,t,...r)}catch(i){throw Is(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dx(n){return v_(o(n.firestore,fe),[new Pc(n._key,pr.none())])}(this._delegate)}onSnapshot(...e){const t=yA(e),r=vA(e,i=>new ub(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return dA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ox(n){n=o(n,_);const e=o(n.firestore,fe),t=Tt(e),r=new Hp(e);return function US(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,d){try{const m=yield function(v,w){const A=qe(v);return A.persistence.runTransaction("read document","readonly",M=>A.ai.Bs(M,w))}(i,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Me(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Qc(m,`Failed to get document '${l} from cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield GE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new nd(e,r,n._key,i,new Gp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ax(n){n=o(n,_);const e=o(n.firestore,fe);return HE(Tt(e),n._key,{source:"server"}).then(t=>zC(e,n,t))}(this._delegate):function sx(n){n=o(n,_);const e=o(n.firestore,fe);return HE(Tt(e),n._key).then(t=>zC(e,n,t))}(this._delegate),t.then(r=>new ub(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _a(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function Is(n,e,t){return n.message=n.message.replace(e,t),n}function yA(n){for(const e of n)if("object"==typeof e&&!ZC(e))return e;return{}}function vA(n,e){var t,r;let i;return i=ZC(n[0])?n[0]:ZC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ub{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return XS(this._delegate,e._delegate)}}class cb extends ub{data(e){const t=this._delegate.data(e);return function ES(n,e){n||st()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new e1(e)}where(e,t,r){try{return new Cs(this.firestore,Rh(this._delegate,function KO(n,e,t){const r=e,i=QE("where",n);return new ZO(i,r,t)}(e,t,r)))}catch(i){throw Is(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,Rh(this._delegate,function JO(n,e="asc"){const t=e,r=QE("orderBy",n);return new YO(r,t)}(e,t)))}catch(r){throw Is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,Rh(this._delegate,function QO(n){return a("limit",n),new tA("limit",n,"F")}(e)))}catch(t){throw Is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,Rh(this._delegate,function XO(n){return a("limitToLast",n),new tA("limitToLast",n,"L")}(e)))}catch(t){throw Is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,Rh(this._delegate,function ex(...n){return new nA("startAt",n,!0)}(...e)))}catch(t){throw Is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,Rh(this._delegate,function tx(...n){return new nA("startAfter",n,!1)}(...e)))}catch(t){throw Is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,Rh(this._delegate,function nx(...n){return new rA("endBefore",n,!1)}(...e)))}catch(t){throw Is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,Rh(this._delegate,function rx(...n){return new rA("endAt",n,!0)}(...e)))}catch(t){throw Is(t,"endAt()","Query.endAt()")}}isEqual(e){return Z(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ux(n){n=o(n,D);const e=o(n.firestore,fe),t=Tt(e),r=new Hp(e);return function PC(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,d){try{const m=yield h0(i,l,!0),v=new ME(l,m.hi),w=v.Gu(m.documents),A=v.applyChanges(w,!1);d.resolve(A.snapshot)}catch(m){const v=Qc(m,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield GE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new xh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function cx(n){n=o(n,D);const e=o(n.firestore,fe),t=Tt(e),r=new Hp(e);return FC(t,n._query,{source:"server"}).then(i=>new xh(e,r,n,i))}(this._delegate):function lx(n){n=o(n,D);const e=o(n.firestore,fe),t=Tt(e),r=new Hp(e);return eA(n._query),FC(t,n._query).then(i=>new xh(e,r,n,i))}(this._delegate),t.then(r=>new KC(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=yA(e),r=vA(e,i=>new KC(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return dA(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}class Tx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Tx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new cb(this._firestore,r))})}isEqual(e){return XS(this._delegate,e._delegate)}}class b_ extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _a(this.firestore,e):null}doc(e){try{return new _a(this.firestore,void 0===e?P(this._delegate):P(this._delegate,e))}catch(t){throw Is(t,"doc()","CollectionReference.doc()")}}add(e){return function hx(n,e){const t=o(n.firestore,fe),r=P(n),i=XE(n.converter,e);return v_(t,[KE(Up(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new _a(this.firestore,t))}isEqual(e){return U(this._delegate,e._delegate)}withConverter(e){return new b_(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function Wp(n){return o(n,_)}class YC{constructor(...e){this._delegate=new td(...e)}static documentId(){return new YC(xr.keyField().canonicalString())}isEqual(e){return(e=(0,zt.m9)(e))instanceof td&&this._delegate._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _x(){return new UC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zp(e)}static delete(){const e=function mx(){return new ib("deleteField")}();return e._methodName="FieldValue.delete",new zp(e)}static arrayUnion(...e){const t=function yx(...n){return new GO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zp(t)}static arrayRemove(...e){const t=function vx(...n){return new HO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zp(t)}static increment(e){const t=function bx(n){return new $O("increment",n)}(e);return t._methodName="FieldValue.increment",new zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Sx={Firestore:gA,GeoPoint:qE,Timestamp:Qn,Blob:lb,Transaction:mA,WriteBatch:_A,DocumentReference:_a,DocumentSnapshot:ub,Query:Cs,QueryDocumentSnapshot:cb,QuerySnapshot:KC,CollectionReference:b_,FieldPath:YC,FieldValue:zp,setLogLevel:function Cx(n){!function wS(n){Ql.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Nx(n){(function Ax(n,e){n.INTERNAL.registerComponent(new kg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Sx)))})(n,(e,t)=>new gA(e,t,new Ix)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(Wb.Z);var Mx=R(6451),t1=R(5363),Ox=R(6063);class xx extends tn.x{constructor(e=1/0,t=1/0,r=Ox.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var Rx=R(3099);function bA(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Rx.B)({connector:()=>new xx(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function DA(n,e){return(0,_i.m)(e)?Dn(()=>n,e):Dn(()=>n)}var JC=R(9468);R(5867);const EA=new Map,Vx={activated:!1,tokenObservers:[]},Bx={initialized:!1,enabled:!1};function Ti(n){return EA.get(n)||Vx}function nl(n,e){EA.set(n,e)}function r1(){return Bx}class $x{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function Wx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ts=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CA(n){if(!Ti(n).activated)throw Ts.create("use-before-activation",{appName:n.name})}function tT(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(M){throw Ts.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw Ts.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(M){throw Ts.create("fetch-parse-error",{originalErrorMessage:M.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const w=1e3*Number(v[1]),A=Date.now();return{token:m.attestationToken,expireTimeMillis:A+w,issuedAtTimeMillis:A}}),nT.apply(this,arguments)}function Yx(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const db="firebase-app-check-store";let o1=null;function SA(){return o1||(o1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ts.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(db,{keyPath:"compositeKey"})}}catch(t){e(Ts.create("storage-open",{originalErrorMessage:t.message}))}}),o1)}function rT(){return rT=(0,ye.Z)(function*(n,e){const r=(yield SA()).transaction(db,"readwrite"),l=r.objectStore(db).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var w;m(Ts.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})}),rT.apply(this,arguments)}const hb=new Hr.Yd("@firebase/app-check");function OA(n,e){return(0,zt.hl)()?function eR(n,e){return function AA(n,e){return rT.apply(this,arguments)}(function MA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xA(){return r1().enabled}function RA(){return aT.apply(this,arguments)}function aT(){return aT=(0,ye.Z)(function*(){const n=r1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),aT.apply(this,arguments)}const oR={error:"UNKNOWN_ERROR"};function aR(n){return zt.US.encodeString(JSON.stringify(n),!1)}function a1(n){return lT.apply(this,arguments)}function lT(){return lT=(0,ye.Z)(function*(n,e=!1){const t=n.app;CA(t);const r=Ti(t);let l,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&l1(v)&&(i=v)}if(!e&&i&&l1(i))return{token:i.token};let m,d=!1;if(xA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tT(Yx(t,yield RA()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const v=yield r.exchangeTokenPromise;return yield OA(t,v),nl(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?hb.warn(v.message):hb.error(v),l=v}return i?(m={token:i.token},nl(t,Object.assign(Object.assign({},r),{token:i})),yield OA(t,i)):m=uR(l),d&&PA(t,m),m}),lT.apply(this,arguments)}function cT(n,e){const t=Ti(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),nl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function kA(n){const{app:e}=n,t=Ti(e);let r=t.tokenRefresher;r||(r=function lR(n){const{app:e}=n;return new $x((0,ye.Z)(function*(){let r;if(r=Ti(e).token?yield a1(n,!0):yield a1(n),r.error)throw r.error}),()=>!0,()=>{const t=Ti(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),nl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function PA(n,e){const t=Ti(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function l1(n){return n.expireTimeMillis-Date.now()>0}function uR(n){return{token:aR(oR),error:n}}class cR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ti(this.app);for(const t of e)cT(this.app,t.next);return Promise.resolve()}}const HA="app-check-internal";!function IR(){(0,lc._registerComponent)(new kg.wA("app-check",n=>function dR(n,e){return new cR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HA).initialize()})),(0,lc._registerComponent)(new kg.wA(HA,n=>function hR(n){return{getToken:e=>a1(n,e),addTokenListener:e=>function uT(n,e,t,r){const{app:i}=n,l=Ti(i),d={next:t,error:r,type:e};if(nl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&l1(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),kA(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>kA(n))}(n,"INTERNAL",e),removeTokenListener:e=>cT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,lc.registerVersion)("@firebase/app-check","0.5.5")}();class pT{constructor(){return(0,ii.vb)("app-check")}}"undefined"!=typeof window&&window;var NR=R(127);const WA=new c.OlP("angularfire2.auth.use-emulator"),zA=new c.OlP("angularfire2.auth.settings"),qA=new c.OlP("angularfire2.auth.tenant-id"),ZA=new c.OlP("angularfire2.auth.langugage-code"),KA=new c.OlP("angularfire2.auth.use-device-language"),YA=new c.OlP("angularfire.auth.persistence"),JA=(n,e,t,r,i,l,d,m)=>(0,ro.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))v.settings[w]=A;return m&&v.setPersistence(m),v},[t,r,i,l,d,m]);let c1=(()=>{class n{constructor(t,r,i,l,d,m,v,w,A,M,F,B){const K=new tn.x,ue=pt(void 0).pipe((0,t1.Q)(d.outsideAngular),Dn(()=>l.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,4087)))),(0,Et.U)(()=>(0,ro.on)(t,l,r)),(0,Et.U)(Oe=>JA(Oe,l,m,w,A,M,v,F)),bA({bufferSize:1,refCount:!1}));if(cr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{ue.pipe(Qs()).subscribe();const Xe=ue.pipe(Dn($e=>$e.getRedirectResult().then(Ye=>Ye,()=>null)),ii.iC,bA({bufferSize:1,refCount:!1})),Pe=ue.pipe(Dn($e=>new Gn.y(Ye=>({unsubscribe:l.runOutsideAngular(()=>$e.onAuthStateChanged(Je=>Ye.next(Je),Je=>Ye.error(Je),()=>Ye.complete()))})))),mt=ue.pipe(Dn($e=>new Gn.y(Ye=>({unsubscribe:l.runOutsideAngular(()=>$e.onIdTokenChanged(Je=>Ye.next(Je),Je=>Ye.error(Je),()=>Ye.complete()))}))));this.authState=Xe.pipe(DA(Pe),(0,JC.R)(d.outsideAngular),(0,t1.Q)(d.insideAngular)),this.user=Xe.pipe(DA(mt),(0,JC.R)(d.outsideAngular),(0,t1.Q)(d.insideAngular)),this.idToken=this.user.pipe(Dn($e=>$e?(0,Rn.D)($e.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(Dn($e=>$e?(0,Rn.D)($e.getIdTokenResult()):pt(null))),this.credential=(0,Mx.T)(Xe,K,this.authState.pipe(hr($e=>!$e))).pipe((0,Et.U)($e=>(null==$e?void 0:$e.user)?$e:null),(0,JC.R)(d.outsideAngular),(0,t1.Q)(d.insideAngular))}return(0,ro.pX)(this,ue,l,{spy:{apply:(Oe,Xe,Pe)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&Pe.then(mt=>K.next(mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ro.Dh),c.LFG(ro.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ii.HU),c.LFG(WA,8),c.LFG(zA,8),c.LFG(qA,8),c.LFG(ZA,8),c.LFG(KA,8),c.LFG(YA,8),c.LFG(pT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function QA(n,e){return function OR(n,e=_y.z){return new Gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function mT(n,e){return QA(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function d1(n,e){return mT(n,e).pipe(Ur(void 0),Cf(),(0,Et.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=i.find(A=>A.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function XA(n,e,t){return d1(n,t).pipe(Cr((r,i)=>function RR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _T(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _T(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _T(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Tf(n,e=ni.y){return n=null!=n?n:fS,(0,ir.e)((t,r)=>{let i,l=!0;t.subscribe((0,gn.x)(r,d=>{const m=e(d);(l||!n(i,m))&&(l=!1,i=m,r.next(d))}))})}(),(0,Et.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _T(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function eN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=d1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ur(void 0),Cf(),hr(([r,i])=>i.length>0||!r),(0,Et.U)(([r,i])=>i),ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=eN(e);return XA(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return mT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ii.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(ii.iC)}add(e){return this.ref.add(e)}doc(e){return new nN(this.ref.doc(e),this.afs)}}class nN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=rN(r,t);return new tN(i,l,this.afs)}snapshotChanges(){return function xR(n,e){return QA(n,e).pipe(Ur(void 0),Cf(),(0,Et.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Rn.D)(this.ref.get(e)).pipe(ii.iC)}}class PR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?d1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),hr(t=>t.length>0),ii.iC):d1(this.query,this.afs.schedulers.outsideAngular).pipe(ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=eN(e);return XA(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return mT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ii.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(ii.iC)}}const FR=new c.OlP("angularfire2.enableFirestorePersistence"),LR=new c.OlP("angularfire2.firestore.persistenceSettings"),VR=new c.OlP("angularfire2.firestore.settings"),BR=new c.OlP("angularfire2.firestore.use-emulator");function rN(n,e=(t=>t)){return{query:e(n),ref:n}}let UR=(()=>{class n{constructor(t,r,i,l,d,m,v,w,A,M,F,B,K,ue,Oe,Xe,Pe){this.schedulers=v;const mt=(0,ro.on)(t,m,r),$e=A;M&&JA(mt,m,F,K,ue,Oe,B,Xe),[this.firestore,this.persistenceEnabled$]=(0,ro.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const Ye=m.runOutsideAngular(()=>mt.firestore());if(l&&Ye.settings(l),$e&&Ye.useEmulator(...$e),i&&!cr(d)){const Je=()=>{try{return(0,Rn.D)(Ye.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Zt){return"undefined"!=typeof console&&console.warn(Zt),pt(!1)}};return[Ye,m.runOutsideAngular(Je)]}return[Ye,pt(!1)]},[l,$e,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=rN(i,r),m=this.schedulers.ngZone.run(()=>l);return new tN(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new PR(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new nN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ro.Dh),c.LFG(ro.xv,8),c.LFG(FR,8),c.LFG(VR,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ii.HU),c.LFG(LR,8),c.LFG(BR,8),c.LFG(c1,8),c.LFG(WA,8),c.LFG(zA,8),c.LFG(qA,8),c.LFG(ZA,8),c.LFG(KA,8),c.LFG(YA,8),c.LFG(pT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iN=(()=>{class n{constructor(t,r,i,l){this.afStore=t,this.ngFireAuth=r,this.router=i,this.ngZone=l,this.ngFireAuth.authState.subscribe(d=>{d?(this.userData=d,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")||"{}")):(localStorage.setItem("user",""),JSON.parse(localStorage.getItem("user")||"{}"))})}SignIn(t,r){return this.ngFireAuth.signInWithEmailAndPassword(t,r)}RegisterUser(t,r){return this.ngFireAuth.createUserWithEmailAndPassword(t,r)}PasswordRecover(t){return this.ngFireAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email has been sent, please check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user")||"{}");return null!==t&&!1!==t.emailVerified}SetUserData(t){return this.afStore.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.ngFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UR),c.LFG(c1),c.LFG(ri),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jR=(()=>{class n{constructor(t){this.afauth=t}logInGoogle(){var t=this;return(0,ye.Z)(function*(){try{return yield t.afauth.signInWithPopup(new NR.Z.auth.GoogleAuthProvider)}catch(r){return console.log("error en login ",r),null}})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ts=new c.OlP("NgValidators"),Fh=new c.OlP("NgAsyncValidators");function mN(n){return null!=n}function _N(n){const e=(0,c.QGY)(n)?(0,Rn.D)(n):n;return(0,c.CqO)(e),e}function yN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vN(n,e){return e.map(t=>t(n))}function bN(n){return n.map(e=>function ZR(n){return!n.validate}(e)?e:t=>e.validate(t))}function vT(n){return null!=n?function DN(n){if(!n)return null;const e=n.filter(mN);return 0==e.length?null:function(t){return yN(vN(t,e))}}(bN(n)):null}function bT(n){return null!=n?function wN(n){if(!n)return null;const e=n.filter(mN);return 0==e.length?null:function(t){return function GR(...n){const e=(0,bn.jO)(n),{args:t,keys:r}=xi(n),i=new Gn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let v=d,w=d;for(let A=0;A<d;A++){let M=!1;(0,yi.Xf)(t[A]).subscribe((0,gn.x)(l,F=>{M||(M=!0,w--),m[A]=F},()=>v--,void 0,()=>{(!v||!M)&&(w||l.next(r?wo(r,m):m),l.complete())}))}});return e?i.pipe(Lu(e)):i}(vN(t,e).map(_N)).pipe((0,Et.U)(yN))}}(bN(n)):null}function EN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DT(n){return n?Array.isArray(n)?n:[n]:[]}function f1(n,e){return Array.isArray(n)?n.includes(e):n===e}function TN(n,e){const t=DT(e);return DT(n).forEach(i=>{f1(t,i)||t.push(i)}),t}function SN(n,e){return DT(e).filter(t=>!f1(n,t))}class Ss extends class AN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let MN=(()=>{class n extends class NN{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ss,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function _1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IT(n,e){const t=function IN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(EN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function CN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(EN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();_1(e._rawValidators,i),_1(e._rawAsyncValidators,i)}function xN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ST(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const pb="VALID",v1="INVALID",D_="PENDING",gb="DISABLED";function NT(n){return(b1(n)?n.validators:n)||null}function FN(n){return Array.isArray(n)?vT(n):n||null}function MT(n,e){return(b1(e)?e.asyncValidators:n)||null}function LN(n){return Array.isArray(n)?bT(n):n||null}function b1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const OT=n=>n instanceof RT;function BN(n){return(n=>n instanceof GN)(n)?n.value:n.getRawValue()}function UN(n,e){const t=OT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function jN(n,e){OT(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class xT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=FN(this._rawValidators),this._composedAsyncValidatorFn=LN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pb}get invalid(){return this.status===v1}get pending(){return this.status==D_}get disabled(){return this.status===gb}get enabled(){return this.status!==gb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=FN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=LN(e)}addValidators(e){this.setValidators(TN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SN(e,this._rawAsyncValidators))}hasValidator(e){return f1(this._rawValidators,e)}hasAsyncValidator(e){return f1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=D_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gb,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pb||this.status===D_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gb:pb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=D_,this._hasOwnPendingAsyncValidator=!0;const t=_N(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function uk(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=OT(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof dk)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?gb:this.errors?v1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D_)?D_:this._anyControlsHaveStatus(v1)?v1:pb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){b1(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class GN extends xT{constructor(e=null,t,r){super(NT(t),MT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),b1(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ST(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ST(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class RT extends xT{constructor(e,t,r){super(NT(t),MT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jN(this,e),Object.keys(e).forEach(r=>{UN(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=BN(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class dk extends xT{constructor(e,t,r){super(NT(t),MT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){jN(this,e),e.forEach((r,i)=>{UN(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>BN(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const hk={provide:Ss,useExisting:(0,c.Gpc)(()=>D1)},mb=(()=>Promise.resolve(null))();let D1=(()=>{class n extends Ss{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new RT({},vT(t),bT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),function fb(n,e){IT(n,e),e.valueAccessor.writeValue(n.value),function rk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xN(n,e)})}(n,e),function sk(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ik(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mb.then(()=>{const r=this._findContainer(t.path),i=new RT({});(function RN(n,e){IT(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){mb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function PN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ts,10),c.Y36(Fh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([hk]),c.qOj]}),n})(),qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[KN]]}),n})(),Uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Bk]}),n})();const jk=[{path:"login",component:(()=>{class n{constructor(t,r,i){this.authService=t,this.authServiceLogin=r,this.router=i}ngOnInit(){}logIn(t,r){this.authService.SignIn(t.value,r.value).then(i=>{window.alert("Logueado Correctamente")}).catch(i=>(window.alert(i.message),null))}registro(t,r){var i=this;return(0,ye.Z)(function*(){console.log(t.value+r.value),i.authService.RegisterUser(t.value,r.value).then(l=>{window.alert("Registrado Correctamente")}).catch(l=>(window.alert(l.message),null))})()}logInGoogle(){var t=this;return(0,ye.Z)(function*(){t.authServiceLogin.logInGoogle().then(r=>{window.alert("Logueado Correctamente")}).catch(r=>(window.alert(r.message),null))})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(iN),c.Y36(jR),c.Y36(ri))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"],["action","#","id","login-form"],[1,"heading"],[1,"left"],["for","email"],["type","email","name","email","id","email"],["email",""],["for","password"],["type","password","name","password","id","pass"],["password",""],["type","submit","value","Login",3,"click"],[2,"font-size","1em"],[2,"color","blue","text-decoration","underline","font-size","1em","cursor","pointer",3,"click"],[1,"right"],[1,"connect"],[1,"google-plus",3,"click"],[1,"fontawesome-google-plus"],["aria-hidden","true",1,"bi","bi-google"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"html",0)(1,"head"),c._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"link",4),c.TgZ(6,"title"),c._uU(7,"Ian Garcia"),c.qZA()(),c.TgZ(8,"body")(9,"form",5)(10,"div",6),c._uU(11,"Registro/Login"),c.qZA(),c.TgZ(12,"div",7)(13,"label",8),c._uU(14,"Email"),c.qZA(),c._UZ(15,"br")(16,"input",9,10)(18,"br"),c.TgZ(19,"label",11),c._uU(20,"Password"),c.qZA(),c._UZ(21,"br")(22,"input",12,13)(24,"br"),c.TgZ(25,"input",14),c.NdJ("click",function(){c.CHM(i);const d=c.MAs(17),m=c.MAs(23);return r.logIn(d,m)}),c.qZA(),c._UZ(26,"br"),c.TgZ(27,"label",15),c._uU(28,"No tenes cuenta? "),c.TgZ(29,"a",16),c.NdJ("click",function(){c.CHM(i);const d=c.MAs(17),m=c.MAs(23);return r.registro(d,m)}),c._uU(30,"Registrate"),c.qZA()()(),c.TgZ(31,"div",17)(32,"div",18),c._uU(33,"Entrar con"),c.qZA(),c.TgZ(34,"a",19),c.NdJ("click",function(){return r.logInGoogle()}),c.TgZ(35,"span",20),c._UZ(36,"i",21),c.qZA()()()()()()}},directives:[qN,MN,D1],styles:['[class*=fontawesome-][_ngcontent-%COMP%]:before{font-family:FontAwesome,sans-serif}body[_ngcontent-%COMP%]{background:-owg-linear-gradient(left,#272838,#2b2d41,#393549,#433545);background:linear-gradient(left,#272838,#2b2d41,#393549,#433545);font-family:Raleway,sans-serif}form#login-form[_ngcontent-%COMP%]{background:#fff;width:40em;margin:2em auto;overflow:hidden;position:relative;border-radius:.3em;box-shadow:0 0 .2em #000}form#login-form[_ngcontent-%COMP%]   div.heading[_ngcontent-%COMP%]{background:#f85f64;color:#fff;text-align:center;text-transform:uppercase;font-weight:700;padding:1.5em;font-size:1.1em}form#login-form[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]{width:45%;float:left;padding:1.7em 1.5em 2.5em;box-sizing:border-box}form#login-form[_ngcontent-%COMP%]   div.right[_ngcontent-%COMP%]{width:45%;float:right;padding:1.7em 1.5em 2.5em;box-sizing:border-box}form#login-form[_ngcontent-%COMP%]:before, form#login-form[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;left:0;bottom:0;margin:auto}form#login-form[_ngcontent-%COMP%]:before{content:"or";color:gray;height:.5em;width:.5em;top:1.75em}form#login-form[_ngcontent-%COMP%]:after{content:"";background:rgba(128,128,128,.3);height:8em;width:.12em;top:-7em;left:.5em;z-index:900;box-shadow:0 9.6em #8080804d}div.left[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;color:gray;font-size:1.1em;margin-top:.6em}div.left[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], div.left[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border:.1em solid #dfdfdf;padding:1em;margin:.6em 0;max-width:88.5%;border-radius:.2em;box-shadow:0 0 .2em #dfdfdf33;transition:.15s all ease-in-out}div.left[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, div.left[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border:.1em solid #919191}div.left[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background:#f85f64;color:#fff;outline:none;text-transform:uppercase;padding:1.2em;overflow:hidden;border:none;letter-spacing:.1em;margin:.5em 0;font-weight:700;border-radius:.4em;transition:.15s all ease-in-out}div.left[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background:rgba(248,95,100,.8)}div.right[_ngcontent-%COMP%]   div.connect[_ngcontent-%COMP%]{color:gray;font-size:1.1em;text-align:center}div.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;font-size:1.5em;text-decoration:none;color:#fff;width:9em;padding:.55em .3em;clear:both;text-align:center;margin:.5em .1em;border-radius:.3em}div.right[_ngcontent-%COMP%]   a.facebook[_ngcontent-%COMP%]{background:#3a589a;margin-top:.8em;transition:.15s all ease-in-out}div.right[_ngcontent-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{background:rgba(58,88,154,.8)}div.right[_ngcontent-%COMP%]   a.twitter[_ngcontent-%COMP%]{background:#4099ff;transition:.15s all ease-in-out}div.right[_ngcontent-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover{background:rgba(64,153,255,.8)}div.right[_ngcontent-%COMP%]   a.google-plus[_ngcontent-%COMP%]{background:#e9544f;transition:.15s all ease-in-out}div.right[_ngcontent-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover{background:rgba(233,84,79,.8)}']}),n})()},{path:"quien-soy",component:$b},{path:"",pathMatch:"full",component:W1}];let Gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[If.forRoot(jk)],If]}),n})();var Hk=R(1144);const $k=["addListener","removeListener"],Wk=["addEventListener","removeEventListener"],zk=["on","off"];function As(n,e,t,r){if((0,_i.m)(t)&&(r=t,t=void 0),r)return As(n,e,t).pipe(Lu(r));const[i,l]=function Kk(n){return(0,_i.m)(n.addEventListener)&&(0,_i.m)(n.removeEventListener)}(n)?Wk.map(d=>m=>n[d](e,m,t)):function qk(n){return(0,_i.m)(n.addListener)&&(0,_i.m)(n.removeListener)}(n)?$k.map(fM(n,e)):function Zk(n){return(0,_i.m)(n.on)&&(0,_i.m)(n.off)}(n)?zk.map(fM(n,e)):[];if(!i&&(0,Hk.z)(n))return(0,vn.z)(d=>As(d,e,t))((0,yi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Gn.y(d=>{const m=(...v)=>d.next(1<v.length?v:v[0]);return i(m),()=>l(m)})}function fM(n,e){return t=>r=>n[t](e,r)}var Yk=R(3532);const{isArray:Qk}=Array;function pM(n){return 1===n.length&&Qk(n[0])?n[0]:n}var w1=R(5032);function E1(...n){const e=(0,bn.jO)(n),t=pM(n);return t.length?new Gn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,yi.Xf)(t[d]).subscribe((0,gn.x)(r,m=>{if(i[d].push(m),i.every(v=>v.length)){const v=i.map(w=>w.shift());r.next(e?e(...v):v),i.some((w,A)=>!w.length&&l[A])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):Ys.E}function li(n){return(0,ir.e)((e,t)=>{(0,yi.Xf)(n).subscribe((0,gn.x)(t,()=>t.complete(),w1.Z)),!t.closed&&e.subscribe(t)})}function jT(...n){const e=(0,bn.jO)(n);return(0,ir.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),m=!1;for(let v=0;v<i;v++)(0,yi.Xf)(n[v]).subscribe((0,gn.x)(r,w=>{l[v]=w,!m&&!d[v]&&(d[v]=!0,(m=d.every(ni.y))&&(d=null))},w1.Z));t.subscribe((0,gn.x)(r,v=>{if(m){const w=[v,...l];r.next(e?e(...w):w)}}))})}new Gn.y(w1.Z),Math,Math,Math;const fF=["*"],OF=["dialog"];function Yp(n){return null!=n}function S_(n){return(n||document.body).getBoundingClientRect()}const RM={animation:!0,transitionTimerDelayMs:5},TL=()=>{},{transitionTimerDelayMs:SL}=RM,Eb=new Map,Ns=(n,e,t,r)=>{let i=r.context||{};const l=Eb.get(e);if(l)switch(r.runningTransition){case"continue":return Ys.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),Eb.delete(e)}const d=t(e,r.animation,i)||TL;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),pt(void 0).pipe(function IL(n){return e=>new Gn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new tn.x,v=new tn.x,w=m.pipe(function eP(...n){return e=>Ml(e,pt(...n))}(!0));Eb.set(e,{transition$:m,complete:()=>{v.next(),v.complete()},context:i});const A=function CL(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=As(e,"transitionend").pipe(li(w),hr(({target:B})=>B===e));(function gM(...n){return 1===(n=pM(n)).length?(0,yi.Xf)(n[0]):new Gn.y(function Xk(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,yi.Xf)(n[r]).subscribe((0,gn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function UT(n=0,e,t=_y.P){let r=-1;return null!=e&&((0,Yk.K)(e)?t=e:r=e),new Gn.y(i=>{let l=function Jk(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(A+SL).pipe(li(w)),M,v).pipe(li(w)).subscribe(()=>{Eb.delete(e),n.run(()=>{d(),m.next(),m.complete()})})}),m.asObservable()};let N1=(()=>{class n{constructor(){this.animation=RM.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),GM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),zM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var ui=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(ui||(ui={})),ui))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ZM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function KM(n){const e=Array.from(n.querySelectorAll(ZM)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let rO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn,Uk]]}),n})(),sS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class eg{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let vV=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Zn.q)(1)).subscribe(()=>{Ns(this._zone,this._el.nativeElement,(t,r)=>{r&&S_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ns(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class aO{close(e){}dismiss(e){}}class bV{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new tn.x,this._dismissed=new tn.x,this._hidden=new tn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(li(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(li(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function wL(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():pt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),E1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Sb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Sb||(Sb={})),Sb))();let DV=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new tn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new tn.x,this.hidden=new tn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Zn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=E1(Ns(this._zone,t,()=>t.classList.remove("show"),r),Ns(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};E1(Ns(this._zone,this._elRef.nativeElement,(l,d)=>{d&&S_(l),l.classList.add("show")},t),Ns(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{As(t,"keydown").pipe(li(this._closed$),hr(i=>i.which===ui.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Sb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;As(this._dialogEl.nativeElement,"mousedown").pipe(li(this._closed$),(0,Tr.b)(()=>r=!1),Dn(()=>As(t,"mouseup").pipe(li(this._closed$),(0,Zn.q)(1))),hr(({target:i})=>t===i)).subscribe(()=>{r=!0}),As(t,"click").pipe(li(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Sb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=KM(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ns(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(re),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(OF,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:fF,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),wV=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const m=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${m+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EV=(()=>{class n{constructor(t,r,i,l,d,m){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=m,this._activeWindowCmptHasChanged=new tn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=As(e,"focusin").pipe(li(t),(0,Et.U)(l=>l.target));As(e,"keydown").pipe(li(t),hr(l=>l.which===ui.Tab),jT(i)).subscribe(([l,d])=>{const[m,v]=KM(e);(d===m||d===e)&&l.shiftKey&&(v.focus(),l.preventDefault()),d===v&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&As(e,"click").pipe(li(t),jT(i),(0,Et.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,l){const d=l.container instanceof HTMLElement?l.container:Yp(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),v=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!d)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const w=new aO,A=this._getContentRef(t,l.injector||r,i,w,l);let M=!1!==l.backdrop?this._attachBackdrop(t,d):void 0,F=this._attachWindowComponent(t,d,A),B=new bV(F,A,M,l.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(F),B.result.then(v,v),w.close=K=>{B.close(K)},w.dismiss=K=>{B.dismiss(K)},this._applyWindowOptions(F.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),M&&M.instance&&(this._applyBackdropOptions(M.instance,l),M.changeDetectorRef.detectChanges()),F.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let l=t.resolveComponentFactory(vV).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,r,i){let d=t.resolveComponentFactory(DV).create(this._injector,i.nodes);return this._applicationRef.attachView(d.hostView),r.appendChild(d.location.nativeElement),d}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Yp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Yp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l,d){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,l):function xM(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,d):new eg([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new eg([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new eg([[r]])}_createFromComponent(t,r,i,l,d){const m=t.resolveComponentFactory(i),v=c.zs3.create({providers:[{provide:aO,useValue:l}],parent:r}),w=m.create(v),A=w.location.nativeElement;return d.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new eg([[A]],w.hostView,w)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(re),c.LFG(wV),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IV=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(N1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CV=(()=>{class n{constructor(t,r,i,l){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=l}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(EV),c.LFG(IV))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CV]}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),wO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),TO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function VV(){return 100}});let AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn]]}),n})();const BV=[BM,UM,GM,WM,zM,rO,oO,lO,hO,bO,wO,EO,IO,CO,TO,SO,AO];let UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[BV,BM,UM,GM,WM,zM,rO,oO,lO,hO,bO,wO,EO,IO,CO,TO,SO,AO]}),n})(),jV=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}estaLogeado(){var t=this;return(0,ye.Z)(function*(){return t.authService.isLoggedIn})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(iN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["id","lNavBar",1,"container-fluid"],["width","40","height","40","src","https://www.centroculturalhaedo.edu.ar/wp-content/uploads/2016/05/UTN_logo.png","href","#"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","/quien-soy",1,"nav-link"],["id","rNavBar",1,"collapse","navbar-collapse","flex-grow-1","text-right"],[1,"navbar-nav","ms-auto","flex-nowrap"],["href","/login",1,"nav-link","menu-item"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"button",3),c._UZ(4,"span",4),c.qZA(),c.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),c._uU(9,"Home"),c.qZA()(),c.TgZ(10,"li",7)(11,"a",9),c._uU(12,"Quien Soy"),c.qZA()()()()(),c.TgZ(13,"div",10)(14,"ul",11)(15,"li",7)(16,"a",12),c._uU(17,"Registro"),c.qZA()(),c.TgZ(18,"li",7)(19,"a",12),c._uU(20,"Login"),c.qZA()()()()())},directives:[sS],styles:[""]}),n})(),GV=(()=>{class n{constructor(){this.title="TPSALAJUEGOS"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-nav")(1,"router-outlet")},directives:[jV,tc],styles:[""]}),n})();const NO_firebaseConfig={apiKey:"AIzaSyCrEF2mAkH45Kt3c5otkMuj3lmh2JzmXaE",authDomain:"tpsaladejuegos-8b998.firebaseapp.com",projectId:"tpsaladejuegos-8b998",storageBucket:"tpsaladejuegos-8b998.appspot.com",messagingSenderId:"985909907155",appId:"1:985909907155:web:c27c368d47cdb9e7404e26"};let HV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[GV]}),n.\u0275inj=c.cJS({providers:[],imports:[[Ma,Gk,UV,ro.hO.initializeApp(NO_firebaseConfig)]]}),n})();(0,c.G48)(),Au().bootstrapModule(HV).catch(n=>console.error(n))},5867:(at,Ie,R)=>{R.d(Ie,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=R(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(at,Ie,R)=>{R.d(Ie,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(at,Ie,R)=>{R.r(Ie);var c=R(5861),Y=R(3942),k=R(2090),oe=R(9681),X=R(655),me=R(1877),re=R(4859);const Re=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new me.Yd("@firebase/auth");function Ze(y,...f){nt.logLevel<=me.in.ERROR&&nt.error(`Auth (${oe.SDK_VERSION}): ${y}`,...f)}function Ce(y,...f){throw Ge(y,...f)}function be(y,...f){return Ge(y,...f)}function De(y,f,g){const b=Object.assign(Object.assign({},Ve()),{[f]:g});return new k.LL("auth","Firebase",b).create(f,{appName:y.name})}function We(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ce(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...f){if("string"!=typeof y){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return pe.create(y,...f)}function te(y,f,...g){if(!y)throw Ge(f,...g)}function z(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ze(f),new Error(f)}function ne(y,f){y||z(f)}const _e=new Map;function ie(y){ne(y instanceof Function,"Expected a class definition");let f=_e.get(y);return f?(ne(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,_e.set(y,f),f)}function Ct(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Qt(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class un{constructor(f,g){this.shortDelay=f,this.longDelay=g,ne(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(y,f){ne(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ai{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ns=new un(3e4,6e4);function Xt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ht(y,f,g,b){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(y,f,g,b,T={}){return ci(y,T,(0,c.Z)(function*(){let x={},W={};b&&("GET"===f?W=b:x={body:JSON.stringify(b)});const se=(0,k.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),Ai.fetch()(Vr(y,y.config.apiHost,g,se),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ci(y,f,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},sn),f);try{const T=new rs(y),x=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const W=yield x.json();if("needConfirmation"in W)throw is(y,"account-exists-with-different-credential",W);if(x.ok&&!("errorMessage"in W))return W;{const se=x.ok?W.errorMessage:W.error.message,[Ue,tt]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw is(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ue)throw is(y,"email-already-in-use",W);const vt=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw De(y,vt,tt);Ce(y,vt)}}catch(T){if(T instanceof k.ZR)throw T;Ce(y,"network-request-failed")}})).apply(this,arguments)}function Lr(y,f,g,b){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(y,f,g,b,T={}){const x=yield Ht(y,f,g,b,T);return"mfaPendingCredential"in x&&Ce(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Vr(y,f,g,b){const T=`${f}${g}?${b}`;return y.config.emulator?cn(y.config,T):`${y.config.apiScheme}://${T}`}class rs{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),ns.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function is(y,f,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=be(y,f,b);return T.customData._tokenResponse=g,T}function Jr(){return(Jr=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function tr(y,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function di(y,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function _n(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Da(){return(Da=(0,c.Z)(function*(y,f=!1){const g=(0,k.m9)(y),b=yield g.getIdToken(f),T=ot(b);te(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,W=null==x?void 0:x.sign_in_provider;return{claims:T,token:b,authTime:_n($t(T.auth_time)),issuedAtTime:_n($t(T.iat)),expirationTime:_n($t(T.exp)),signInProvider:W||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(y){return 1e3*Number(y)}function ot(y){const[f,g,b]=y.split(".");if(void 0===f||void 0===g||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,k.tV)(g);return T?JSON.parse(T):(Ze("Failed to decode base64 JWT payload"),null)}catch(T){return Ze("Caught error parsing JWT payload as JSON",T),null}}function ar(y,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Gt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class co{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class yr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(y){var f;const g=y.auth,b=yield y.getIdToken(),T=yield ar(y,di(g,{idToken:b}));te(null==T?void 0:T.users.length,g,"internal-error");const x=T.users[0];y._notifyReloadListener(x);const W=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?Te(x.providerUserInfo):[],se=Ke(y.providerData,W),vt=!!y.isAnonymous&&!(y.email&&x.passwordHash||(null==se?void 0:se.length)),lt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:se,metadata:new yr(x.createdAt,x.lastLoginAt),isAnonymous:vt};Object.assign(y,lt)})).apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(y){const f=(0,k.m9)(y);yield lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ke(y,f){return[...y.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function Te(y){return y.map(f=>{var{providerId:g}=f,b=(0,X._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,c.Z)(function*(y,f){const g=yield ci(y,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=y.config,W=Vr(y,T,"/v1/token",`key=${x}`),se=yield y._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Ai.fetch()(W,{method:"POST",headers:se,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(void 0!==f.idToken,"internal-error"),te(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Dt(y){const f=ot(y);return te(f,"internal-error"),te(void 0!==f.exp,"internal-error"),te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return te(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:W}=yield function et(y,f){return ht.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(T,x,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:T,expirationTime:x}=g,W=new jt;return b&&(te("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),T&&(te("string"==typeof T,"internal-error",{appName:f}),W.accessToken=T),x&&(te("number"==typeof x,"internal-error",{appName:f}),W.expirationTime=x),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Lt(y,f){te("string"==typeof y||void 0===y,"internal-error",{appName:f})}class j{constructor(f){var{uid:g,auth:b,stsTokenManager:T}=f,x=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new co(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new yr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield ar(g,g.stsTokenManager.getToken(g.auth,f));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Os(y){return Da.apply(this,arguments)}(this,f)}reload(){return function vr(y){return Ut.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield lr(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield ar(f,function ct(y,f){return Jr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,T,x,W,se,Ue,tt,vt;const lt=null!==(b=g.displayName)&&void 0!==b?b:void 0,An=null!==(T=g.email)&&void 0!==T?T:void 0,Ji=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,ac=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Ul=null!==(se=g.tenantId)&&void 0!==se?se:void 0,jl=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,Df=null!==(tt=g.createdAt)&&void 0!==tt?tt:void 0,sy=null!==(vt=g.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:sa,emailVerified:Ud,isAnonymous:jd,providerData:wf,stsTokenManager:Gd}=g;te(sa&&Gd,f,"internal-error");const ri=jt.fromJSON(this.name,Gd);te("string"==typeof sa,f,"internal-error"),Lt(lt,f.name),Lt(An,f.name),te("boolean"==typeof Ud,f,"internal-error"),te("boolean"==typeof jd,f,"internal-error"),Lt(Ji,f.name),Lt(ac,f.name),Lt(Ul,f.name),Lt(jl,f.name),Lt(Df,f.name),Lt(sy,f.name);const Ef=new j({uid:sa,auth:f,email:An,emailVerified:Ud,displayName:lt,isAnonymous:jd,photoURL:ac,phoneNumber:Ji,tenantId:Ul,stsTokenManager:ri,createdAt:Df,lastLoginAt:sy});return wf&&Array.isArray(wf)&&(Ef.providerData=wf.map(Mg=>Object.assign({},Mg))),jl&&(Ef._redirectEventId=jl),Ef}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const T=new jt;T.updateFromServerResponse(g);const x=new j({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield lr(x),x})()}}const $=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,c.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function de(y,f,g){return`firebase:${y}:${f}:${g}`}class J{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:T,name:x}=this.auth;this.fullUserKey=de(this.userKey,T.apiKey,x),this.fullPersistenceKey=de("persistence",T.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?j._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new J(ie($),f,b);const T=(yield Promise.all(g.map(function(){var tt=(0,c.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let x=T[0]||ie($);const W=de(b,f.config.apiKey,f.name);let se=null;for(const tt of g)try{const vt=yield tt._get(W);if(vt){const lt=j._fromJSON(f,vt);tt!==x&&(se=lt),x=tt;break}}catch(vt){}const Ue=T.filter(tt=>tt._shouldAllowMigration);return x._shouldAllowMigration&&Ue.length?(x=Ue[0],se&&(yield x._set(W,se.toJSON())),yield Promise.all(g.map(function(){var tt=(0,c.Z)(function*(vt){if(vt!==x)try{yield vt._remove(W)}catch(lt){}});return function(vt){return tt.apply(this,arguments)}}())),new J(x,f,b)):new J(x,f,b)})()}}function Be(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Wt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(yt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(xt(f))return"Blackberry";if(dn(f))return"Webos";if(Kt(f))return"Safari";if((f.includes("chrome/")||br(f))&&!f.includes("edge/"))return"Chrome";if(In(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function yt(y=(0,k.z$)()){return/firefox\//i.test(y)}function Kt(y=(0,k.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function br(y=(0,k.z$)()){return/crios\//i.test(y)}function Wt(y=(0,k.z$)()){return/iemobile/i.test(y)}function In(y=(0,k.z$)()){return/android/i.test(y)}function xt(y=(0,k.z$)()){return/blackberry/i.test(y)}function dn(y=(0,k.z$)()){return/webos/i.test(y)}function rr(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)}function ss(y=(0,k.z$)()){return rr(y)||In(y)||dn(y)||xt(y)||/windows phone/i.test(y)||Wt(y)}function Ea(y,f=[]){let g;switch(y){case"Browser":g=Be((0,k.z$)());break;case"Worker":g=`${Be((0,k.z$)())}-${y}`;break;default:g=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${b}`}class hi{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,x;if(!b._deleted&&(b.persistenceManager=yield J.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let T=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==T?void 0:T._redirectEventId,se=yield g.tryRedirectSignIn(f);(!x||x===W)&&(null==se?void 0:se.user)&&(T=se.user)}return T?T._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield lr(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _t(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&te(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&ie(f)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ie(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,T){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return te(W,this,"internal-error"),W.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,b,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ea(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function ke(y){return(0,k.m9)(y)}class Pt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ur(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Vn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class on{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(f){return z("not implemented")}_linkToIdToken(f,g){return z("not implemented")}_getReauthenticationResolver(f){return z("not implemented")}}function On(y,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:resetPassword",Xt(y,f))})).apply(this,arguments)}function Mt(y,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fo(y,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",Xt(y,f))})).apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithPassword",Xt(y,f))})).apply(this,arguments)}function os(y,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:sendOobCode",Xt(y,f))})).apply(this,arguments)}function Dr(y,f){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function ul(y,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function Ni(y,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function od(y,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,f))})).apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,f))})).apply(this,arguments)}class hl extends on{constructor(f,g,b,T=null){super("password",b),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new hl(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new hl(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function ks(y,f){return Bn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function dl(y,f){return Qr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ce(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Mt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function jh(y,f){return Ho.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Un(y,f){return ad.apply(this,arguments)}function ad(){return(ad=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithIdp",Xt(y,f))})).apply(this,arguments)}class ls extends on{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ls(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=g,x=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const W=new ls(b,T);return W.idToken=x.idToken||void 0,W.accessToken=x.accessToken||void 0,W.secret=x.secret,W.nonce=x.nonce,W.pendingToken=x.pendingToken||null,W}_getIdTokenResponse(f){return Un(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Un(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Un(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function sg(y,f){return ld.apply(this,arguments)}function ld(){return(ld=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:sendVerificationCode",Xt(y,f))})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,f))})).apply(this,arguments)}function ud(){return(ud=(0,c.Z)(function*(y,f){const g=yield Lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,f));if(g.temporaryProof)throw is(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ag={USER_NOT_FOUND:"user-not-found"};function cd(){return(cd=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ag)})).apply(this,arguments)}class $o extends on{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new $o({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new $o({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function yu(y,f){return Fs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function og(y,f){return ud.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function lg(y,f){return cd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:x}=f;return b||g||T||x?new $o({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:x}):null}}class po{constructor(f){var g,b,T,x,W,se;const Ue=(0,k.zd)((0,k.pd)(f)),tt=null!==(g=Ue.apiKey)&&void 0!==g?g:null,vt=null!==(b=Ue.oobCode)&&void 0!==b?b:null,lt=function M_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ue.mode)&&void 0!==T?T:null);te(tt&&vt&&lt,"argument-error"),this.apiKey=tt,this.operation=lt,this.code=vt,this.continueUrl=null!==(x=Ue.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(W=Ue.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(se=Ue.tenantId)&&void 0!==se?se:null}static parseLink(f){const g=function fl(y){const f=(0,k.zd)((0,k.pd)(y)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||f||y}(f);try{return new po(g)}catch(b){return null}}}let vu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return hl._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=po.parseLink(b);return te(T,"argument-error"),hl._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ls{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Xr extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Wo extends Xr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return te("providerId"in g&&"signInMethod"in g,"argument-error"),ls._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Wo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Wo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:x,nonce:W,providerId:se}=f;if(!b&&!T&&!g&&!x||!se)return null;try{return new Wo(se)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:x})}catch(Ue){return null}}}let go=(()=>{class y extends Xr{constructor(){super("facebook.com")}static credential(g){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ca=(()=>{class y extends Xr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return y.credential(b,T)}catch(x){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),dd=(()=>{class y extends Xr{constructor(){super("github.com")}static credential(g){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class qn extends on{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Un(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Un(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Un(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:x}=g;return b&&T&&x&&b===T?new qn(b,x):null}static _create(f,g){return new qn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pi extends Ls{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return pi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return pi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=qn.fromJSON(f);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return qn._create(b,g)}catch(T){return null}}}let pl=(()=>{class y extends Xr{constructor(){super("twitter.com")}static credential(g,b){return ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return y.credential(b,T)}catch(x){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function gl(y,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signUp",Xt(y,f))})).apply(this,arguments)}class cr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,T=!1){return(0,c.Z)(function*(){const x=yield j._fromIdTokenResponse(f,b,T),W=Hh(b);return new cr({user:x,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=Hh(b);return new cr({user:f,providerId:T,_tokenResponse:b,operationType:g})})()}}function Hh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function hd(){return(hd=(0,c.Z)(function*(y){var f;const g=ke(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new cr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield gl(g,{returnSecureToken:!0}),T=yield cr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class _l extends k.ZR{constructor(f,g,b,T){var x;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,_l.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,T){return new _l(f,g,b,T)}}function yl(y,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?_l._fromErrorAndOperation(y,x,f,b):x})}function us(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function bu(){return(bu=(0,c.Z)(function*(y,f){const g=(0,k.m9)(y);yield Bs(!0,g,f);const{providerUserInfo:b}=yield tr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=us(b||[]);return g.providerData=g.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function pn(y,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(y,f,g=!1){const b=yield ar(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return cr._forOperation(y,"link",b)})).apply(this,arguments)}function Bs(y,f,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(y,f,g){yield lr(f);const T=!1===y?"provider-already-linked":"no-such-provider";te(us(f.providerData).has(g)===y,f.auth,T)})).apply(this,arguments)}function fd(y,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(y,f,g=!1){const{auth:b}=y,T="reauthenticate";try{const x=yield ar(y,yl(b,T,f,y),g);te(x.idToken,b,"internal-error");const W=ot(x.idToken);te(W,b,"internal-error");const{sub:se}=W;return te(y.uid===se,b,"user-mismatch"),cr._forOperation(y,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Ce(b,"user-mismatch"),x}})).apply(this,arguments)}function _o(y,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(y,f,g=!1){const b="signIn",T=yield yl(y,b,f),x=yield cr._fromIdTokenResponse(y,b,T);return g||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function xn(y,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(y,f){return _o(ke(y),f)})).apply(this,arguments)}function Mi(y,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,f){const g=(0,k.m9)(y);return yield Bs(!1,g,f.providerId),pn(g,f)})).apply(this,arguments)}function Us(y,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,c.Z)(function*(y,f){return fd((0,k.m9)(y),f)})).apply(this,arguments)}function vl(y,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(y,f){return Lr(y,"POST","/v1/accounts:signInWithCustomToken",Xt(y,f))})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(y,f){const g=ke(y),b=yield vl(g,{token:f,returnSecureToken:!0}),T=yield cr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ft{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?bl._fromServerResponse(f,g):Ce(f,"internal-error")}}class bl extends ft{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new bl(g)}}function Aa(y,f,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function wl(){return(wl=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y),T={requestType:"PASSWORD_RESET",email:f};g&&Aa(b,T,g),yield ul(b,T)})).apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(y,f,g){yield On((0,k.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(y,f){yield fo((0,k.m9)(y),{oobCode:f})})).apply(this,arguments)}function Vt(y,f){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(y,f){const g=(0,k.m9)(y),b=yield On(g,{oobCode:f}),T=b.requestType;switch(te(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=ft._fromServerResponse(ke(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(y,f){const{data:g}=yield Vt((0,k.m9)(y),f);return g.email})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(y,f,g){const b=ke(y),T=yield gl(b,{returnSecureToken:!0,email:f,password:g}),x=yield cr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function pd(){return(pd=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y),T={requestType:"EMAIL_SIGNIN",email:f};te(g.handleCodeInApp,b,"argument-error"),g&&Aa(b,T,g),yield Ni(b,T)})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y),T=vu.credentialWithLink(f,g||Ct());return te(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),xn(b,T)})).apply(this,arguments)}function dr(y,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:createAuthUri",Xt(y,f))})).apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(y,f){const b={identifier:f,continueUri:Qt()?Ct():"http://localhost"},{signinMethods:T}=yield dr((0,k.m9)(y),b);return T||[]})).apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(y,f){const g=(0,k.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Aa(g.auth,T,f);const{email:x}=yield Dr(g.auth,T);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Aa(b.auth,x,g);const{email:W}=yield od(b.auth,x);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function Au(y,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Nu(){return(Nu=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,k.m9)(y),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield ar(b,Au(b.auth,x));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const se=b.providerData.find(({providerId:Ue})=>"password"===Ue);se&&(se.displayName=b.displayName,se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Ou(y,f,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(y,f,g){const{auth:b}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const W=yield ar(y,Mt(b,x));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class vo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class _d extends vo{constructor(f,g,b,T){super(f,g,b),this.username=T}}class yd extends vo{constructor(f,g){super(f,"facebook.com",g)}}class bo extends _d{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ws extends vo{constructor(f,g){super(f,"google.com",g)}}class xu extends _d{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Ir(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function md(y){var f,g;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const W=null===(g=null===(f=ot(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new vo(x,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new yd(x,T);case"github.com":return new bo(x,T);case"google.com":return new Ws(x,T);case"twitter.com":return new xu(x,T,y.screenName||null);case"custom":case"anonymous":return new vo(x,null);default:return new vo(x,b,T)}}(g)}class ds{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ds("enroll",f)}static _fromMfaPendingCredential(f){return new ds("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ds._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return ds._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Oa{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=ke(f),T=g.customData._serverResponse,x=(T.mfaInfo||[]).map(se=>ft._fromServerResponse(b,se));te(T.mfaPendingCredential,b,"internal-error");const W=ds._fromMfaPendingCredential(T.mfaPendingCredential);return new Oa(W,x,function(){var se=(0,c.Z)(function*(Ue){const tt=yield Ue._process(b,W);delete T.mfaInfo,delete T.mfaPendingCredential;const vt=Object.assign(Object.assign({},T),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(g.operationType){case"signIn":const lt=yield cr._fromIdTokenResponse(b,g.operationType,vt);return yield b._updateCurrentUser(lt.user),lt;case"reauthenticate":return te(g.user,b,"internal-error"),cr._forOperation(g.user,g.operationType,vt);default:Ce(b,"internal-error")}});return function(Ue){return se.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function jn(y,f){return Ht(y,"POST","/v2/accounts/mfaEnrollment:start",Xt(y,f))}class hs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ft._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new hs(f)}getSession(){var f=this;return(0,c.Z)(function*(){return ds._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const T=f,x=yield b.getSession(),W=yield ar(b.user,T._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield g.user.getIdToken(),x=yield ar(g.user,function cg(y,f){return Ht(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(y,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Ko=new WeakMap,Pu="__sak";class Do{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Pu,"1"),this.storage.removeItem(Pu),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const bn=(()=>{class y extends Do{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dd(){const y=(0,k.z$)();return Kt(y)||rr(y)}()&&function zn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),x=this.localCache[b];T!==x&&g(b,x,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((se,Ue,tt)=>{this.notifyListeners(se,tt)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const x=()=>{const se=this.storage.getItem(T);!b&&this.localCache[T]===se||this.notifyListeners(T,se)},W=this.storage.getItem(T);!function wa(){return(0,k.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,x=this;return(0,c.Z)(function*(){yield T().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,c.Z)(function*(){const x=yield b().call(T,g);return T.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,T=this;return(0,c.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),tn=(()=>{class y extends Do{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Gn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const T=g,{eventId:x,eventType:W,data:se}=T.data,Ue=b.handlersMap[W];if(!(null==Ue?void 0:Ue.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:W});const tt=Array.from(Ue).map(function(){var lt=(0,c.Z)(function*(An){return An(T.origin,se)});return function(An){return lt.apply(this,arguments)}}()),vt=yield function kn(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(tt);T.ports[0].postMessage({status:"done",eventId:x,eventType:W,response:vt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Yo(y="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return y+g}class wd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var T=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let W,se;return new Promise((Ue,tt)=>{const vt=Yo("",20);x.port1.start();const lt=setTimeout(()=>{tt(new Error("unsupported_event"))},b);se={messageChannel:x,onMessage(An){const Ji=An;if(Ji.data.eventId===vt)switch(Ji.data.status){case"ack":clearTimeout(lt),W=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ue(Ji.data.response);break;default:clearTimeout(lt),clearTimeout(W),tt(new Error("invalid_response"))}}},T.handlers.add(se),x.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:f,eventId:vt,data:g},[x.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function fn(){return window}function xi(){return void 0!==fn().WorkerGlobalScope&&"function"==typeof fn().importScripts}function ni(){return(ni=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Fu="firebaseLocalStorageDb",wo="firebaseLocalStorage",gn="fbase_key";class fs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function qs(y,f){return y.transaction([wo],f?"readwrite":"readonly").objectStore(wo)}function Zs(){const y=indexedDB.open(Fu,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(wo,{keyPath:gn})}catch(T){g(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(wo)?f(b):(b.close(),yield function mi(){const y=indexedDB.deleteDatabase(Fu);return new fs(y).toPromise()}(),f(yield Zs()))}))})}function _i(y,f,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(y,f,g){const b=qs(y,!0).put({[gn]:f,value:g});return new fs(b).toPromise()})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(y,f){const g=qs(y,!1).get(f),b=yield new fs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Wi(y,f){const g=qs(y,!0).delete(f);return new fs(g).toPromise()}const Ri=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Zs()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(T++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return xi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Gn._getInstance(function Ed(){return xi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(T,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(T,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function Nl(){return ni.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new wd(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Et(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Zs();return yield _i(g,Pu,"1"),yield Wi(g,Pu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(x=>_i(x,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=yield b._withRetries(x=>function Vu(y,f){return Ks.apply(this,arguments)}(x,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(T=>Wi(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(W=>{const se=qs(W,!1).getAll();return new fs(se).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:W,value:se}of b)x.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(se)&&(g.notifyListeners(W,se),T.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!x.has(W)&&(g.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ys(y,f){return Ht(y,"POST","/v2/accounts/mfaSignIn:start",Xt(y,f))}function ki(){return(ki=(0,c.Z)(function*(y){return(yield Ht(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dn(y){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=T=>{const x=be("internal-error");x.customData=T,g(x)},b.type="text/javascript",b.charset="UTF-8",function Id(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Zn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Cr=1e12;class hr{constructor(f){this.auth=f,this.counter=Cr,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new zi(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||Cr;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Cr))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||Cr))||void 0===b||b.execute(),""})()}}class zi{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;te(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vn(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Js=Zn("rcb"),Cd=new un(3e4,6e4);class hg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fn().grecaptcha}load(f,g=""){return te(function fg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(fn().grecaptcha):new Promise((b,T)=>{const x=fn().setTimeout(()=>{T(be(f,"network-request-failed"))},Cd.get());fn()[Js]=()=>{fn().clearTimeout(x),delete fn()[Js];const se=fn().grecaptcha;if(!se)return void T(be(f,"internal-error"));const Ue=se.render;se.render=(tt,vt)=>{const lt=Ue(tt,vt);return this.counter++,lt},this.hostLanguage=g,b(se)},Dn(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Js,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),T(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!fn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pg{load(f){return(0,c.Z)(function*(){return new hr(f)})()}clearedOneInstance(){}}const Qs="recaptcha",Tr={theme:"light",type:"image"};class gg{constructor(f,g=Object.assign({},Tr),b){this.parameters=g,this.type=Qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(b),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pg:new hg,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const W=se=>{!se||(f.tokenChangeListeners.delete(W),x(se))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=fn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){te(Qt()&&!xi(),f.auth,"internal-error"),yield function Xs(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ir(y){return ki.apply(this,arguments)}(f.auth);te(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ps{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=$o._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function wn(){return(wn=(0,c.Z)(function*(y,f,g){const b=ke(y),T=yield Sr(b,f,(0,k.m9)(g));return new ps(T,x=>xn(b,x))})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y);yield Bs(!1,b,"phone");const T=yield Sr(b.auth,f,(0,k.m9)(g));return new ps(T,x=>Mi(b,x))})).apply(this,arguments)}function ju(){return(ju=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y),T=yield Sr(b.auth,f,(0,k.m9)(g));return new ps(T,x=>Us(b,x))})).apply(this,arguments)}function Sr(y,f,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(y,f,g){var b;const T=yield g.verify();try{let x;if(te("string"==typeof T,y,"argument-error"),te(g.type===Qs,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const W=x.session;if("phoneNumber"in x)return te("enroll"===W.type,y,"internal-error"),(yield jn(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===W.type,y,"internal-error");const se=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return te(se,y,"missing-multi-factor-info"),(yield Ys(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield sg(y,{phoneNumber:x.phoneNumber,recaptchaToken:T});return W}}finally{g._reset()}})).apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(y,f){yield pn((0,k.m9)(y),f)})).apply(this,arguments)}let Pi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=ke(g)}verifyPhoneNumber(g,b){return Sr(this.auth,g,(0,k.m9)(b))}static credential(g,b){return $o._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?$o._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function qi(y,f){return f?ie(f):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ra extends on{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Un(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Un(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Un(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Hu(y){return _o(y.auth,new Ra(y),y.bypassAuthState)}function $u(y){const{auth:f,user:g}=y;return te(g,f,"internal-error"),fd(g,new Ra(y),y.bypassAuthState)}function Ft(y){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return te(g,f,"internal-error"),pn(g,new Ra(y),y.bypassAuthState)})).apply(this,arguments)}class Kn{constructor(f,g,b,T,x=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:x,tenantId:W,error:se,type:Ue}=f;if(se)return void g.reject(se);const tt={auth:g.auth,requestUri:b,sessionId:T,tenantId:W||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(tt))}catch(vt){g.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Hu;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return $u;default:Ce(this.auth,"internal-error")}}resolve(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zu=new un(2e3,1e4);function Td(){return(Td=(0,c.Z)(function*(y,f,g){const b=ke(y);We(y,f,Ls);const T=qi(b,g);return new Ki(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y);We(b.auth,f,Ls);const T=qi(b.auth,g);return new Ki(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y);We(b.auth,f,Ls);const T=qi(b.auth,g);return new Ki(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let Ki=(()=>{class y extends Kn{constructor(g,b,T,x,W){super(g,b,x,W),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){ne(1===g.filter.length,"Popup operations only handle one event");const b=Yo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,zu.get())};g()}}return y.currentPopupAction=null,y})();const Yi=new Map;class Yn extends Kn{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Yi.get(g.auth._key());if(!b){try{const x=(yield function bi(y,f){return qu.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(x)}catch(T){b=()=>Promise.reject(T)}Yi.set(g.auth._key(),b)}return g.bypassAuthState||Yi.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function qu(){return(qu=(0,c.Z)(function*(y,f){const g=C(f),b=I(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function Io(y,f){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(y,f){return I(y)._set(C(f),"true")})).apply(this,arguments)}function I(y){return ie(y._redirectPersistence)}function C(y){return de("pendingRedirect",y.config.apiKey,y.name)}function q(){return(q=(0,c.Z)(function*(y,f,g){const b=ke(y);We(y,f,Ls);const T=qi(b,g);return yield Io(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Ne(){return(Ne=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y);We(b.auth,f,Ls);const T=qi(b.auth,g);yield Io(T,b.auth);const x=yield Co(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(y,f,g){const b=(0,k.m9)(y);We(b.auth,f,Ls);const T=qi(b.auth,g);yield Bs(!1,b,f.providerId),yield Io(T,b.auth);const x=yield Co(b);return T._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(y,f){return yield ke(y)._initializationPromise,Sn(y,f,!1)})).apply(this,arguments)}function Sn(y,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(y,f,g=!1){const b=ke(y),T=qi(b,f),W=yield new Yn(b,T,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function Co(y){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(y){const f=Yo(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Fi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Zu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ad(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!Ad(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(f))}saveEventToCache(f){this.cachedEventUids.add(To(f)),this.lastProcessedEventTime=Date.now()}}function To(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ad({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ku(y){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(y,f={}){return Ht(y,"GET","/v1/projects",f)})).apply(this,arguments)}const _g=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x_=/^https?/;function ms(){return(ms=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ku(y);for(const g of f)try{if(Yu(g))return}catch(b){}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function Yu(y){const f=Ct(),{protocol:g,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!x_.test(g))return!1;if(_g.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const k_=new un(3e4,6e4);function P_(){const y=fn().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Nd=null;function F_(y){return Nd=Nd||function yg(y){return new Promise((f,g)=>{var b,T,x;function W(){P_(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{P_(),g(be(y,"network-request-failed"))},timeout:k_.get()})}if(null===(T=null===(b=fn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=fn().gapi)||void 0===x?void 0:x.load)){const se=Zn("iframefcb");return fn()[se]=()=>{gapi.load?W():g(be(y,"network-request-failed"))},Dn(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ue=>g(Ue))}W()}}).catch(f=>{throw Nd=null,f})}(y),Nd}const qh=new un(5e3,15e3),Ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pa(y){const f=y.config;te(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?cn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:oe.SDK_VERSION},T=Md.get(y.config.apiHost);T&&(b.eid=T);const x=y._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function ta(){return ta=(0,c.Z)(function*(y){const f=yield F_(y),g=fn().gapi;return te(g,y,"internal-error"),f.open({where:document.body,url:Pa(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ao,dontclear:!0},b=>new Promise(function(){var T=(0,c.Z)(function*(x,W){yield b.restyle({setHideOnLeave:!1});const se=be(y,"network-request-failed"),Ue=fn().setTimeout(()=>{W(se)},qh.get());function tt(){fn().clearTimeout(Ue),x(b)}b.ping(tt).then(tt,()=>{W(se)})});return function(x,W){return T.apply(this,arguments)}}()))}),ta.apply(this,arguments)}const V_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Jh(y,f,g,b,T,x){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:oe.SDK_VERSION,eventId:T};if(f instanceof Ls){f.setDefaultLanguage(y.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ue,tt]of Object.entries(x||{}))W[Ue]=tt}if(f instanceof Xr){const Ue=f.getScopes().filter(tt=>""!==tt);Ue.length>0&&(W.scopes=Ue.join(","))}y.tenantId&&(W.tid=y.tenantId);const se=W;for(const Ue of Object.keys(se))void 0===se[Ue]&&delete se[Ue];return`${function U_({config:y}){return y.emulator?cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(se).slice(1)}`}const to="webStorageSupport";class Qh extends class vg{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Qh(f)}_finalizeEnroll(f,g,b){return function vd(y,f){return Ht(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(y,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function xa(y,f){return Ht(y,"POST","/v2/accounts/mfaSignIn:finalize",Xt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let j_=(()=>{class y{constructor(){}static assertion(g){return Qh._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var G_="@firebase/auth",Xh="0.19.11";class bg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function no(){return window}function Ll(){return(Ll=(0,c.Z)(function*(y,f,g){var b;const{BuildInfo:T}=no();ne(f.sessionId,"AuthEvent did not contain a session ID");const x=yield Fa(f.sessionId),W={};return rr()?W.ibi=T.packageName:In()?W.apn=T.packageName:Ce(y,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=x,Jh(y,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(y){const{BuildInfo:f}=no(),g={};rr()?g.iosBundleId=f.packageName:In()?g.androidPackageName=f.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield Ku(y,g)})).apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(y,f,g){const{cordova:b}=no();let T=()=>{};try{yield new Promise((x,W)=>{let se=null;function Ue(){var lt;x();const An=null===(lt=b.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof An&&An(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function tt(){se||(se=window.setTimeout(()=>{W(be(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}f.addPassiveListener(Ue),document.addEventListener("resume",tt,!1),In()&&document.addEventListener("visibilitychange",vt,!1),T=()=>{f.removePassiveListener(Ue),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",vt,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function Fa(y){return wg.apply(this,arguments)}function wg(){return(wg=(0,c.Z)(function*(y){const f=Vl(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Vl(y){if(ne(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function $_(y){(0,oe._registerComponent)(new re.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:x,authDomain:W}=b.options;return((se,Ue)=>{te(x&&!x.includes(":"),"invalid-api-key",{appName:se.name}),te(!(null==W?void 0:W.includes(":")),"argument-error",{appName:se.name});const tt={apiKey:x,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ea(y)},vt=new hi(se,Ue,tt);return function ae(y,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ie);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(vt,g),vt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new re.wA("auth-internal",f=>{const g=ke(f.getProvider("auth").getImmediate());return new bg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(G_,Xh,function H_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(G_,Xh,"esm2017")}("Browser");class rf extends Fi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Xu(y){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(y){const f=yield tc()._get(af(y));return f&&(yield tc()._remove(af(y))),f})).apply(this,arguments)}function ec(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function tc(){return ie(bn)}function af(y){return de("authEvent",y.config.apiKey,y.name)}function Ld(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,k.zd)(g.join("?"))}function df(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Vd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ig(y=(0,k.z$)()){return!("file:"!==Vd()&&"ionic:"!==Vd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){try{const y=self.localStorage,f=Yo();if(y)return y.setItem(f,"1"),y.removeItem(f),!function ia(y=(0,k.z$)()){return function K_(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Y_(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return No()&&(0,k.hl)()}return!1}function No(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ic(){return(function Z_(){return"http:"===Vd()||"https:"===Vd()}()||(0,k.ru)()||Ig())&&!function Bd(){return(0,k.b$)()||(0,k.UG)()}()&&Ar()&&!No()}function hf(){return Ig()&&"undefined"!=typeof document}function La(){return(La=(0,c.Z)(function*(){return!!hf()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Vi={LOCAL:"local",NONE:"none",SESSION:"session"},Va=te,pf="persistence";function Ba(y){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.Z)(function*(y){yield y._initializationPromise;const f=sc(),g=de(pf,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function sc(){var y;try{return(null===(y=function ff(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const J_=te;class wi{constructor(){this.browserResolver=ie(class na{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=Sn}_openPopup(f,g,b,T){var x=this;return(0,c.Z)(function*(){var W;ne(null===(W=x.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const se=Jh(f,g,b,Ct(),T);return function kd(y,f,g,b=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let se="";const Ue=Object.assign(Object.assign({},V_),{width:b.toString(),height:T.toString(),top:x,left:W}),tt=(0,k.z$)().toLowerCase();g&&(se=br(tt)?"_blank":g),yt(tt)&&(f=f||"http://localhost",Ue.scrollbars="yes");const vt=Object.entries(Ue).reduce((An,[Ji,ac])=>`${An}${Ji}=${ac},`,"");if(function ll(y=(0,k.z$)()){var f;return rr(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(tt)&&"_self"!==se)return function Yh(y,f){const g=document.createElement("a");g.href=y,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",se),new Rd(null);const lt=window.open(f||"",se,vt);te(lt,y,"popup-blocked");try{lt.focus()}catch(An){}return new Rd(lt)}(f,se,Yo())})()}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function zh(y){fn().location.href=y}(Jh(f,g,b,Ct(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:x}=this.eventManagers[g];return T?Promise.resolve(T):(ne(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function L_(y){return ta.apply(this,arguments)}(f),T=new Fi(f);return b.register("authEvent",x=>(te(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(to,{type:to},T=>{var x;const W=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[to];void 0!==W&&g(!!W),Ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function R_(y){return ms.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ss()||Kt()||rr()}}),this.cordovaResolver=ie(class cf{constructor(){this._redirectPersistence=tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sn}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let T=g.eventManagers.get(b);return T||(T=new rf(f),g.eventManagers.set(b,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){!function Fd(y){var f,g,b,T,x,W,se,Ue,tt,vt;const lt=no();te("function"==typeof(null===(f=null==lt?void 0:lt.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==lt?void 0:lt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(x=null===(T=null===(b=null==lt?void 0:lt.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(se=null===(W=null==lt?void 0:lt.cordova)||void 0===W?void 0:W.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(vt=null===(tt=null==lt?void 0:lt.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield x._initialize(f);yield W.initialized(),W.resetRedirect(),function kl(){Yi.clear()}(),yield x._originValidation(f);const se=function sf(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:ec(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(f,b,T);yield function Pb(y,f){return tc()._set(af(y),f)}(f,se);const Ue=yield function ef(y,f,g){return Ll.apply(this,arguments)}(f,se,g),tt=yield function Qu(y){const{cordova:f}=no();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function ho(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Ue);return function Dg(y,f,g){return Pd.apply(this,arguments)}(f,W,tt)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function tf(y){return Li.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:x}=no(),W=setTimeout((0,c.Z)(function*(){yield Xu(f),g.onEvent(df())}),500),se=function(){var vt=(0,c.Z)(function*(lt){clearTimeout(W);const An=yield Xu(f);let Ji=null;An&&(null==lt?void 0:lt.url)&&(Ji=function z_(y,f){var g,b;const T=function nc(y){const f=Ld(y),g=f.link?decodeURIComponent(f.link):void 0,b=Ld(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ld(T).link||T||b||g||y}(f);if(T.includes("/__/auth/callback")){const x=Ld(T),W=x.firebaseError?function lf(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,se=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ue=se?be(se):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(An,lt.url)),g.onEvent(Ji||df())});return function(An){return vt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,se);const Ue=T,tt=`${x.packageName.toLowerCase()}://`;no().handleOpenURL=function(){var vt=(0,c.Z)(function*(lt){if(lt.toLowerCase().startsWith(tt)&&se({url:lt}),"function"==typeof Ue)try{Ue(lt)}catch(An){console.error(An)}});return function(lt){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tn,this._completeRedirectFn=Sn}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,b,T)})()}_openRedirect(f,g,b,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,b,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return hf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return J_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Gr(){return La.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Sg(y){return y.unwrap()}function Ua(y){return Ag(y)}function Ag(y){const{_tokenResponse:f}=y instanceof k.ZR?y.customData:y;if(!f)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Pi.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Ca;break;case"facebook.com":b=go;break;case"github.com":b=dd;break;case"twitter.com":b=pl;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:W,pendingToken:se,nonce:Ue}=f;return x||W||T||se?se?g.startsWith("saml.")?qn._create(g,se):ls._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:T,accessToken:x}):new Wo(g).credential({idToken:T,accessToken:x,rawNonce:Ue}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Nr(y,f){return f.catch(g=>{throw g instanceof k.ZR&&function X_(y,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new ey(y,function Al(y,f){var g;const b=(0,k.m9)(y),T=f;return te(f.customData.operationType,b,"argument-error"),te(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Oa._fromError(b,T)}(y,f));else if(b){const T=Ag(f),x=f;T&&(x.credential=T,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Ua(g),additionalUserInfo:Ir(g),user:Mo.getOrCreate(T)}})}function mf(y,f){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Nr(y,g.confirm(b))}})).apply(this,arguments)}class ey{constructor(f,g){this.resolver=g,this.auth=function Q_(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Nr(Sg(this.auth),this.resolver.resolveSignIn(f))}}class Mo{constructor(f){this._delegate=f,this.multiFactor=function bd(y){const f=(0,k.m9)(y);return Ko.has(f)||Ko.set(f,hs._fromUser(f)),Ko.get(f)}(f)}static getOrCreate(f){return Mo.USER_MAP.has(f)||Mo.USER_MAP.set(f,new Mo(f)),Mo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Nr(g.auth,Mi(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return mf(b.auth,function Uu(y,f,g){return Qo.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Nr(g.auth,function Zi(y,f,g){return Rl.apply(this,arguments)}(g._delegate,f,wi))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ba(ke(g.auth)),function Qe(y,f,g){return function It(y,f,g){return Rt.apply(this,arguments)}(y,f,g)}(g._delegate,f,wi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Nr(g.auth,Us(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return mf(this.auth,function mg(y,f,g){return ju.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Nr(this.auth,function Eo(y,f,g){return xl.apply(this,arguments)}(this._delegate,f,wi))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ba(ke(g.auth)),function ee(y,f,g){return function Ae(y,f,g){return Ne.apply(this,arguments)}(y,f,g)}(g._delegate,f,wi)})()}sendEmailVerification(f){return function Oi(y,f){return Su.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Ta(y,f){return bu.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Mu(y,f){return Ou((0,k.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function gd(y,f){return Ou((0,k.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Gu(y,f){return gs.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ma(y,f){return Nu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Tl(y,f,g){return Sl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mo.USER_MAP=new WeakMap;const oc=te;let yf=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;oc(T,"invalid-api-key",{appName:g.name}),oc(T,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?wi:void 0;this._delegate=b.initialize({options:{persistence:ty(T,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function hn(y,f,g){const b=ke(y);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),x=ur(f),{host:W,port:se}=function xs(y){const f=ur(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const x=T[1];return{host:x,port:Vn(b.substr(x.length+1))}}{const[x,W]=b.split(":");return{host:x,port:Vn(W)}}}(f);b.config.emulator={url:`${x}//${W}${null===se?"":`:${se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:se,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Hi(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function wu(y,f){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Vt(this._delegate,g)}confirmPasswordReset(g,b){return function El(y,f,g){return Du.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,c.Z)(function*(){return Nr(T._delegate,function Zo(y,f,g){return ti.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Cl(y,f){return $s.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Tu(y,f){const g=po.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){oc(ic(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function St(y,f){return Hn.apply(this,arguments)}(g._delegate,wi);return b?Nr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Eg(y,f){ke(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:x,error:W,complete:se}=vf(g,b,T);return this._delegate.onAuthStateChanged(x,W,se)}onIdTokenChanged(g,b,T){const{next:x,error:W,complete:se}=vf(g,b,T);return this._delegate.onIdTokenChanged(x,W,se)}sendSignInLinkToEmail(g,b){return function Cu(y,f,g){return pd.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Dl(y,f,g){return wl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let T;switch(function Cg(y,f){Va(Object.values(Vi).includes(f),y,"invalid-persistence-type"),(0,k.b$)()?Va(f!==Vi.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Va(f===Vi.NONE,y,"unsupported-persistence-type"):No()?Va(f===Vi.NONE||f===Vi.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Va(f===Vi.NONE||Ar(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Vi.SESSION:T=tn;break;case Vi.LOCAL:T=(yield ie(Ri)._isAvailable())?Ri:bn;break;case Vi.NONE:T=$;break;default:return Ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Nr(this._delegate,function ml(y){return hd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Nr(this._delegate,xn(this._delegate,g))}signInWithCustomToken(g){return Nr(this._delegate,function js(y,f){return Gs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Nr(this._delegate,function Iu(y,f,g){return xn((0,k.m9)(y),vu.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Nr(this._delegate,function Il(y,f,g){return Hs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return mf(this._delegate,function Ol(y,f,g){return wn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return oc(ic(),b._delegate,"operation-not-supported-in-this-environment"),Nr(b._delegate,function eo(y,f,g){return Td.apply(this,arguments)}(b._delegate,g,wi))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return oc(ic(),b._delegate,"operation-not-supported-in-this-environment"),yield Ba(b._delegate),function O(y,f,g){return function L(y,f,g){return q.apply(this,arguments)}(y,f,g)}(b._delegate,g,wi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function yn(y,f){return qo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Vi,y})();function vf(y,f,g){let b=y;"function"!=typeof y&&({next:b,error:f,complete:g}=y);const T=b;return{next:W=>T(W&&Mo.getOrCreate(W)),error:f,complete:g}}function ty(y,f){const g=function Tg(y,f){const g=sc();if(!g)return[];const b=de(pf,y,f);switch(g.getItem(b)){case Vi.NONE:return[$];case Vi.LOCAL:return[Ri,tn];case Vi.SESSION:return[tn];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(Ri)&&g.push(Ri),"undefined"!=typeof window)for(const b of[bn,tn])g.includes(b)||g.push(b);return g.includes($)||g.push($),g}class bf{constructor(){this.providerId="phone",this._delegate=new Pi(Sg(Y.Z.auth()))}static credential(f,g){return Pi.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}bf.PHONE_SIGN_IN_METHOD=Pi.PHONE_SIGN_IN_METHOD,bf.PROVIDER_ID=Pi.PROVIDER_ID;const ny=te;class ry{constructor(f,g,b=Y.Z.app()){var T;ny(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new gg(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ng(y){y.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new yf(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vu,FacebookAuthProvider:go,GithubAuthProvider:dd,GoogleAuthProvider:Ca,OAuthProvider:Wo,SAMLAuthProvider:pi,PhoneAuthProvider:bf,PhoneMultiFactorGenerator:j_,RecaptchaVerifier:ry,TwitterAuthProvider:pl,Auth:yf,AuthCredential:on,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(at,Ie,R)=>{R.d(Ie,{y:()=>G});var c=R(930),Y=R(727),k=R(8822),oe=R(4671);var re=R(2416),he=R(576),ce=R(2806);let G=(()=>{class Se{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const pe=new Se;return pe.source=this,pe.operator=Ve,pe}subscribe(Ve,pe,we){const nt=function ze(Se){return Se&&Se instanceof c.Lv||function Q(Se){return Se&&(0,he.m)(Se.next)&&(0,he.m)(Se.error)&&(0,he.m)(Se.complete)}(Se)&&(0,Y.Nn)(Se)}(Ve)?Ve:new c.Hp(Ve,pe,we);return(0,ce.x)(()=>{const{operator:Ze,source:Ce}=this;nt.add(Ze?Ze.call(nt,Ce):Ce?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(pe){Ve.error(pe)}}forEach(Ve,pe){return new(pe=H(pe))((we,nt)=>{const Ze=new c.Hp({next:Ce=>{try{Ve(Ce)}catch(be){nt(be),Ze.unsubscribe()}},error:nt,complete:we});this.subscribe(Ze)})}_subscribe(Ve){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ve)}[k.L](){return this}pipe(...Ve){return function me(Se){return 0===Se.length?oe.y:1===Se.length?Se[0]:function(Ve){return Se.reduce((pe,we)=>we(pe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=H(Ve))((pe,we)=>{let nt;this.subscribe(Ze=>nt=Ze,Ze=>we(Ze),()=>pe(nt))})}}return Se.create=Re=>new Se(Re),Se})();function H(Se){var Re;return null!==(Re=null!=Se?Se:re.v.Promise)&&void 0!==Re?Re:Promise}},7579:(at,Ie,R)=>{R.d(Ie,{x:()=>re});var c=R(8306),Y=R(727);const oe=(0,R(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=R(8737),me=R(2806);let re=(()=>{class ce extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new he(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new oe}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:ze,observers:Se}=this;return Q||ze?Y.Lc:(this.currentObservers=null,Se.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:ze,isStopped:Se}=this;Q?H.error(ze):Se&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return ce.create=(G,H)=>new he(G,H),ce})();class he extends re{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,G)}error(G){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==Q?Q:Y.Lc}}},930:(at,Ie,R)=>{R.d(Ie,{Hp:()=>Ve,Lv:()=>Q});var c=R(576),Y=R(727),k=R(2416),oe=R(7849),X=R(5032);const me=ce("C",void 0,void 0);function ce(Ce,be,De){return{kind:Ce,value:be,error:De}}var G=R(3410),H=R(2806);class Q extends Y.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,Y.Nn)(be)&&be.add(this)):this.destination=Ze}static create(be,De,We){return new Ve(be,De,We)}next(be){this.isStopped?nt(function he(Ce){return ce("N",Ce,void 0)}(be),this):this._next(be)}error(be){this.isStopped?nt(function re(Ce){return ce("E",void 0,Ce)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?nt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Se(Ce,be){return ze.call(Ce,be)}class Re{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(We){pe(We)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(We){pe(We)}else pe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){pe(De)}}}class Ve extends Q{constructor(be,De,We){let Ge;if(super(),(0,c.m)(be)||!be)Ge={next:null!=be?be:void 0,error:null!=De?De:void 0,complete:null!=We?We:void 0};else{let te;this&&k.v.useDeprecatedNextContext?(te=Object.create(be),te.unsubscribe=()=>this.unsubscribe(),Ge={next:be.next&&Se(be.next,te),error:be.error&&Se(be.error,te),complete:be.complete&&Se(be.complete,te)}):Ge=be}this.destination=new Re(Ge)}}function pe(Ce){k.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ce):(0,oe.h)(Ce)}function nt(Ce,be){const{onStoppedNotification:De}=k.v;De&&G.z.setTimeout(()=>De(Ce,be))}const Ze={closed:!0,next:X.Z,error:function we(Ce){throw Ce},complete:X.Z}},727:(at,Ie,R)=>{R.d(Ie,{Lc:()=>me,w0:()=>X,Nn:()=>re});var c=R(576);const k=(0,R(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,ze)=>`${ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var oe=R(8737);class X{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Se){G=Se instanceof k?Se.errors:[Se]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Se of ze)try{he(Se)}catch(Re){G=null!=G?G:[],Re instanceof k?G=[...G,...Re.errors]:G.push(Re)}}if(G)throw new k(G)}}add(G){var H;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof X){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,oe.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,oe.P)(H,G),G instanceof X&&G._removeParent(this)}}X.EMPTY=(()=>{const ce=new X;return ce.closed=!0,ce})();const me=X.EMPTY;function re(ce){return ce instanceof X||ce&&"closed"in ce&&(0,c.m)(ce.remove)&&(0,c.m)(ce.add)&&(0,c.m)(ce.unsubscribe)}function he(ce){(0,c.m)(ce)?ce():ce.unsubscribe()}},2416:(at,Ie,R)=>{R.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Ie,R)=>{R.d(Ie,{E:()=>Y});const Y=new(R(8306).y)(X=>X.complete())},8996:(at,Ie,R)=>{R.d(Ie,{D:()=>be});var c=R(8421),Y=R(5363),k=R(9468),me=R(8306),he=R(2202),ce=R(576),G=R(9672);function Q(De,We){if(!De)throw new Error("Iterable cannot be null");return new me.y(Ge=>{(0,G.f)(Ge,We,()=>{const te=De[Symbol.asyncIterator]();(0,G.f)(Ge,We,()=>{te.next().then(z=>{z.done?Ge.complete():Ge.next(z.value)})},0,!0)})})}var ze=R(3670),Se=R(8239),Re=R(1144),Ve=R(6495),pe=R(2206),we=R(4532),nt=R(3260);function be(De,We){return We?function Ce(De,We){if(null!=De){if((0,ze.c)(De))return function oe(De,We){return(0,c.Xf)(De).pipe((0,k.R)(We),(0,Y.Q)(We))}(De,We);if((0,Re.z)(De))return function re(De,We){return new me.y(Ge=>{let te=0;return We.schedule(function(){te===De.length?Ge.complete():(Ge.next(De[te++]),Ge.closed||this.schedule())})})}(De,We);if((0,Se.t)(De))return function X(De,We){return(0,c.Xf)(De).pipe((0,k.R)(We),(0,Y.Q)(We))}(De,We);if((0,pe.D)(De))return Q(De,We);if((0,Ve.T)(De))return function H(De,We){return new me.y(Ge=>{let te;return(0,G.f)(Ge,We,()=>{te=De[he.h](),(0,G.f)(Ge,We,()=>{let z,ne;try{({value:z,done:ne}=te.next())}catch(_e){return void Ge.error(_e)}ne?Ge.complete():Ge.next(z)},0,!0)}),()=>(0,ce.m)(null==te?void 0:te.return)&&te.return()})}(De,We);if((0,nt.L)(De))return function Ze(De,We){return Q((0,nt.Q)(De),We)}(De,We)}throw(0,we.z)(De)}(De,We):(0,c.Xf)(De)}},8421:(at,Ie,R)=>{R.d(Ie,{Xf:()=>ze});var c=R(655),Y=R(1144),k=R(8239),oe=R(8306),X=R(3670),me=R(2206),re=R(4532),he=R(6495),ce=R(3260),G=R(576),H=R(7849),Q=R(8822);function ze(Ce){if(Ce instanceof oe.y)return Ce;if(null!=Ce){if((0,X.c)(Ce))return function Se(Ce){return new oe.y(be=>{const De=Ce[Q.L]();if((0,G.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,Y.z)(Ce))return function Re(Ce){return new oe.y(be=>{for(let De=0;De<Ce.length&&!be.closed;De++)be.next(Ce[De]);be.complete()})}(Ce);if((0,k.t)(Ce))return function Ve(Ce){return new oe.y(be=>{Ce.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,H.h)})}(Ce);if((0,me.D)(Ce))return we(Ce);if((0,he.T)(Ce))return function pe(Ce){return new oe.y(be=>{for(const De of Ce)if(be.next(De),be.closed)return;be.complete()})}(Ce);if((0,ce.L)(Ce))return function nt(Ce){return we((0,ce.Q)(Ce))}(Ce)}throw(0,re.z)(Ce)}function we(Ce){return new oe.y(be=>{(function Ze(Ce,be){var De,We,Ge,te;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Ce);!(We=yield De.next()).done;)if(be.next(We.value),be.closed)return}catch(z){Ge={error:z}}finally{try{We&&!We.done&&(te=De.return)&&(yield te.call(De))}finally{if(Ge)throw Ge.error}}be.complete()})})(Ce,be).catch(De=>be.error(De))})}},6451:(at,Ie,R)=>{R.d(Ie,{T:()=>me});var c=R(8189),Y=R(8421),k=R(515),oe=R(3269),X=R(8996);function me(...re){const he=(0,oe.yG)(re),ce=(0,oe._6)(re,1/0),G=re;return G.length?1===G.length?(0,Y.Xf)(G[0]):(0,c.J)(ce)((0,X.D)(G,he)):k.E}},5403:(at,Ie,R)=>{R.d(Ie,{x:()=>Y});var c=R(930);function Y(oe,X,me,re,he){return new k(oe,X,me,re,he)}class k extends c.Lv{constructor(X,me,re,he,ce,G){super(X),this.onFinalize=ce,this.shouldUnsubscribe=G,this._next=me?function(H){try{me(H)}catch(Q){X.error(Q)}}:super._next,this._error=he?function(H){try{he(H)}catch(Q){X.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(at,Ie,R)=>{R.d(Ie,{U:()=>k});var c=R(4482),Y=R(5403);function k(oe,X){return(0,c.e)((me,re)=>{let he=0;me.subscribe((0,Y.x)(re,ce=>{re.next(oe.call(X,ce,he++))}))})}},8189:(at,Ie,R)=>{R.d(Ie,{J:()=>k});var c=R(5577),Y=R(4671);function k(oe=1/0){return(0,c.z)(Y.y,oe)}},5577:(at,Ie,R)=>{R.d(Ie,{z:()=>he});var c=R(4004),Y=R(8421),k=R(4482),oe=R(9672),X=R(5403),re=R(576);function he(ce,G,H=1/0){return(0,re.m)(G)?he((Q,ze)=>(0,c.U)((Se,Re)=>G(Q,Se,ze,Re))((0,Y.Xf)(ce(Q,ze))),H):("number"==typeof G&&(H=G),(0,k.e)((Q,ze)=>function me(ce,G,H,Q,ze,Se,Re,Ve){const pe=[];let we=0,nt=0,Ze=!1;const Ce=()=>{Ze&&!pe.length&&!we&&G.complete()},be=We=>we<Q?De(We):pe.push(We),De=We=>{Se&&G.next(We),we++;let Ge=!1;(0,Y.Xf)(H(We,nt++)).subscribe((0,X.x)(G,te=>{null==ze||ze(te),Se?be(te):G.next(te)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(we--;pe.length&&we<Q;){const te=pe.shift();Re?(0,oe.f)(G,Re,()=>De(te)):De(te)}Ce()}catch(te){G.error(te)}}))};return ce.subscribe((0,X.x)(G,be,()=>{Ze=!0,Ce()})),()=>{null==Ve||Ve()}}(Q,ze,ce,H)))}},5363:(at,Ie,R)=>{R.d(Ie,{Q:()=>oe});var c=R(9672),Y=R(4482),k=R(5403);function oe(X,me=0){return(0,Y.e)((re,he)=>{re.subscribe((0,k.x)(he,ce=>(0,c.f)(he,X,()=>he.next(ce),me),()=>(0,c.f)(he,X,()=>he.complete(),me),ce=>(0,c.f)(he,X,()=>he.error(ce),me)))})}},3099:(at,Ie,R)=>{R.d(Ie,{B:()=>me});var c=R(8996),Y=R(5698),k=R(7579),oe=R(930),X=R(4482);function me(he={}){const{connector:ce=(()=>new k.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=he;return ze=>{let Se=null,Re=null,Ve=null,pe=0,we=!1,nt=!1;const Ze=()=>{null==Re||Re.unsubscribe(),Re=null},Ce=()=>{Ze(),Se=Ve=null,we=nt=!1},be=()=>{const De=Se;Ce(),null==De||De.unsubscribe()};return(0,X.e)((De,We)=>{pe++,!nt&&!we&&Ze();const Ge=Ve=null!=Ve?Ve:ce();We.add(()=>{pe--,0===pe&&!nt&&!we&&(Re=re(be,Q))}),Ge.subscribe(We),Se||(Se=new oe.Hp({next:te=>Ge.next(te),error:te=>{nt=!0,Ze(),Re=re(Ce,G,te),Ge.error(te)},complete:()=>{we=!0,Ze(),Re=re(Ce,H),Ge.complete()}}),(0,c.D)(De).subscribe(Se))})(ze)}}function re(he,ce,...G){return!0===ce?(he(),null):!1===ce?null:ce(...G).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(at,Ie,R)=>{R.d(Ie,{R:()=>Y});var c=R(4482);function Y(k,oe=0){return(0,c.e)((X,me)=>{me.add(k.schedule(()=>X.subscribe(me),oe))})}},5698:(at,Ie,R)=>{R.d(Ie,{q:()=>oe});var c=R(515),Y=R(4482),k=R(5403);function oe(X){return X<=0?()=>c.E:(0,Y.e)((me,re)=>{let he=0;me.subscribe((0,k.x)(re,ce=>{++he<=X&&(re.next(ce),X<=he&&re.complete())}))})}},8505:(at,Ie,R)=>{R.d(Ie,{b:()=>X});var c=R(576),Y=R(4482),k=R(5403),oe=R(4671);function X(me,re,he){const ce=(0,c.m)(me)||re||he?{next:me,error:re,complete:he}:me;return ce?(0,Y.e)((G,H)=>{var Q;null===(Q=ce.subscribe)||void 0===Q||Q.call(ce);let ze=!0;G.subscribe((0,k.x)(H,Se=>{var Re;null===(Re=ce.next)||void 0===Re||Re.call(ce,Se),H.next(Se)},()=>{var Se;ze=!1,null===(Se=ce.complete)||void 0===Se||Se.call(ce),H.complete()},Se=>{var Re;ze=!1,null===(Re=ce.error)||void 0===Re||Re.call(ce,Se),H.error(Se)},()=>{var Se,Re;ze&&(null===(Se=ce.unsubscribe)||void 0===Se||Se.call(ce)),null===(Re=ce.finalize)||void 0===Re||Re.call(ce)}))}):oe.y}},4408:(at,Ie,R)=>{R.d(Ie,{o:()=>X});var c=R(727);class Y extends c.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const k={setInterval(me,re,...he){const{delegate:ce}=k;return(null==ce?void 0:ce.setInterval)?ce.setInterval(me,re,...he):setInterval(me,re,...he)},clearInterval(me){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(me)},delegate:void 0};var oe=R(8737);class X extends Y{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const ce=this.id,G=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(G,ce,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(G,this.id,he),this}requestAsyncId(re,he,ce=0){return k.setInterval(re.flush.bind(re,this),ce)}recycleAsyncId(re,he,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return he;k.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(re,he);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let G,ce=!1;try{this.work(re)}catch(H){ce=!0,G=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:ce}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ce,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Ie,R)=>{R.d(Ie,{v:()=>k});var c=R(6063);class Y{constructor(X,me=Y.now){this.schedulerActionCtor=X,this.now=me}schedule(X,me=0,re){return new this.schedulerActionCtor(this,X).schedule(re,me)}}Y.now=c.l.now;class k extends Y{constructor(X,me=Y.now){super(X,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:me}=this;if(this._active)return void me.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=me.shift());if(this._active=!1,re){for(;X=me.shift();)X.unsubscribe();throw re}}}},4986:(at,Ie,R)=>{R.d(Ie,{z:()=>k,P:()=>oe});var c=R(4408);const k=new(R(7565).v)(c.o),oe=k},6063:(at,Ie,R)=>{R.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(at,Ie,R)=>{R.d(Ie,{z:()=>c});const c={setTimeout(Y,k,...oe){const{delegate:X}=c;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,k,...oe):setTimeout(Y,k,...oe)},clearTimeout(Y){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(at,Ie,R)=>{R.d(Ie,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Ie,R)=>{R.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,Ie,R)=>{R.d(Ie,{jO:()=>oe,yG:()=>X,_6:()=>me});var c=R(576),Y=R(3532);function k(re){return re[re.length-1]}function oe(re){return(0,c.m)(k(re))?re.pop():void 0}function X(re){return(0,Y.K)(k(re))?re.pop():void 0}function me(re,he){return"number"==typeof k(re)?re.pop():he}},8737:(at,Ie,R)=>{function c(Y,k){if(Y){const oe=Y.indexOf(k);0<=oe&&Y.splice(oe,1)}}R.d(Ie,{P:()=>c})},3888:(at,Ie,R)=>{function c(Y){const oe=Y(X=>{Error.call(X),X.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(Ie,{d:()=>c})},2806:(at,Ie,R)=>{R.d(Ie,{x:()=>k,O:()=>oe});var c=R(2416);let Y=null;function k(X){if(c.v.useDeprecatedSynchronousErrorHandling){const me=!Y;if(me&&(Y={errorThrown:!1,error:null}),X(),me){const{errorThrown:re,error:he}=Y;if(Y=null,re)throw he}}else X()}function oe(X){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(at,Ie,R)=>{function c(Y,k,oe,X=0,me=!1){const re=k.schedule(function(){oe(),me?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!me)return re}R.d(Ie,{f:()=>c})},4671:(at,Ie,R)=>{function c(Y){return Y}R.d(Ie,{y:()=>c})},1144:(at,Ie,R)=>{R.d(Ie,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(at,Ie,R)=>{R.d(Ie,{D:()=>Y});var c=R(576);function Y(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(at,Ie,R)=>{function c(Y){return"function"==typeof Y}R.d(Ie,{m:()=>c})},3670:(at,Ie,R)=>{R.d(Ie,{c:()=>k});var c=R(8822),Y=R(576);function k(oe){return(0,Y.m)(oe[c.L])}},6495:(at,Ie,R)=>{R.d(Ie,{T:()=>k});var c=R(2202),Y=R(576);function k(oe){return(0,Y.m)(null==oe?void 0:oe[c.h])}},8239:(at,Ie,R)=>{R.d(Ie,{t:()=>Y});var c=R(576);function Y(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(at,Ie,R)=>{R.d(Ie,{Q:()=>k,L:()=>oe});var c=R(655),Y=R(576);function k(X){return(0,c.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:he,done:ce}=yield(0,c.qq)(re.read());if(ce)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{re.releaseLock()}})}function oe(X){return(0,Y.m)(null==X?void 0:X.getReader)}},3532:(at,Ie,R)=>{R.d(Ie,{K:()=>Y});var c=R(576);function Y(k){return k&&(0,c.m)(k.schedule)}},4482:(at,Ie,R)=>{R.d(Ie,{A:()=>Y,e:()=>k});var c=R(576);function Y(oe){return(0,c.m)(null==oe?void 0:oe.lift)}function k(oe){return X=>{if(Y(X))return X.lift(function(me){try{return oe(me,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,Ie,R)=>{function c(){}R.d(Ie,{Z:()=>c})},7849:(at,Ie,R)=>{R.d(Ie,{h:()=>k});var c=R(2416),Y=R(3410);function k(oe){Y.z.setTimeout(()=>{const{onUnhandledError:X}=c.v;if(!X)throw oe;X(oe)})}},4532:(at,Ie,R)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ie,{z:()=>c})},655:(at,Ie,R)=>{function oe(z,ne){var _e={};for(var ie in z)Object.prototype.hasOwnProperty.call(z,ie)&&ne.indexOf(ie)<0&&(_e[ie]=z[ie]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ie=Object.getOwnPropertySymbols(z);xe<ie.length;xe++)ne.indexOf(ie[xe])<0&&Object.prototype.propertyIsEnumerable.call(z,ie[xe])&&(_e[ie[xe]]=z[ie[xe]])}return _e}function he(z,ne,_e,ie){return new(_e||(_e=Promise))(function(ae,Ct){function Qt(_t){try{ut(ie.next(_t))}catch(un){Ct(un)}}function Mn(_t){try{ut(ie.throw(_t))}catch(un){Ct(un)}}function ut(_t){_t.done?ae(_t.value):function xe(ae){return ae instanceof _e?ae:new _e(function(Ct){Ct(ae)})}(_t.value).then(Qt,Mn)}ut((ie=ie.apply(z,ne||[])).next())})}function pe(z){return this instanceof pe?(this.v=z,this):new pe(z)}function we(z,ne,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ie=_e.apply(z,ne||[]),ae=[];return xe={},Ct("next"),Ct("throw"),Ct("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function Ct(cn){ie[cn]&&(xe[cn]=function(Ai){return new Promise(function(sn,ns){ae.push([cn,Ai,sn,ns])>1||Qt(cn,Ai)})})}function Qt(cn,Ai){try{!function Mn(cn){cn.value instanceof pe?Promise.resolve(cn.value.v).then(ut,_t):un(ae[0][2],cn)}(ie[cn](Ai))}catch(sn){un(ae[0][3],sn)}}function ut(cn){Qt("next",cn)}function _t(cn){Qt("throw",cn)}function un(cn,Ai){cn(Ai),ae.shift(),ae.length&&Qt(ae[0][0],ae[0][1])}}function Ze(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ne=z[Symbol.asyncIterator];return ne?ne.call(z):(z=function Q(z){var ne="function"==typeof Symbol&&Symbol.iterator,_e=ne&&z[ne],ie=0;if(_e)return _e.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ie>=z.length&&(z=void 0),{value:z&&z[ie++],done:!z}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),_e={},ie("next"),ie("throw"),ie("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function ie(ae){_e[ae]=z[ae]&&function(Ct){return new Promise(function(Qt,Mn){!function xe(ae,Ct,Qt,Mn){Promise.resolve(Mn).then(function(ut){ae({value:ut,done:Qt})},Ct)}(Qt,Mn,(Ct=z[ae](Ct)).done,Ct.value)})}}}R.d(Ie,{_T:()=>oe,mG:()=>he,qq:()=>pe,FC:()=>we,KL:()=>Ze})},5e3:(at,Ie,R)=>{R.d(Ie,{deG:()=>hg,tb:()=>Qc,AFp:()=>Jm,ip1:()=>Km,CZH:()=>Ym,hGG:()=>PC,z2F:()=>fu,sBO:()=>G0,Sil:()=>vC,_Vd:()=>vp,EJc:()=>yC,SBq:()=>Dh,qLn:()=>Nr,vpe:()=>Es,tBr:()=>jr,XFs:()=>ct,OlP:()=>Tn,zs3:()=>qr,ZZ4:()=>__,aQg:()=>Vp,soG:()=>A0,YKP:()=>Ep,h0i:()=>Xa,PXZ:()=>IC,R0b:()=>Vo,FiY:()=>Di,Lbi:()=>Xm,g9A:()=>tl,Qsj:()=>Yv,FYo:()=>Kv,JOm:()=>se,tp0:()=>To,Rgc:()=>Kc,dDg:()=>t_,q4F:()=>jw,GfV:()=>Jv,s_b:()=>Eh,ifc:()=>$t,eFA:()=>RE,G48:()=>TC,Gpc:()=>H,X6Q:()=>j0,_c5:()=>HE,VLi:()=>wC,c2e:()=>S0,zSh:()=>em,wAp:()=>bt,vHH:()=>Re,cg1:()=>da,kL8:()=>ap,dqk:()=>Gt,sIi:()=>nh,CqO:()=>hv,QGY:()=>Wa,F4k:()=>sh,RDi:()=>us,AaK:()=>he,qOj:()=>Xy,TTD:()=>go,_Bn:()=>Bw,xp6:()=>qb,uIk:()=>cm,Tol:()=>nw,ekj:()=>Dv,Suo:()=>sE,Xpm:()=>Lt,lG2:()=>Kt,Yz7:()=>sn,cJS:()=>Xt,oAB:()=>J,Yjl:()=>br,Y36:()=>Qf,_UZ:()=>Pn,qZA:()=>ko,TgZ:()=>gm,EpF:()=>aa,n5z:()=>Id,Ikx:()=>Pc,SDv:()=>Pw,QtT:()=>Fw,pQV:()=>Qa,LFG:()=>Qe,$8M:()=>Zn,$Z:()=>xr,NdJ:()=>je,CRH:()=>oE,oxw:()=>za,Hsn:()=>_m,F$t:()=>Nc,Q6J:()=>Xl,s9C:()=>tu,MGl:()=>oh,VKq:()=>$w,WLB:()=>$c,kEZ:()=>n0,iGM:()=>rE,MAs:()=>ov,CHM:()=>Eu,LSH:()=>Bl,Udp:()=>bv,YNc:()=>BD,W1O:()=>jm,_uU:()=>ch,hij:()=>dh,Gf:()=>iE});var c=R(7579),Y=R(727),k=R(8306),oe=R(6451),X=R(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function Q(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class Re extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function be(s,o){const a=o?` in ${o}`:"";throw new Re(-201,`No provider for ${we(s)} found${a}`)}function _t(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ht(s){return or(s,ji)||or(s,rs)}function or(s,o){return s.hasOwnProperty(o)?s[o]:null}function Lr(s){return s&&(s.hasOwnProperty(Vr)||s.hasOwnProperty(is))?s[Vr]:null}const ji=me({\u0275prov:me}),Vr=me({\u0275inj:me}),rs=me({ngInjectableDef:me}),is=me({ngInjectorDef:me});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Jr;function Wn(s){const o=Jr;return Jr=s,o}function di(s,o,a){const u=Ht(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ct.Optional?null:void 0!==o?o:void be(he(s),"Injector")}function _n(s){return{toString:s}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const ot="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ot||"undefined"!=typeof global&&global||Dt||ar,lr={},dt=[],vr=me({\u0275cmp:me}),Ut=me({\u0275dir:me}),Ke=me({\u0275pipe:me}),Te=me({\u0275mod:me}),et=me({\u0275fac:me}),ht=me({__NG_ELEMENT_ID__:me});let jt=0;function Lt(s){return _n(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||dt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||dt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,_=s.pipes;return u.id+=jt++,u.inputs=yt(s.inputs,a),u.outputs=yt(s.outputs),p&&p.forEach(D=>D(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,u})}function V(s){return Wt(s)||function In(s){return s[Ut]||null}(s)}function $(s){return function xt(s){return s[Ke]||null}(s)}const de={};function J(s){return _n(()=>{const o={type:s.type,bootstrap:s.bootstrap||dt,declarations:s.declarations||dt,imports:s.imports||dt,exports:s.exports||dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function yt(s,o){if(null==s)return lr;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const Kt=Lt;function br(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wt(s){return s[vr]||null}function dn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function fi(s){return Array.isArray(s)&&!0===s[1]}function od(s){return 0!=(8&s.flags)}function Ps(s){return 2==(2&s.flags)}function dl(s){return 1==(1&s.flags)}function Qr(s){return null!==s.template}function jh(s){return 0!=(512&s[2])}function Xr(s,o){return s.hasOwnProperty(et)?s[et]:null}class Wo{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function go(){return Ca}function Ca(s){return s.type.prototype.ngOnChanges&&(s.setInput=ug),dd}function dd(){const s=Vs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===lr)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ug(s,o,a,u){const h=Vs(s)||function pi(s,o){return s[qn]=o}(s,{previous:lr,current:null}),p=h.current||(h.current={}),_=h.previous,D=this.declaredInputs[a],E=_[D];p[D]=new Wo(E&&E.currentValue,o,_===lr),s[u]=o}go.ngInherit=!0;const qn="__ngSimpleChanges__";function Vs(s){return s[qn]||null}let yl;function us(s){yl=s}function Ta(){return void 0!==yl?yl:"undefined"!=typeof document?document:void 0}function pn(s){return!!s.listen}const zo={createRenderer:(s,o)=>Ta()};function ln(s){for(;Array.isArray(s);)s=s[0];return s}function _o(s,o){return ln(o[s])}function wr(s,o){return ln(o[s.index])}function Sa(s,o){return s.data[o]}function Er(s,o){const a=o[s];return Ni(a)?a:a[0]}function Us(s){return 4==(4&s[2])}function cs(s){return 128==(128&s[2])}function ei(s,o){return null==o?null:s[o]}function js(s){s[18]=0}function Gs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const ft={lFrame:vo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function El(){return ft.bindingsEnabled}function Ee(){return ft.lFrame.lView}function Vt(){return ft.lFrame.tView}function Eu(s){return ft.lFrame.contextLView=s,s[8]}function yn(){let s=qo();for(;null!==s&&64===s.type;)s=s.parent;return s}function qo(){return ft.lFrame.currentTNode}function Zo(){const s=ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ti(s,o){const a=ft.lFrame;a.currentTNode=s,a.isParent=o}function Iu(){return ft.lFrame.isParent}function Cu(){ft.lFrame.isParent=!1}function Il(){return ft.isInCheckNoChangesMode}function Hs(s){ft.isInCheckNoChangesMode=s}function dr(){const s=ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function $s(){return ft.lFrame.bindingIndex++}function Oi(s){const o=ft.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Tl(s){ft.lFrame.inI18n=s}function Sl(s,o){const a=ft.lFrame;a.bindingIndex=a.bindingRootIndex=s,Na(o)}function Na(s){ft.lFrame.currentDirectiveIndex=s}function Nu(){return ft.lFrame.currentQueryIndex}function Mu(s){ft.lFrame.currentQueryIndex=s}function gd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ou(s,o,a){if(a&ct.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&ct.Host||(h=gd(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=ft.lFrame=md();return u.currentTNode=o,u.lView=s,!0}function yo(s){const o=md(),a=s[1];ft.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function md(){const s=ft.lFrame,o=null===s?null:s.child;return null===o?vo(s):o}function vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function _d(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const yd=_d;function bo(){const s=_d();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ir(){return ft.lFrame.selectedIndex}function zs(s){ft.lFrame.selectedIndex=s}function Cn(){const s=ft.lFrame;return Sa(s.tView,s.selectedIndex)}function ds(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Oa(s,o,a){vd(s,o,3,a)}function Al(s,o,a,u){(3&s[2])===a&&vd(s,o,a,u)}function jn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function vd(s,o,a,u){const p=null!=u?u:-1,_=o.length-1;let D=0;for(let E=void 0!==u?65535&s[18]:0;E<_;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=u&&D>=u)break}else o[E]<0&&(s[18]+=65536),(D<p||-1==p)&&(cg(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function cg(s,o,a,u){const h=a[u]<0,p=a[u+1],D=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class Ko{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function pt(s,o,a){const u=pn(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const _=a[h++],D=a[h++],E=a[h++];u?s.setAttribute(o,D,E,_):o.setAttributeNS(_,D,E)}else{const _=p,D=a[++h];kn(_)?u&&s.setProperty(o,_,D):u?s.setAttribute(o,_,D):o.setAttribute(_,D),h++}}return h}function tn(s){return 3===s||4===s||6===s}function kn(s){return 64===s.charCodeAt(0)}function Gn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Yo(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Yo(s,o,a,u,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){_=-1;break}if(D>o){_=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function wd(s){return-1!==s}function fn(s){return 32767&s}function xi(s,o){let a=function zh(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Nl=!0;function ni(s){const o=Nl;return Nl=s,o}let Lu=0;function gn(s,o){const a=qs(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,fs(u.data,s),fs(o,null),fs(u.blueprint,null));const h=mi(s,o),p=s.injectorIndex;if(wd(h)){const _=fn(h),D=xi(h,o),E=D[1].data;for(let S=0;S<8;S++)o[p+S]=D[_+S]|E[_+S]}return o[p+8]=h,p}function fs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function qs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function mi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const p=h[1],_=p.type;if(u=2===_?p.declTNode:1===_?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Zs(s,o,a){!function wo(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ht)&&(u=a[ht]),null==u&&(u=a[ht]=Lu++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function $i(s,o,a){if(a&ct.Optional)return s;be(o,"NodeInjector")}function Vu(s,o,a,u){if(a&ct.Optional&&void 0===u&&(u=null),0==(a&(ct.Self|ct.Host))){const h=s[9],p=Wn(void 0);try{return h?h.get(o,u,a&ct.Optional):di(o,u,a&ct.Optional)}finally{Wn(p)}}return $i(u,o,a)}function Ks(s,o,a,u=ct.Default,h){if(null!==s){const p=function Ys(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ht)?s[ht]:void 0;return"number"==typeof o?o>=0?255&o:Bu:o}(a);if("function"==typeof p){if(!Ou(o,s,u))return u&ct.Host?$i(h,a,u):Vu(o,a,u,h);try{const _=p(u);if(null!=_||u&ct.Optional)return _;be(a)}finally{yd()}}else if("number"==typeof p){let _=null,D=qs(s,o),E=-1,S=u&ct.Host?o[16][6]:null;for((-1===D||u&ct.SkipSelf)&&(E=-1===D?mi(s,o):o[D+8],-1!==E&&ir(u,!1)?(_=o[1],D=fn(E),o=xi(E,o)):D=-1);-1!==D;){const N=o[1];if(xa(p,D,N.data)){const P=Ml(D,o,a,_,u,S);if(P!==Wi)return P}E=o[D+8],-1!==E&&ir(u,o[1].data[D+8]===S)&&xa(p,D,o)?(_=N,D=fn(E),o=xi(E,o)):D=-1}}}return Vu(o,a,u,h)}const Wi={};function Bu(){return new ki(yn(),Ee())}function Ml(s,o,a,u,h,p){const _=o[1],D=_.data[s+8],N=yi(D,_,a,null==u?Ps(D)&&Nl:u!=_&&0!=(3&D.type),h&ct.Host&&p===D);return null!==N?Ri(o,_,N,D):Wi}function yi(s,o,a,u,h){const p=s.providerIndexes,_=o.data,D=1048575&p,E=s.directiveStart,N=p>>20,U=h?D+N:s.directiveEnd;for(let Z=u?D:D+N;Z<U;Z++){const ve=_[Z];if(Z<E&&a===ve||Z>=E&&ve.type===a)return Z}if(h){const Z=_[E];if(Z&&Qr(Z)&&Z.type===a)return E}return null}function Ri(s,o,a,u){let h=s[a];const p=o.data;if(function bd(s){return s instanceof Ko}(h)){const _=h;_.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${a}`)}(we(p[a]));const D=ni(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Wn(_.injectImpl):null;Ou(s,u,ct.Default);try{h=s[a]=_.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function ku(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const _=Ca(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&Wn(E),ni(D),_.resolving=!1,yd()}}return h}function xa(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function ir(s,o){return!(s&ct.Self||s&ct.Host&&o)}class ki{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Ks(this._tNode,this._lView,o,u,a)}}function Id(s){return _n(()=>{const o=s.prototype.constructor,a=o[et]||Dn(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[et]||Dn(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Dn(s){return ze(s)?()=>{const o=Dn(Q(s));return o&&o()}:Xr(s)}function Zn(s){return function _i(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(tn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(yn(),s)}const Jo="__parameters__";function vn(s,o,a){return _n(()=>{const u=function zi(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const _=new h(...p);return D.annotation=_,D;function D(E,S,N){const P=E.hasOwnProperty(Jo)?E[Jo]:Object.defineProperty(E,Jo,{value:[]})[Jo];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Tn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hg=new Tn("AnalyzeForEntryComponents");function Sr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Sr(u,o)):o!==s&&o.push(u)}return o}function vi(s,o){s.forEach(a=>Array.isArray(a)?vi(a,o):o(a))}function Gu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function gs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Pi(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Kn(s,o,a){let u=eo(s,o);return u>=0?s[1|u]=a:(u=~u,function Hu(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function zu(s,o){const a=eo(s,o);if(a>=0)return s[1|a]}function eo(s,o){return function Eo(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const Io={},Xo="__NG_DI_FLAG__",kl="ngTempTokenPath",C=/\n/gm,L="__source",q=me({provide:String,useValue:me});let ee;function Ae(s){const o=ee;return ee=s,o}function Ne(s,o=ct.Default){if(void 0===ee)throw new Re(203,"");return null===ee?di(s,void 0,o):ee.get(s,o&ct.Optional?null:void 0,o)}function Qe(s,o=ct.Default){return(function tr(){return Jr}()||Ne)(Q(s),o)}const Rt=Qe;function St(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Re(900,"");let h,p=ct.Default;for(let _=0;_<u.length;_++){const D=u[_],E=Sn(D);"number"==typeof E?-1===E?h=D.token:p|=E:h=D}o.push(Qe(h,p))}else o.push(Qe(u))}return o}function Hn(s,o){return s[Xo]=o,s.prototype[Xo]=o,s}function Sn(s){return s[Xo]}const jr=Hn(vn("Inject",s=>({token:s})),-1),Di=Hn(vn("Optional"),8),To=Hn(vn("SkipSelf"),4);let Ao;function Pa(s){var o;return(null===(o=function Md(){if(void 0===Ao&&(Ao=null,Gt.trustedTypes))try{Ao=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ao}())||void 0===o?void 0:o.createHTML(s))||s}class kd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function to(s){return s instanceof kd?s.changingThisBreaksApplicationSecurity:s}class H_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Pa(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class $_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Pa(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Pa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const no=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ef=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ll(s){return(s=String(s)).match(no)||s.match(ef)?s:"unsafe:"+s}function tf(s){return(s=String(s)).split(",").map(o=>Ll(o.trim())).join(", ")}function Li(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Qu(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Dg=Li("area,br,col,hr,img,wbr"),Pd=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fd=Li("rp,rt"),nf=Qu(Dg,Qu(Pd,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qu(Fd,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qu(Fd,Pd)),rf=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sf=Li("srcset"),ra=Qu(rf,sf,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var nn=(()=>((nn=nn||{})[nn.NONE=0]="NONE",nn[nn.HTML=1]="HTML",nn[nn.STYLE=2]="STYLE",nn[nn.SCRIPT=3]="SCRIPT",nn[nn.URL=4]="URL",nn[nn.RESOURCE_URL=5]="RESOURCE_URL",nn))();function Bl(s){const o=function ia(){const s=Ee();return s&&s[12]}();return o?o.sanitize(nn.URL,s)||"":function na(s,o){const a=function Fl(s){return s instanceof kd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?to(s):Ll(pe(s))}const hf="__ngContext__";function Gr(s,o){s[hf]=o}function ff(s){const o=function La(s){return s[hf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ua(s){return s.ngOriginalError}function Ag(s,...o){s.error(...o)}class Nr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function X_(s){return s&&s.ngErrorLogger||Ag}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Ua(o);for(;a&&Ua(a);)a=Ua(a);return a||null}}const ey=/^>|^->|<!--|-->|--!>|<!-$/g,Mo=/(<|>)/;const ry=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function g(s){return s instanceof Function?s():s}var se=(()=>((se=se||{})[se.Important=1]="Important",se[se.DashCase=2]="DashCase",se))();let Ue;function tt(s,o){return Ue(s,o)}function An(s){const o=s[3];return fi(o)?o[3]:o}function Ul(s){return Df(s[13])}function jl(s){return Df(s[4])}function Df(s){for(;null!==s&&!fi(s);)s=s[4];return s}function sa(s,o,a,u,h){if(null!=u){let p,_=!1;fi(u)?p=u:Ni(u)&&(_=!0,u=u[0]);const D=ln(u);0===s&&null!==a?null==h?dy(o,a,D):_s(o,a,D,h||null,!0):1===s&&null!==a?_s(o,a,D,h||null,!0):2===s?gy(o,D,_):3===s&&o.destroyNode(D),null!=p&&function ye(s,o,a,u,h){const p=a[7];p!==ln(a)&&sa(o,s,u,p,h);for(let D=10;D<a.length;D++){const E=a[D];Rg(E[1],E,s,o,u,p)}}(o,s,p,a,h)}}function Ud(s,o){return pn(s)?s.createText(o):s.createTextNode(o)}function jd(s,o,a){pn(s)?s.setValue(o,a):o.textContent=a}function wf(s,o){return s.createComment(function yf(s){return s.replace(ey,o=>o.replace(Mo,"\u200b$1\u200b"))}(o))}function Gd(s,o,a){if(pn(s))return s.createElement(o,a);{const u=null!==a?function _l(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Fb(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Gs(h,-1)),a.splice(u,1)}function ly(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&Fb(h,u),o>0&&(s[a-1][4]=u[4]);const p=gs(s,10+o);!function ri(s,o){Rg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function uy(s,o){if(!(256&o[2])){const a=o[11];pn(a)&&a.destroyNode&&Rg(s,o,a,3,null,null),function oy(s){let o=s[13];if(!o)return cy(s[1],s);for(;o;){let a=null;if(Ni(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Ni(o)&&cy(o[1],o),o=o[3];null===o&&(o=s),Ni(o)&&cy(o[1],o),a=o&&o[4]}o=a}}(o)}}function cy(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Vb(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Ko)){const p=a[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const D=h[p[_]],E=p[_+1];try{E.call(D)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Lb(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],D="function"==typeof _?_(o):ln(o[_]),E=u[h=a[p+2]],S=a[p+3];"boolean"==typeof S?D.removeEventListener(a[p],E,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),p+=2}else{const _=u[h=a[p+1]];a[p].call(_)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&pn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&fi(o[3])){a!==o[3]&&Fb(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function Og(s,o,a){return G1(s,o.parent,a)}function G1(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return wr(u,a)}function _s(s,o,a,u,h){pn(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function dy(s,o,a){pn(s)?s.appendChild(o,a):o.appendChild(a)}function Bb(s,o,a,u,h){null!==u?_s(s,o,a,u,h):dy(s,o,a)}function If(s,o){return pn(s)?s.parentNode(o):o.parentNode}function Ub(s,o,a){return hy(s,o,a)}function jb(s,o,a){return 40&s.type?wr(s,a):null}let fy,hy=jb;function Gb(s,o){hy=s,fy=o}function xg(s,o,a,u){const h=Og(s,u,o),p=o[11],D=Ub(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Bb(p,h,a[E],D,!1);else Bb(p,h,a,D,!1);void 0!==fy&&fy(p,u,o,a,h)}function $d(s,o){if(null!==o){const a=o.type;if(3&a)return wr(o,s);if(4&a)return py(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return $d(s,u);{const h=s[o.index];return fi(h)?py(-1,h):ln(h)}}if(32&a)return tt(o,s)()||ln(s[o.index]);{const u=Hb(s,o);return null!==u?Array.isArray(u)?u[0]:$d(An(s[16]),u):$d(s,o.next)}}return null}function Hb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function py(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return $d(u,h)}return o[7]}function gy(s,o,a){const u=If(s,o);u&&function H1(s,o,a,u){pn(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}function my(s,o,a,u,h,p,_){for(;null!=a;){const D=u[a.index],E=a.type;if(_&&0===o&&(D&&Gr(ln(D),u),a.flags|=4),64!=(64&a.flags))if(8&E)my(s,o,a.child,u,h,p,!1),sa(o,s,h,D,p);else if(32&E){const S=tt(a,u);let N;for(;N=S();)sa(o,s,h,N,p);sa(o,s,h,D,p)}else 16&E?$b(s,o,u,a,h,p):sa(o,s,h,D,p);a=_?a.projectionNext:a.next}}function Rg(s,o,a,u,h,p){my(a,u,s.firstChild,o,h,p,!1)}function $b(s,o,a,u,h,p){const _=a[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)sa(o,s,h,E[S],p);else my(s,o,E,_[3],h,p,!0)}function ii(s,o,a){pn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Cf(s,o,a){pn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Tf(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const ro="ng-template";function pS(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==Tf(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Wb(s){return 4===s.type&&s.value!==ro}function lc(s,o,a){return o===(4!==s.type||a?s.value:ro)}function kg(s,o,a){let u=4;const h=s.attrs||[],p=function rt(s){for(let o=0;o<s.length;o++)if(tn(s[o]))return o;return s.length}(h);let _=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!lc(s,E,a)||""===E&&1===o.length){if(Hr(u))return!1;_=!0}}else{const S=8&u?E:o[++D];if(8&u&&null!==s.attrs){if(!pS(s.attrs,S,a)){if(Hr(u))return!1;_=!0}continue}const P=zt(8&u?"class":E,h,Wb(s),a);if(-1===P){if(Hr(u))return!1;_=!0;continue}if(""!==S){let U;U=P>p?"":h[P+1].toLowerCase();const Z=8&u?U:null;if(Z&&-1!==Tf(Z,S,0)||2&u&&S!==U){if(Hr(u))return!1;_=!0}}}}else{if(!_&&!Hr(u)&&!Hr(E))return!1;if(_&&Hr(E))continue;_=!1,u=E|1&u}}return Hr(u)||_}function Hr(s){return 0==(1&s)}function zt(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function yy(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function zb(s,o,a=!1){for(let u=0;u<o.length;u++)if(kg(s,o[u],a))return!0;return!1}function Ot(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function Sf(s,o){return s?":not("+o.trim()+")":o}function vy(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&u){const D=s[++a];h+="["+_+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!Hr(_)&&(o+=Sf(p,h),h=""),u=_,p=p||!Hr(u);a++}return""!==h&&(o+=Sf(p,h)),o}const At={};function qb(s){Zb(Vt(),Ee(),Ir()+s,Il())}function Zb(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Oa(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Al(o,p,0,a)}zs(a)}function fr(s,o){return s<<17|o<<2}function Qi(s){return s>>17&32767}function by(s){return 2|s}function Ga(s){return(131068&s)>>2}function Pg(s,o){return-131069&s|o<<2}function wy(s){return 1|s}function Oy(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const _=s.data[p];Mu(h),_.contentQueries(2,o[p],p)}}}function Wd(s,o,a,u,h,p,_,D,E,S){const N=o.blueprint.slice();return N[0]=h,N[2]=140|u,js(N),N[3]=N[15]=s,N[8]=a,N[10]=_||s&&s[10],N[11]=D||s&&s[11],N[12]=E||s&&s[12]||null,N[9]=S||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function cc(s,o,a,u,h){let p=s.data[o];if(null===p)p=kf(s,o,a,u,h),function Su(){return ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const _=Zo();p.injectorIndex=null===_?-1:_.injectorIndex}return ti(p,!0),p}function kf(s,o,a,u,h){const p=qo(),_=Iu(),E=s.data[o]=function ky(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function dc(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Pf(s,o,a){yo(o);try{const u=s.viewQuery;null!==u&&Xg(1,u,a);const h=s.template;null!==h&&Gg(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Oy(s,o),s.staticViewQueries&&Xg(2,s.viewQuery,a);const p=s.components;null!==p&&function Q1(s,o){for(let a=0;a<o.length;a++)Gy(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,bo()}}function $l(s,o,a,u){const h=o[2];if(256==(256&h))return;yo(o);const p=Il();try{js(o),function Cl(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Gg(s,o,a,2,u);const _=3==(3&h);if(!p)if(_){const S=s.preOrderCheckHooks;null!==S&&Oa(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Al(o,S,0,null),jn(o,0)}if(function mD(s){for(let o=Ul(s);null!==o;o=jl(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(1024&h[2])&&Gs(p,1),h[2]|=1024}}}(o),function jy(s){for(let o=Ul(s);null!==o;o=jl(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];cs(u)&&$l(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Oy(s,o),!p)if(_){const S=s.contentCheckHooks;null!==S&&Oa(o,S)}else{const S=s.contentHooks;null!==S&&Al(o,S,1),jn(o,1)}!function My(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)zs(~h);else{const p=h,_=a[++u],D=a[++u];Sl(_,p),D(2,o[p])}}}finally{zs(-1)}}(s,o);const D=s.components;null!==D&&function oD(s,o){for(let a=0;a<o.length;a++)_D(s,o[a])}(o,D);const E=s.viewQuery;if(null!==E&&Xg(2,E,u),!p)if(_){const S=s.viewCheckHooks;null!==S&&Oa(o,S)}else{const S=s.viewHooks;null!==S&&Al(o,S,2),jn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Gs(o[3],-1))}finally{bo()}}function xy(s,o,a,u){const h=o[10],p=!Il(),_=Us(o);try{p&&!_&&h.begin&&h.begin(),_&&Pf(s,o,u),$l(s,o,a,u)}finally{p&&!_&&h.end&&h.end()}}function Gg(s,o,a,u,h){const p=Ir(),_=2&u;try{zs(-1),_&&o.length>20&&Zb(s,o,20,Il()),a(u,h)}finally{zs(p)}}function Or(s,o,a){!El()||(function tI(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||gn(a,o),Gr(u,o);const _=a.initialInputs;for(let D=h;D<p;D++){const E=s.data[D],S=Qr(E);S&&Lf(o,a,E);const N=Ri(o,s,D,a);Gr(N,o),null!==_&&gD(0,D-h,N,E,0,_),S&&(Er(a.index,o)[8]=N)}}(s,o,a,wr(a,o)),128==(128&a.flags)&&function nI(s,o,a){const u=a.directiveStart,h=a.directiveEnd,_=a.index,D=function Au(){return ft.lFrame.currentDirectiveIndex}();try{zs(_);for(let E=u;E<h;E++){const S=s.data[E],N=o[E];Na(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&hc(S,N)}}finally{zs(-1),Na(D)}}(s,o,a))}function zd(s,o,a=wr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],D=-1===_?a(o,s):s[_];s[h++]=D}}}function Hg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$g(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $g(s,o,a,u,h,p,_,D,E,S){const N=20+u,P=N+h,U=function X1(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:At);return a}(N,P),Z="function"==typeof S?S():S;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:D,declTNode:o,data:U.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1}}function Wg(s,o,a,u){const h=vD(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&Kd(s).push(u,h.length-1))}function lD(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function ys(s,o,a,u,h,p,_,D){const E=wr(o,a);let N,S=o.inputs;!D&&null!=S&&(N=S[u])?(Yd(s,a,N,u,h),Ps(o)&&function zg(s,o){const a=Er(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function uD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=_?_(h,o.value||"",u):h,pn(p)?p.setProperty(E,u,h):kn(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function Zg(s,o,a,u){let h=!1;if(El()){const p=function rI(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];zb(a,_.selectors,!1)&&(h||(h=[]),Zs(gn(a,o),s,_.type),Qr(_)?(fD(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===u?null:{"":-1};if(null!==p){h=!0,Ff(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let D=!1,E=!1,S=dc(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=Gn(a.mergedAttrs,P.hostAttrs),Vy(s,a,o,S,P),pD(S,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!D&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),S++}!function Py(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,_=[];let D=null,E=null;for(let S=o.directiveStart;S<u;S++){const N=h[S],P=N.inputs,U=null===p||Wb(o)?null:Vf(P,p);_.push(U),D=lD(P,S,D),E=lD(N.outputs,S,E)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=D,o.outputs=E}(s,a)}_&&function fc(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Re(-301,!1);u.push(o[h],p)}}}(a,u,_)}return a.mergedAttrs=Gn(a.mergedAttrs,a.attrs),h}function Ly(s,o,a,u,h,p){const _=p.hostBindings;if(_){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const E=~o.index;(function Kg(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=E&&D.push(E),D.push(u,h,_)}}function hc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function fD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function pD(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Qr(o)&&(a[""]=s)}}function Ff(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Vy(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=Xr(h.type)),_=new Ko(p,Qr(h),null);s.blueprint[u]=_,a[u]=_,Ly(s,o,0,u,dc(s,a,h.hostVars,At),h)}function Lf(s,o,a){const u=wr(o,s),h=Hg(a),p=s[10],_=qd(s,Wd(s,h,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=_}function oi(s,o,a,u,h,p,_){if(null==p)pn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const D=null==_?pe(p):_(p,u||"",h);pn(s)?s.setAttribute(o,h,D,a):a?o.setAttributeNS(a,h,D):o.setAttribute(h,D)}}function gD(s,o,a,u,h,p){const _=p[o];if(null!==_){const D=u.setInput;for(let E=0;E<_.length;){const S=_[E++],N=_[E++],P=_[E++];null!==D?u.setInput(a,P,S,N):a[N]=P}}}function Vf(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function Uy(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function _D(s,o){const a=Er(o,s);if(cs(a)){const u=a[1];80&a[2]?$l(u,a,u.template,a[8]):a[5]>0&&pc(a)}}function pc(s){for(let u=Ul(s);null!==u;u=jl(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const _=p[1];$l(_,p,_.template,p[8])}else p[5]>0&&pc(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Er(a[u],s);cs(h)&&h[5]>0&&pc(h)}}function Gy(s,o){const a=Er(o,s),u=a[1];(function Hy(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Pf(u,a,a[8])}function qd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Zd(s){for(;s;){s[2]|=64;const o=An(s);if(jh(s)&&!o)return s;s=o}return null}function $y(s,o,a){const u=o[10];u.begin&&u.begin();try{$l(s,o,s.template,a)}catch(h){throw Uf(o,h),h}finally{u.end&&u.end()}}function Jg(s){!function Yg(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=ff(a),h=u[1];xy(h,u,h.template,a)}}(s[8])}function Xg(s,o,a){Mu(0),o(s,a)}const yD=(()=>Promise.resolve(null))();function vD(s){return s[7]||(s[7]=[])}function Kd(s){return s.cleanup||(s.cleanup=[])}function Uf(s,o){const a=s[9],u=a?a.get(Nr,null):null;u&&u.handleError(o)}function Yd(s,o,a,u,h){for(let p=0;p<a.length;){const _=a[p++],D=a[p++],E=o[_],S=s.data[_];null!==S.setInput?S.setInput(E,h,u,D):E[D]=h}}function Jd(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const D=o[_];"number"==typeof D?p=D:1==p?h=ce(h,D):2==p&&(u=ce(u,D+": "+o[++_]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const Gf=new Tn("INJECTOR",-1);class Wl{get(o,a=Io){if(a===Io){const u=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw u.name="NullInjectorError",u}return a}}const em=new Tn("Set Injector scope."),Hf={},gc={};let Ro;function $f(){return void 0===Ro&&(Ro=new Wl),Ro}function Wf(s,o=null,a=null,u){const h=zf(s,o,a,u);return h._resolveInjectorDefTypes(),h}function zf(s,o=null,a=null,u){return new bD(s,a,o||$f(),u)}class bD{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&vi(a,D=>this.processProvider(D,o,a)),vi([o],D=>this.processInjectorType(D,[],p)),this.records.set(Gf,oa(void 0,this));const _=this.records.get(em);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Io,u=ct.Default){this.assertNotDestroyed();const h=Ae(this),p=Wn(void 0);try{if(!(u&ct.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function qf(s){return"function"==typeof s||"object"==typeof s&&s instanceof Tn}(o)&&Ht(o);D=E&&this.injectableDefInScope(E)?oa(En(o),Hf):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(u&ct.Self?$f():this.parent).get(o,a=u&ct.Optional&&a===Io?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[kl]=_[kl]||[]).unshift(he(o)),h)throw _;return function ea(s,o,a,u){const h=s[kl];throw o[L]&&h.unshift(o[L]),s.message=function Co(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let D=o[_];p.push(_+":"+("string"==typeof D?JSON.stringify(D):he(D)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[kl]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Wn(p),Ae(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,a,u){if(!(o=Q(o)))return!1;let h=Lr(o);const p=null==h&&o.ngModule||void 0,_=void 0===p?o:p,D=-1!==u.indexOf(_);if(void 0!==p&&(h=Lr(p)),null==h)return!1;if(null!=h.imports&&!D){let N;u.push(_);try{vi(h.imports,P=>{this.processInjectorType(P,a,u)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:U,providers:Z}=N[P];vi(Z,ve=>this.processProvider(ve,U,Z||dt))}}this.injectorDefTypes.add(_);const E=Xr(_)||(()=>new _);this.records.set(_,oa(E,Hf));const S=h.providers;if(null!=S&&!D){const N=o;vi(S,P=>this.processProvider(P,N,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let h=Xd(o=Q(o))?o:Q(o&&o.provide);const p=function oI(s,o,a){return Qd(s)?oa(void 0,s.useValue):oa(DD(s),Hf)}(o);if(Xd(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=oa(void 0,Hf,!0),_.factory=()=>St(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===Hf&&(a.value=gc,a.value=a.factory()),"object"==typeof a.value&&a.value&&function cI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function En(s){const o=Ht(s),a=null!==o?o.factory:Xr(s);if(null!==a)return a;if(s instanceof Tn)throw new Re(204,!1);if(s instanceof Function)return function tm(s){const o=s.length;if(o>0)throw Pi(o,"?"),new Re(204,!1);const a=function ci(s){const o=s&&(s[ji]||s[rs]);if(o){const a=function Ms(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Re(204,!1)}function DD(s,o,a){let u;if(Xd(s)){const h=Q(s);return Xr(h)||En(h)}if(Qd(s))u=()=>Q(s.useValue);else if(function wD(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...St(s.deps||[]));else if(function aI(s){return!(!s||!s.useExisting)}(s))u=()=>Qe(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function uI(s){return!!s.deps}(s))return Xr(h)||En(h);u=()=>new h(...St(s.deps))}return u}function oa(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Qd(s){return null!==s&&"object"==typeof s&&q in s}function Xd(s){return"function"==typeof s}let qr=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return Wf({name:""},u,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return Wf({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Io,s.NULL=new Wl,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Qe(Gf)}),s.__NG_ELEMENT_ID__=-1,s})();function OD(s,o){ds(ff(s)[1],yn())}function Xy(s){let o=function xD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Qr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const _=s;_.inputs=sm(s.inputs),_.declaredInputs=sm(s.declaredInputs),_.outputs=sm(s.outputs);const D=h.hostBindings;D&&om(s,D);const E=h.viewQuery,S=h.contentQueries;if(E&&RD(s,E),S&&kD(s,S),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),Qr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const D=p[_];D&&D.ngInherit&&D(s),D===Xy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function gI(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Gn(h.hostAttrs,a=Gn(a,h.hostAttrs))}}(u)}function sm(s){return s===lr?{}:s===dt?[]:s}function RD(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function kD(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function om(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let am=null;function zl(){if(!am){const s=Gt.Symbol;if(s&&s.iterator)am=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(am=u)}}}return am}function nh(s){return!!um(s)&&(Array.isArray(s)||!(s instanceof Map)&&zl()in s)}function um(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function io(s,o,a){return s[o]=a}function Ei(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Zl(s,o,a,u){const h=Ei(s,o,a);return Ei(s,o+1,u)||h}function cm(s,o,a,u){const h=Ee();return Ei(h,$s(),o)&&(Vt(),function xo(s,o,a,u,h,p){const _=wr(s,o);oi(o[11],_,p,s.value,a,u,h)}(Cn(),h,s,o,a,u)),cm}function Jl(s,o,a,u){return Ei(s,$s(),a)?o+pe(a)+u:At}function BD(s,o,a,u,h,p,_,D){const E=Ee(),S=Vt(),N=s+20,P=S.firstCreatePass?function sv(s,o,a,u,h,p,_,D,E){const S=o.consts,N=cc(o,s,4,_||null,ei(S,D));Zg(o,a,N,ei(S,E)),ds(o,N);const P=N.tViews=$g(2,N,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,S,E,o,a,u,h,p,_):S.data[N];ti(P,!1);const U=E[11].createComment("");xg(S,E,U,P),Gr(U,E),qd(E,E[N]=Uy(U,E,U,P)),dl(P)&&Or(S,E,P),null!=_&&zd(E,P,D)}function ov(s){return function Mi(s,o){return s[o]}(function Tu(){return ft.lFrame.contextLView}(),20+s)}function Qf(s,o=ct.Default){const a=Ee();return null===a?Qe(s,o):Ks(yn(),a,Q(s),o)}function xr(){throw new Error("invalid")}function Xl(s,o,a){const u=Ee();return Ei(u,$s(),o)&&ys(Vt(),Cn(),u,s,o,u[11],a,!1),Xl}function cv(s,o,a,u,h){const _=h?"class":"style";Yd(s,a,o.inputs[_],_,u)}function gm(s,o,a,u){const h=Ee(),p=Vt(),_=20+s,D=h[11],E=h[_]=Gd(D,o,function O_(){return ft.lFrame.currentNamespace}()),S=p.firstCreatePass?function Rr(s,o,a,u,h,p,_){const D=o.consts,S=cc(o,s,2,h,ei(D,p));return Zg(o,a,S,ei(D,_)),null!==S.attrs&&Jd(S,S.attrs,!1),null!==S.mergedAttrs&&Jd(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,p,h,0,o,a,u):p.data[_];ti(S,!0);const N=S.mergedAttrs;null!==N&&pt(D,E,N);const P=S.classes;null!==P&&Cf(D,E,P);const U=S.styles;return null!==U&&ii(D,E,U),64!=(64&S.flags)&&xg(p,h,E,S),0===function Aa(){return ft.lFrame.elementDepthCount}()&&Gr(E,h),function Dl(){ft.lFrame.elementDepthCount++}(),dl(S)&&(Or(p,h,S),function Mr(s,o,a){if(od(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,S,h)),null!==u&&zd(h,S),gm}function ko(){let s=yn();Iu()?Cu():(s=s.parent,ti(s,!1));const o=s;!function wl(){ft.lFrame.elementDepthCount--}();const a=Vt();return a.firstCreatePass&&(ds(a,s),od(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Wh(s){return 0!=(16&s.flags)}(o)&&cv(a,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dg(s){return 0!=(32&s.flags)}(o)&&cv(a,o,Ee(),o.stylesWithoutHost,!1),ko}function Pn(s,o,a,u){return gm(s,o,a,u),ko(),Pn}function aa(){return Ee()}function Wa(s){return!!s&&"function"==typeof s.then}function sh(s){return!!s&&"function"==typeof s.subscribe}const hv=sh;function je(s,o,a,u){const h=Ee(),p=Vt(),_=yn();return function eu(s,o,a,u,h,p,_,D){const E=dl(u),N=s.firstCreatePass&&Kd(s),P=o[8],U=vD(o);let Z=!0;if(3&u.type||D){const He=wr(u,o),it=D?D(He):He,fe=U.length,gt=D?Yt=>D(ln(Yt[u.index])):u.index;if(pn(a)){let Yt=null;if(!D&&E&&(Yt=function ZD(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===u){const D=o[7],E=h[p+2];return D.length>E?D[E]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,u.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=p,Yt.__ngLastListenerFn__=p,Z=!1;else{p=Ac(u,o,P,p,!1);const Tt=a.listen(it,h,p);U.push(p,Tt),N&&N.push(h,gt,fe,fe+1)}}else p=Ac(u,o,P,p,!0),it.addEventListener(h,p,_),U.push(p),N&&N.push(h,gt,fe,_)}else p=Ac(u,o,P,p,!1);const ve=u.outputs;let Fe;if(Z&&null!==ve&&(Fe=ve[h])){const He=Fe.length;if(He)for(let it=0;it<He;it+=2){const es=o[Fe[it]][Fe[it+1]].subscribe(p),ed=U.length;U.push(p,es),N&&N.push(h,u.index,ed,-(ed+1))}}}(p,h,h[11],_,s,o,!!a,u),je}function Po(s,o,a,u){try{return!1!==a(u)}catch(h){return Uf(s,h),!1}}function Ac(s,o,a,u,h){return function p(_){if(_===Function)return u;const D=2&s.flags?Er(s.index,o):o;0==(32&o[2])&&Zd(D);let E=Po(o,0,u,_),S=p.__ngNextListenerFn__;for(;S;)E=Po(o,0,S,_)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function za(s=1){return function Ws(s){return(ft.lFrame.contextLView=function xu(s,o){for(;s>0;)o=o[15],s--;return o}(s,ft.lFrame.contextLView))[8]}(s)}function KD(s,o){let a=null;const u=function ja(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?zb(s,p,!0):Ot(u,p))return h}else a=h}return a}function Nc(s){const o=Ee()[16][6];if(!o.projection){const u=o.projection=Pi(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const _=s?KD(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:u[_]=p,h[_]=p),p=p.next}}}function _m(s,o=0,a){const u=Ee(),h=Vt(),p=cc(h,20+s,16,null,a||null);null===p.projection&&(p.projection=o),Cu(),64!=(64&p.flags)&&function W1(s,o,a){$b(o[11],0,o,a,Og(s,a,o),Ub(a.parent||o[6],a,o))}(h,u,p)}function tu(s,o,a){return oh(s,"",o,"",a),tu}function oh(s,o,a,u,h){const p=Ee(),_=Jl(p,o,a,u);return _!==At&&ys(Vt(),Cn(),p,s,_,p[11],h,!1),oh}function ep(s,o,a,u,h){const p=s[a+1],_=null===o;let D=u?Qi(p):Ga(p),E=!1;for(;0!==D&&(!1===E||_);){const N=s[D+1];vv(s[D],o)&&(E=!0,s[D+1]=u?wy(N):by(N)),D=u?Qi(N):Ga(N)}E&&(s[a+1]=u?by(p):wy(p))}function vv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&eo(s,o)>=0}const Fn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tp(s){return s.substring(Fn.key,Fn.keyEnd)}function QD(s,o){const a=Fn.textEnd;return a===o?-1:(o=Fn.keyEnd=function Oc(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Fn.key=o,a),Mc(s,o,a))}function Mc(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function bv(s,o,a){return Fo(s,o,a,!1),bv}function Dv(s,o){return Fo(s,o,null,!0),Dv}function nw(s){!function Lo(s,o,a,u){const h=Vt(),p=Oi(2);h.firstUpdatePass&&xc(h,null,p,u);const _=Ee();if(a!==At&&Ei(_,p,a)){const D=h.data[Ir()];if(Ev(D,u)&&!Za(h,p)){let E=u?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(a=ce(E,a||"")),cv(h,D,_,a,u)}else!function wv(s,o,a,u,h,p,_,D){h===At&&(h=dt);let E=0,S=0,N=0<h.length?h[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const U=E<h.length?h[E+1]:void 0,Z=S<p.length?p[S+1]:void 0;let Fe,ve=null;N===P?(E+=2,S+=2,U!==Z&&(ve=P,Fe=Z)):null===P||null!==N&&N<P?(E+=2,ve=N):(S+=2,ve=P,Fe=Z),null!==ve&&Dm(s,o,a,u,ve,Fe,_,D),N=E<h.length?h[E]:null,P=S<p.length?p[S]:null}}(h,D,_,_[11],_[p+1],_[p+1]=function bm(s,o,a){if(null==a||""===a)return dt;const u=[],h=to(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,p)}}(Kn,ua,s,!0)}function ua(s,o){for(let a=function JD(s){return function ew(s){Fn.key=0,Fn.keyEnd=0,Fn.value=0,Fn.valueEnd=0,Fn.textEnd=s.length}(s),QD(s,Mc(s,0,Fn.textEnd))}(o);a>=0;a=QD(o,a))Kn(s,tp(o),!0)}function Fo(s,o,a,u){const h=Ee(),p=Vt(),_=Oi(2);p.firstUpdatePass&&xc(p,s,_,u),o!==At&&Ei(h,_,o)&&Dm(p,p.data[Ir()],h,h[11],s,h[_+1]=function oo(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(to(s)))),s}(o,a),u,_)}function Za(s,o){return o>=s.expandoStartIndex}function xc(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[Ir()],_=Za(s,a);Ev(p,u)&&null===o&&!_&&(o=!1),o=function wI(s,o,a,u){const h=function Ma(s){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=ca(a=vm(null,s,o,a,u),o.attrs,u),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=vm(h,s,o,a,u),null===p){let E=function rw(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Ga(u))return s[Qi(u)]}(s,o,u);void 0!==E&&Array.isArray(E)&&(E=vm(null,s,o,E[1],u),E=ca(E,o.attrs,u),function iw(s,o,a,u){s[Qi(a?o.classBindings:o.styleBindings)]=u}(s,o,u,E))}else p=function Ka(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=ca(u,s[p].hostAttrs,a);return ca(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function YD(s,o,a,u,h,p){let _=p?o.classBindings:o.styleBindings,D=Qi(_),E=Ga(_);s[u]=a;let N,S=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||eo(P,N)>0)&&(S=!0)}else N=a;if(h)if(0!==E){const U=Qi(s[D+1]);s[u+1]=fr(U,D),0!==U&&(s[U+1]=Pg(s[U+1],u)),s[D+1]=function Gl(s,o){return 131071&s|o<<17}(s[D+1],u)}else s[u+1]=fr(D,0),0!==D&&(s[D+1]=Pg(s[D+1],u)),D=u;else s[u+1]=fr(E,0),0===D?D=u:s[E+1]=Pg(s[E+1],u),E=u;S&&(s[u+1]=by(s[u+1])),ep(s,N,u,!0),ep(s,N,u,!1),function Nn(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&eo(p,o)>=0&&(a[u+1]=wy(a[u+1]))}(o,N,s,u,p),_=fr(D,E),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,u)}}function vm(s,o,a,u,h){let p=null;const _=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<_&&(p=o[D],u=ca(u,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),u}function ca(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Kn(s,_,!!a||o[++p]))}return void 0===s?null:s}function Dm(s,o,a,u,h,p,_,D){if(!(3&o.type))return;const E=s.data,S=E[D+1];Ya(function Dy(s){return 1==(1&s)}(S)?wm(E,o,a,h,Ga(S),_):void 0)||(Ya(p)||function $r(s){return 2==(2&s)}(S)&&(p=wm(E,null,a,h,D,_)),function _y(s,o,a,u,h){const p=pn(s);if(o)h?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:se.DashCase;if(null==h)p?s.removeStyle(a,u,_):a.style.removeProperty(u);else{const D="string"==typeof h&&h.endsWith("!important");D&&(h=h.slice(0,-10),_|=se.Important),p?s.setStyle(a,u,h,_):a.style.setProperty(u,h,D?"important":"")}}}(u,_,_o(Ir(),a),h,p))}function wm(s,o,a,u,h,p){const _=null===o;let D;for(;h>0;){const E=s[h],S=Array.isArray(E),N=S?E[1]:E,P=null===N;let U=a[h+1];U===At&&(U=P?dt:void 0);let Z=P?zu(U,u):N===u?U:void 0;if(S&&!Ya(Z)&&(Z=zu(E,u)),Ya(Z)&&(D=Z,_))return D;const ve=s[h+1];h=_?Qi(ve):Ga(ve)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(D=zu(E,u))}return D}function Ya(s){return void 0!==s}function Ev(s,o){return 0!=(s.flags&(o?16:32))}function ch(s,o=""){const a=Ee(),u=Vt(),h=s+20,p=u.firstCreatePass?cc(u,h,1,o,null):u.data[h],_=a[h]=Ud(a[11],o);xg(u,a,_,p),ti(p,!1)}function dh(s,o,a){const u=Ee(),h=Jl(u,s,o,a);return h!==At&&function Bi(s,o,a){const u=_o(o,s);jd(s[11],u,a)}(u,Ir(),h),dh}function Pc(s,o,a){const u=Ee();return Ei(u,$s(),o)&&ys(Vt(),Cn(),u,s,o,u[11],a,!0),Pc}const Fc=void 0;var en=["en",[["a","p"],["AM","PM"],Fc],[["AM","PM"],Fc,Fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fc,"{1} 'at' {0}",Fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gr(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Lc={};function da(s){const o=function gh(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Kr(o);if(a)return a;const u=o.split("-")[0];if(a=Kr(u),a)return a;if("en"===u)return en;throw new Error(`Missing locale data for the locale "${s}".`)}function ap(s){return da(s)[bt.PluralCase]}function Kr(s){return s in Lc||(Lc[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),Lc[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const NI=["zero","one","two","few","many"],Am="en-US",ru={marker:"element"},Nm={marker:"ICU"};var Xn=(()=>((Xn=Xn||{})[Xn.SHIFT=2]="SHIFT",Xn[Xn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Xn[Xn.COMMENT=2]="COMMENT",Xn))();let hw=Am;function mh(s,o,a){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?jb(s,0,a):ln(a[h])}function up(s,o,a,u,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let _=u,D=null;if(3&o.type||(D=_,_=h),null!==_&&0==(2&o.flags))for(let E=1;E<p.length;E++)_s(s,_,a[p[E]],D,!1)}}function Fv(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];Lv(u)||fw(u,o)&&null===MI(u)&&pw(u,o.index)}}function Lv(s){return!(64&s.type)}function fw(s,o){return Lv(o)||s.index>o.index}function MI(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function pw(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(Gb(mh,up),s.insertBeforeIndex=o)}function _h(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function RI(s,o,a){const u=kf(s,a,64,null,null);return Fv(o,u),u}function iu(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Vv(s){return s>>>17}function gw(s){return(131070&s)>>>1}let yh=0,Ja=0;function vh(s,o,a,u){const h=a[11];let _,p=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const S=o[++D];null===a[S]&&(a[S]=Ud(h,E))}else if("number"==typeof E)switch(1&E){case 0:const S=Vv(E);let N,P;if(null===p&&(p=S,_=If(h,u)),S===p?(N=u,P=_):(N=null,P=ln(a[S])),null!==P){const Fe=gw(E);_s(h,P,a[Fe],N,!1);const it=_h(s,Fe);if(null!==it&&"object"==typeof it){const fe=iu(it,a);null!==fe&&vh(s,it.create[fe],a,a[it.anchorIdx])}}break;case 1:const Z=o[++D],ve=o[++D];oi(h,_o(E>>>1,a),null,null,Z,ve,null)}else switch(E){case Nm:const S=o[++D],N=o[++D];null===a[N]&&Gr(a[N]=wf(h,S),a);break;case ru:const P=o[++D],U=o[++D];null===a[U]&&Gr(a[U]=Gd(h,P,null),a)}}}function jv(s,o,a,u,h){for(let p=0;p<a.length;p++){const _=a[p],D=a[++p];if(_&h){let E="";for(let S=p+1;S<=p+D;S++){const N=a[S];if("string"==typeof N)E+=N;else if("number"==typeof N)if(N<0)E+=pe(o[u-N]);else{const P=N>>>2;switch(3&N){case 1:const U=a[++S],Z=a[++S],ve=s.data[P];"string"==typeof ve?oi(o[11],o[P],null,ve,U,E,Z):ys(s,ve,o,U,E,o[11],Z,!1);break;case 0:const Fe=o[P];null!==Fe&&jd(o[11],Fe,E);break;case 2:_w(s,_h(s,P),o,E);break;case 3:Gv(s,_h(s,P),u,o)}}}}else{const E=a[p+1];if(E>0&&3==(3&E)){const N=_h(s,E>>>2);o[N.currentCaseLViewIndex]<0&&Gv(s,N,u,o)}}p+=D}}function Gv(s,o,a,u){let h=u[o.currentCaseLViewIndex];if(null!==h){let p=yh;h<0&&(h=u[o.currentCaseLViewIndex]=~h,p=-1),jv(s,u,o.update[h],a,p)}}function _w(s,o,a,u){const h=function kI(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function ao(s,o){const a=ap(o)(parseInt(s,10)),u=NI[a];return void 0!==u?u:"other"}(o,function lp(){return hw}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(iu(o,a)!==h&&(yw(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const _=a[o.anchorIdx];_&&vh(s,o.create[h],a,_)}}function yw(s,o,a){let u=iu(o,a);if(null!==u){const h=o.remove[u];for(let p=0;p<h.length;p++){const _=h[p];if(_>0){const D=_o(_,a);null!==D&&gy(a[11],D)}else yw(s,_h(s,~_),a)}}}function cp(){const s=[];let a,u,o=-1;function p(D,E){o=0;const S=iu(D,E);u=null!==S?D.remove[S]:dt}function _(){if(o<u.length){const D=u[o++];return D>0?a[D]:(s.push(o,u),p(a[1].data[~D],a),_())}return 0===s.length?null:(u=s.pop(),o=s.pop(),_())}return function h(D,E){for(a=E;s.length;)s.pop();return p(D.value,E),_}}const Om=/\ufffd(\d+):?\d*\ufffd/gi,LI=/\ufffd(\d+)\ufffd/,Dw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,bh=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,VI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,BI=/\uE500/g;function Pr(s,o,a,u,h,p,_){const D=dc(s,u,1,null);let E=D<<Xn.SHIFT,S=Zo();o===S&&(S=null),null===S&&(E|=Xn.APPEND_EAGERLY),_&&(E|=Xn.COMMENT,function vt(s){void 0===Ue&&(Ue=s())}(cp)),h.push(E,null===p?"":p);const N=kf(s,D,_?32:1,null===p?"":p,null);Fv(a,N);const P=N.index;return ti(N,!1),null!==S&&o!==S&&function xI(s,o){let a=s.insertBeforeIndex;null===a?(Gb(mh,up),a=s.insertBeforeIndex=[null,o]):(function z(s,o,a){s!=o&&_t(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(S,P),N}function jI(s,o,a,u,h,p,_){const D=_.match(Om),E=Pr(s,o,a,p,u,D?null:_,!1);D&&Ci(h,_,E.index,null,0,null)}function Ci(s,o,a,u,h,p){const _=s.length,D=_+1;s.push(null,null);const E=_+2,S=o.split(Om);let N=0;for(let P=0;P<S.length;P++){const U=S[P];if(1&P){const Z=h+parseInt(U,10);s.push(-1-Z),N|=dp(Z)}else""!==U&&s.push(U)}return s.push(a<<2|(u?1:0)),u&&s.push(u,p),s[_]=N,s[D]=s.length-E,N}function dp(s){return 1<<Math.min(s,31)}function Tw(s){let o,p,a="",u=0,h=!1;for(;null!==(o=bh.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(u=o.index,h=!1):(a+=s.substring(u,o.index+o[0].length),p=o[1],h=!0);return a+=s.substr(u),a}function Sw(s,o,a,u,h,p){let _=0;const D={type:h.type,currentCaseLViewIndex:dc(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function zI(s,o,a){s.push(dp(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function OI(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,p,D);const E=h.values;for(let S=0;S<E.length;S++){const N=E[S],P=[];for(let U=0;U<N.length;U++){const Z=N[U];if("string"!=typeof Z){const ve=P.push(Z)-1;N[U]=`\x3c!--\ufffd${ve}\ufffd--\x3e`}}_=$I(s,D,o,a,u,h.cases[S],N.join(""),P)|_}_&&function qI(s,o,a){s.push(o,1,a<<2|3)}(a,_,p)}function HI(s){const o=[],a=[];let u=1,h=0;const p=$v(s=s.replace(Dw,function(_,D,E){return u="select"===E?0:1,h=parseInt(D.substr(1),10),""}));for(let _=0;_<p.length;){let D=p[_++].trim();1===u&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=$v(p[_++]);o.length>a.length&&a.push(E)}return{type:u,mainBinding:h,cases:o,values:a}}function $v(s){if(!s)return[];let o=0;const a=[],u=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=s.substring(o,D);Dw.test(E)?u.push(HI(E)):u.push(E),o=D+1}}else{if(0==a.length){const E=s.substring(o,D);u.push(E),o=D+1}a.push("{")}}const _=s.substring(o);return u.push(_),u}function $I(s,o,a,u,h,p,_,D){const E=[],S=[],N=[];o.cases.push(p),o.create.push(E),o.remove.push(S),o.update.push(N);const U=function bg(s){const o=new $_(s);return function W_(){try{return!!(new window.DOMParser).parseFromString(Pa(""),"text/html")}catch(s){return!1}}()?new H_(o):o}(Ta()).getInertBodyElement(_),Z=function uf(s){return"content"in s&&function cf(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(U)||U;return Z?Aw(s,o,a,u,E,S,N,Z,h,D,0):0}function Aw(s,o,a,u,h,p,_,D,E,S,N){let P=0,U=D.firstChild;for(;U;){const Z=dc(s,a,1,null);switch(U.nodeType){case Node.ELEMENT_NODE:const ve=U,Fe=ve.tagName.toLowerCase();if(nf.hasOwnProperty(Fe)){Wv(h,ru,Fe,E,Z),s.data[Z]=Fe;const gt=ve.attributes;for(let Yt=0;Yt<gt.length;Yt++){const Tt=gt.item(Yt),es=Tt.name.toLowerCase();Tt.value.match(Om)?ra.hasOwnProperty(es)&&Ci(_,Tt.value,Z,Tt.name,0,rf[es]?Ll:sf[es]?tf:null):ZI(h,Z,Tt)}P=Aw(s,o,a,u,h,p,_,U,Z,S,N+1)|P,Nw(p,Z,N)}break;case Node.TEXT_NODE:const He=U.textContent||"",it=He.match(Om);Wv(h,null,it?"":He,E,Z),Nw(p,Z,N),it&&(P=Ci(_,He,Z,null,0,null)|P);break;case Node.COMMENT_NODE:const fe=LI.exec(U.textContent||"");if(fe){const Yt=S[parseInt(fe[1],10)];Wv(h,Nm,"",E,Z),Sw(s,a,u,E,Yt,Z),WI(p,Z,N)}}U=U.nextSibling}return P}function Nw(s,o,a){0===a&&s.push(o)}function WI(s,o,a){0===a&&(s.push(~o),s.push(o))}function Wv(s,o,a,u,h){null!==o&&s.push(o),s.push(a,h,function Bv(s,o,a){return s|o<<17|a<<1}(0,u,h))}function ZI(s,o,a){s.push(o<<1|1,a.name,a.value)}function hp(s,o,a=-1){const u=Vt(),h=Ee(),p=20+s,_=ei(u.consts,o),D=Zo();u.firstCreatePass&&function ww(s,o,a,u,h,p){const _=Zo(),D=[],E=[],S=[[]];h=function GI(s,o){if(function Cw(s){return-1===s}(o))return Tw(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Tw(s.substring(a,u))}}(h,p);const N=function UI(s){return s.replace(BI," ")}(h).split(VI);for(let P=0;P<N.length;P++){let U=N[P];if(0==(1&P)){const Z=$v(U);for(let ve=0;ve<Z.length;ve++){let Fe=Z[ve];if(0==(1&ve)){const He=Fe;""!==He&&jI(s,_,S[0],D,E,a,He)}else{const He=Fe;if("object"!=typeof He)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Sw(s,a,E,o,He,Pr(s,_,S[0],a,D,"",!0).index)}}}else{const Z=47===U.charCodeAt(0),Fe=(U.charCodeAt(Z?1:0),20+Number.parseInt(U.substring(Z?2:1)));if(Z)S.shift(),ti(Zo(),!1);else{const He=RI(s,S[0],Fe);S.unshift([]),ti(He,!0)}}}s.data[u]={create:D,update:E}}(u,null===D?0:D.index,h,p,_,a);const E=u.data[p],N=G1(u,D===h[6]?null:D,h);(function mw(s,o,a,u){const h=s[11];for(let p=0;p<o.length;p++){const _=o[p++],D=o[p],E=(_&Xn.COMMENT)===Xn.COMMENT,S=(_&Xn.APPEND_EAGERLY)===Xn.APPEND_EAGERLY,N=_>>>Xn.SHIFT;let P=s[N];null===P&&(P=s[N]=E?h.createComment(D):Ud(h,D)),S&&null!==a&&_s(h,a,P,u,!1)}})(h,E.create,N,D&&8&D.type?h[D.index]:null),Tl(!0)}function Pw(s,o,a){hp(s,o,a),function lo(){Tl(!1)}()}function Qa(s){return function ha(s){s&&(yh|=1<<Math.min(Ja,31)),Ja++}(Ei(Ee(),$s(),s)),Qa}function Fw(s){!function Uv(s,o,a){if(Ja>0){const u=s.data[a];jv(s,o,Array.isArray(u)?u:u.update,function gi(){return ft.lFrame.bindingIndex}()-Ja-1,yh)}yh=0,Ja=0}(Vt(),Ee(),s+20)}function pp(s,o,a,u,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)pp(s[p],o,a,u,h);else{const p=Vt(),_=Ee();let D=Xd(s)?s:Q(s.provide),E=DD(s);const S=yn(),N=1048575&S.providerIndexes,P=S.directiveStart,U=S.providerIndexes>>20;if(Xd(s)||!s.multi){const Z=new Ko(E,h,Qf),ve=gp(D,o,h?N:N+U,P);-1===ve?(Zs(gn(S,_),p,D),xm(p,s,o.length),o.push(D),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(Z),_.push(Z)):(a[ve]=Z,_[ve]=Z)}else{const Z=gp(D,o,N+U,P),ve=gp(D,o,N,N+U),Fe=Z>=0&&a[Z],He=ve>=0&&a[ve];if(h&&!He||!h&&!Fe){Zs(gn(S,_),p,D);const it=function Vw(s,o,a,u,h){const p=new Ko(s,a,Qf);return p.multi=[],p.index=o,p.componentProviders=0,Fr(p,h,u&&!a),p}(h?qv:zv,a.length,h,u,E);!h&&He&&(a[ve].providerFactory=it),xm(p,s,o.length,0),o.push(D),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(it),_.push(it)}else xm(p,s,Z>-1?Z:ve,Fr(a[h?ve:Z],E,!h&&u));!h&&u&&He&&a[ve].componentProviders++}}}function xm(s,o,a,u){const h=Xd(o),p=function lI(s){return!!s.useClass}(o);if(h||p){const E=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=S.indexOf(a);-1===N?S.push(a,[u,E]):S[N+1].push(u,E)}else S.push(a,E)}}}function Fr(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function gp(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function zv(s,o,a,u){return pa(this.multi,[])}function qv(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,D=Ri(a,a[1],this.providerFactory.index,u);p=D.slice(0,_),pa(h,p);for(let E=_;E<D.length;E++)p.push(D[E])}else p=[],pa(h,p);return p}function pa(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Bw(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Lw(s,o,a){const u=Vt();if(u.firstCreatePass){const h=Qr(s);pp(a,u.data,u.blueprint,h,!0),pp(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class mp{}class yp{resolveComponentFactory(o){throw function Bc(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let vp=(()=>{class s{}return s.NULL=new yp,s})();function Zv(){return ou(yn(),Ee())}function ou(s,o){return new Dh(wr(s,o))}let Dh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Zv,s})();function QI(s){return s instanceof Dh?s.nativeElement:s}class Kv{}let Yv=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function wh(){const s=Ee(),a=Er(yn().index,s);return function bp(s){return s[11]}(Ni(a)?a:s)}(),s})(),eC=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Jv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const jw=new Jv("13.2.7"),Qv={};function Rm(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(ln(p)),fi(p))for(let D=10;D<p.length;D++){const E=p[D],S=E[1].firstChild;null!==S&&Rm(E[1],E,S,u)}const _=a.type;if(8&_)Rm(s,o,a.child,u);else if(32&_){const D=tt(a,o);let E;for(;E=D();)u.push(E)}else if(16&_){const D=Hb(o,a);if(Array.isArray(D))u.push(...D);else{const E=An(o[16]);Rm(E[1],E,D,u,!0)}}a=h?a.projectionNext:a.next}return u}class au{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Rm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fi(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(ly(o,u),gs(a,u))}this._attachedToViewContainer=!1}uy(this._lView[1],this._lView)}onDestroy(o){Wg(this._lView[1],this._lView,null,o)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$y(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Qg(s,o,a){Hs(!0);try{$y(s,o,a)}finally{Hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mg(s,o){Rg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class lu extends au{constructor(o){super(o),this._view=o}detectChanges(){Jg(this._view)}checkNoChanges(){!function Wy(s){Hs(!0);try{Jg(s)}finally{Hs(!1)}}(this._view)}get context(){return null}}class uu extends vp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Wt(o);return new Dp(a,this.ngModule)}}function Xv(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Dp extends mp{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Af(s){return s.map(vy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Xv(this.componentDef.inputs)}get outputs(){return Xv(this.componentDef.outputs)}create(o,a,u,h){const p=(h=h||this.ngModule)?function nC(s,o){return{get:(a,u,h)=>{const p=s.get(a,Qv,h);return p!==Qv||u===Qv?p:o.get(a,u,h)}}}(o,h.injector):o,_=p.get(Kv,zo),D=p.get(eC,null),E=_.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=u?function aD(s,o,a){if(pn(s))return s.selectRootElement(o,a===$t.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Gd(_.createRenderer(null,this.componentDef),S,function tC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),P=this.componentDef.onPush?576:528,U=function sr(s,o){return{components:[],scheduler:s||ry,clean:yD,playerHandler:o||null,flags:0}}(),Z=$g(0,null,null,1,0,null,null,null,null,null),ve=Wd(null,Z,U,P,null,null,_,E,D,p);let Fe,He;yo(ve);try{const it=function th(s,o,a,u,h,p){const _=a[1];a[20]=s;const E=cc(_,20,2,"#host",null),S=E.mergedAttrs=o.hostAttrs;null!==S&&(Jd(E,S,!0),null!==s&&(pt(h,s,S),null!==E.classes&&Cf(h,s,E.classes),null!==E.styles&&ii(h,s,E.styles)));const N=u.createRenderer(s,o),P=Wd(a,Hg(o),null,o.onPush?64:16,a[20],E,u,N,p||null,null);return _.firstCreatePass&&(Zs(gn(E,a),_,o.type),fD(_,E),Ff(E,a.length,1)),qd(a,P),a[20]=P}(N,this.componentDef,ve,_,E);if(N)if(u)pt(E,N,["ng-version",jw.full]);else{const{attrs:fe,classes:gt}=function z1(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!Hr(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);fe&&pt(E,N,fe),gt&&gt.length>0&&Cf(E,N,gt.join(" "))}if(He=Sa(Z,20),void 0!==a){const fe=He.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Yt=a[gt];fe.push(null!=Yt?Array.from(Yt):null)}}Fe=function MD(s,o,a,u,h){const p=a[1],_=function hD(s,o,a){const u=yn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Vy(s,u,o,dc(s,o,1,null),a));const h=Ri(o,s,u.directiveStart,u);Gr(h,o);const p=wr(u,o);return p&&Gr(p,o),h}(p,a,o);if(u.components.push(_),s[8]=_,h&&h.forEach(E=>E(_,o)),o.contentQueries){const E=yn();o.contentQueries(1,_,E.directiveStart)}const D=yn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zs(D.index),Ly(a[1],D,0,D.directiveStart,D.directiveEnd,o),hc(o,_)),_}(it,this.componentDef,ve,U,[OD]),Pf(Z,ve,null)}finally{bo()}return new Gw(this.componentType,Fe,ou(He,ve),ve,He)}}class Gw extends class Uw{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new lu(h),this.componentType=o}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Xa{}class Ep{}const Uc=new Map;class Gc extends Xa{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uu(this);const u=dn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=zf(o,a,[{provide:Xa,useValue:this},{provide:vp,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=qr.THROW_IF_NOT_FOUND,u=ct.Default){return o===qr||o===Xa||o===Gf?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Fm extends Ep{constructor(o){super(),this.moduleType=o,null!==dn(o)&&function Pm(s){const o=new Set;!function a(u){const h=dn(u,!0),p=h.id;null!==p&&(function e0(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(p,Uc.get(p),u),Uc.set(p,u));const _=g(h.imports);for(const D of _)o.has(D)||(o.add(D),a(D))}(s)}(o)}create(o){return new Gc(this.moduleType,o)}}function $w(s,o,a,u){return function zw(s,o,a,u,h,p){const _=o+a;return Ei(s,_,h)?io(s,_+1,p?u.call(p,h):u(h)):Ip(s,_+1)}(Ee(),dr(),s,o,a,u)}function $c(s,o,a,u,h){return function Cp(s,o,a,u,h,p,_){const D=o+a;return Zl(s,D,h,p)?io(s,D+2,_?u.call(_,h,p):u(h,p)):Ip(s,D+2)}(Ee(),dr(),s,o,a,u,h)}function n0(s,o,a,u,h,p){return function s0(s,o,a,u,h,p,_,D){const E=o+a;return function Kl(s,o,a,u,h){const p=Zl(s,o,a,u);return Ei(s,o+2,h)||p}(s,E,h,p,_)?io(s,E+3,D?u.call(D,h,p,_):u(h,p,_)):Ip(s,E+3)}(Ee(),dr(),s,o,a,u,h,p)}function Ip(s,o){const a=s[o];return a===At?void 0:a}function Zc(s){return o=>{setTimeout(s,void 0,o)}}const Es=class o0 extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,p,_;let D=o,E=a||(()=>null),S=u;if(o&&"object"==typeof o){const P=o;D=null===(h=P.next)||void 0===h?void 0:h.bind(P),E=null===(p=P.error)||void 0===p?void 0:p.bind(P),S=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(E=Zc(E),D&&(D=Zc(D)),S&&(S=Zc(S)));const N=super.subscribe({next:D,error:E,complete:S});return o instanceof Y.w0&&o.add(N),N}};function a0(){return this._results[zl()]()}class l0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=zl(),u=l0.prototype;u[a]||(u[a]=a0)}get changes(){return this._changes||(this._changes=new Es)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Sr(o);(this._changesDetected=!function ju(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Kc=(()=>{class s{}return s.__NG_ELEMENT_ID__=eE,s})();const Xw=Kc,oC=class extends Xw{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Wd(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Pf(a,u,o),new au(u)}};function eE(){return Sp(yn(),Ee())}function Sp(s,o){return 4&s.type?new oC(o,s,ou(s,o)):null}let Eh=(()=>{class s{}return s.__NG_ELEMENT_ID__=aC,s})();function aC(){return Yc(yn(),Ee())}const tE=Eh,nE=class extends tE{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const o=mi(this._hostTNode,this._hostLView);if(wd(o)){const a=xi(o,this._hostLView),u=fn(o);return new ki(a[1].data[u+8],a)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=u0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,p){const _=o&&!function Qo(s){return"function"==typeof s}(o);let D;if(_)D=a;else{const P=a||{};D=P.index,u=P.injector,h=P.projectableNodes,p=P.ngModuleRef}const E=_?o:new Dp(Wt(o)),S=u||this.parentInjector;if(!p&&null==E.ngModule){const U=(_?S:this.parentInjector).get(Xa,null);U&&(p=U)}const N=E.create(S,h,void 0,p);return this.insert(N.hostView,D),N}insert(o,a){const u=o._lView,h=u[1];if(function vl(s){return fi(s[3])}(u)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=u[3],U=new nE(P,P[6],P[3]);U.detach(U.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function ay(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],Gu(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function Hd(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=128}(h,u,_,p);const D=py(p,_),E=u[11],S=If(E,_[7]);return null!==S&&function Ef(s,o,a,u,h,p){u[0]=h,u[6]=o,Rg(s,u,a,1,h,p)}(h,_[6],E,u,S,D),o.attachToViewContainerRef(),Gu(c0(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=u0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=ly(this._lContainer,a);u&&(gs(c0(this._lContainer),a),uy(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=ly(this._lContainer,a);return u&&null!=gs(c0(this._lContainer),a)?new au(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function u0(s){return s[8]}function c0(s){return s[8]||(s[8]=[])}function Yc(s,o){let a;const u=o[s.index];if(fi(u))a=u;else{let h;if(8&s.type)h=ln(u);else{const p=o[11];h=p.createComment("");const _=wr(s,o);_s(p,If(p,_),h,function $1(s,o){return pn(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=a=Uy(u,o,h,s),qd(o,a)}return new nE(a,s,o)}class Lm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Vm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==m0(o,a).matches&&this.queries[a].setDirty()}}class f0{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class p0{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new p0(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ap{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Ap(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,lC(a,p)),this.matchTNodeWithReadOption(o,a,yi(a,o,p,!1,!1))}else u===Kc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,yi(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Dh||h===Eh||h===Kc&&4&a.type)this.addMatch(a.index,-2);else{const p=yi(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function lC(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function uC(s,o,a,u){return-1===a?function g0(s,o){return 11&s.type?ou(s,o):4&s.type?Sp(s,o):null}(o,s):-2===a?function cC(s,o,a){return a===Dh?ou(o,s):a===Kc?Sp(o,s):a===Eh?Yc(o,s):void 0}(s,o,u):Ri(s,s[1],a,o)}function Bm(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,_=a.matches,D=[];for(let E=0;E<_.length;E+=2){const S=_[E];D.push(S<0?null:uC(o,p[S],_[E+1],a.metadata.read))}h.matches=D}return h.matches}function _r(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=Bm(s,o,h,a);for(let D=0;D<p.length;D+=2){const E=p[D];if(E>0)u.push(_[D/2]);else{const S=p[D+1],N=o[-E];for(let P=10;P<N.length;P++){const U=N[P];U[17]===U[3]&&_r(U[1],U,S,u)}if(null!==N[9]){const P=N[9];for(let U=0;U<P.length;U++){const Z=P[U];_r(Z[1],Z,S,u)}}}}}return u}function rE(s){const o=Ee(),a=Vt(),u=Nu();Mu(u+1);const h=m0(a,u);if(s.dirty&&Us(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?_r(a,o,u,[]):Bm(a,o,h,u);s.reset(p,QI),s.notifyOnChanges()}return!0}return!1}function iE(s,o,a){const u=Vt();u.firstCreatePass&&(Um(u,new f0(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),aE(u,Ee(),o)}function sE(s,o,a,u){const h=Vt();if(h.firstCreatePass){const p=yn();Um(h,new f0(o,a,u),p.index),function lE(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}aE(h,Ee(),a)}function oE(){return function dC(s,o){return s[19].queries[o].queryList}(Ee(),Nu())}function aE(s,o,a){const u=new l0(4==(4&a));Wg(s,o,u,u.destroy),null===o[19]&&(o[19]=new Vm),o[19].queries.push(new Lm(u))}function Um(s,o,a){null===s.queries&&(s.queries=new p0),s.queries.track(new Ap(o,a))}function m0(s,o){return s.queries.getByIndex(o)}function jm(s,o){return Sp(s,o)}function Nh(...s){}const Km=new Tn("Application Initializer");let Ym=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Nh,this.reject=Nh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Wa(p))a.push(p);else if(hv(p)){const _=new Promise((D,E)=>{p.subscribe({complete:D,error:E})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Qe(Km,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Jm=new Tn("AppId",{providedIn:"root",factory:function Qm(){return`${hu()}${hu()}${hu()}`}});function hu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tl=new Tn("Platform Initializer"),Xm=new Tn("Platform ID"),Qc=new Tn("appBootstrapListener");let S0=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const A0=new Tn("LocaleId",{providedIn:"root",factory:()=>Rt(A0,ct.Optional|ct.SkipSelf)||function Mh(){return"undefined"!=typeof $localize&&$localize.locale||Am}()}),yC=new Tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class N0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let vC=(()=>{class s{compileModuleSync(a){return new Fm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(dn(a).declarations).reduce((_,D)=>{const E=Wt(D);return E&&_.push(new Dp(E)),_},[]);return new N0(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const M0=(()=>Promise.resolve(0))();function O0(s){"undefined"==typeof Zone?M0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Vo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function SE(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ME(s){const o=()=>{!function NE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,x0(s),s.isCheckStableRunning=!0,e_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),x0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,_,D)=>{try{return OE(s),a.invokeTask(h,p,_,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),xE(s)}},onInvoke:(a,u,h,p,_,D,E)=>{try{return OE(s),a.invoke(h,p,_,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),xE(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,x0(s),e_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,AE,Nh,Nh);try{return p.runTask(_,a,u)}finally{p.cancelTask(_)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const AE={};function e_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function x0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function OE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xE(s){s._nesting--,e_(s)}class DC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let t_=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),O0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())O0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Qe(Vo))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),n_=(()=>{class s{constructor(){this._applications=new Map,kp.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return kp.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class R0{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function wC(s){kp=s}let Bo,kp=new R0;const F0=new Tn("AllowMultipleToken");class IC{constructor(o,a){this.name=o,this.token=a}}function RE(s,o,a=[]){const u=`Platform: ${o}`,h=new Tn(u);return(p=[])=>{let _=r_();if(!_||_.injector.get(F0,!1))if(s)s(a.concat(p).concat({provide:h,useValue:!0}));else{const D=a.concat(p).concat({provide:h,useValue:!0},{provide:em,useValue:"platform"});!function L0(s){if(Bo&&!Bo.destroyed&&!Bo.injector.get(F0,!1))throw new Re(400,"");Bo=s.get(kE);const o=s.get(tl,null);o&&o.forEach(a=>a())}(qr.create({providers:D,name:u}))}return function V0(s){const o=r_();if(!o)throw new Re(401,"");return o}()}}function r_(){return Bo&&!Bo.destroyed?Bo:null}let kE=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const D=function B0(s,o){let a;return a="noop"===s?new DC:("zone.js"===s?void 0:s)||new Vo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Vo,useValue:D}];return D.run(()=>{const S=qr.create({providers:E,parent:this.injector,name:a.moduleType.name}),N=a.create(S),P=N.injector.get(Nr,null);if(!P)throw new Re(402,"");return D.runOutsideAngular(()=>{const U=D.onError.subscribe({next:Z=>{P.handleError(Z)}});N.onDestroy(()=>{s_(this._modules,N),U.unsubscribe()})}),function U0(s,o,a){try{const u=a();return Wa(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,D,()=>{const U=N.injector.get(Ym);return U.runInitializers(),U.donePromise.then(()=>(function Mm(s){(function ut(s,o){null==s&&_t(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(hw=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(A0,Am)||Am),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,u=[]){const h=i_({},u);return function k0(s,o,a){const u=new Fm(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(fu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Re(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Qe(qr))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function i_(s,o){return Array.isArray(o)?o.reduce(i_,s):Object.assign(Object.assign({},s),o)}let fu=(()=>{class s{constructor(a,u,h,p,_){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new k.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),O0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,oe.T)(D,E.pipe((0,X.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Re(405,"");let h;h=a instanceof mp?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function P0(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Xa),D=h.create(qr.NULL,[],u||h.selector,p),E=D.location.nativeElement,S=D.injector.get(t_,null),N=S&&D.injector.get(n_);return S&&N&&N.registerApplication(E,S),D.onDestroy(()=>{this.detachView(D.hostView),s_(this.components,D),N&&N.unregisterApplication(E)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;s_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Qc,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Qe(Vo),Qe(qr),Qe(Nr),Qe(vp),Qe(Ym))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function s_(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let a_=!0,ma=!1;function j0(){return ma=!0,a_}function TC(){if(ma)throw new Error("Cannot enable prod mode after platform setup.");a_=!1}let G0=(()=>{class s{}return s.__NG_ELEMENT_ID__=SC,s})();function SC(s){return function H0(s,o,a){if(Ps(s)&&!a){const u=Er(s.index,o);return new au(u,u)}return 47&s.type?new au(o[16],o):null}(yn(),Ee(),16==(16&s))}class UE{constructor(){}supports(o){return nh(o)}create(o){return new kC(o)}}const RC=(s,o)=>o;class kC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||RC}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const _=!u||a&&a.currentIndex<f_(u,h,p)?a:u,D=f_(_,h,p),E=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const S=D-h,N=E-h;if(S!=N){for(let U=0;U<S;U++){const Z=U<p.length?p[U]:p[U]=0,ve=Z+U;N<=ve&&ve<S&&(p[U]=Z+1)}p[_.previousIndex]=N-S}}D!==E&&o(_,D,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!nh(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],_=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,p,_,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,D),u=!0),a=a._next}else h=0,function lm(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[zl()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,D=>{_=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,D,_,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,_,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new jE(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jE{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class z0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class q0{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new z0,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f_(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class p_{constructor(){}supports(o){return o instanceof Map||um(o)}create(){return new Z0}}class Z0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||um(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const u=new g_(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class g_{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m_(){return new __([new UE])}let __=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||m_()),deps:[[s,new To,new Di]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Re(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:m_}),s})();function K0(){return new Vp([new p_])}let Vp=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||K0()),deps:[[s,new To,new Di]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Re(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:K0}),s})();const HE=RE(null,"core",[{provide:Xm,useValue:"unknown"},{provide:kE,deps:[qr]},{provide:n_,deps:[]},{provide:S0,deps:[]}]);let PC=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Qe(fu))},s.\u0275mod=J({type:s}),s.\u0275inj=Xt({}),s})()},3942:(at,Ie,R)=>{R.d(Ie,{Z:()=>Re});var c=R(2090),Y=R(4859),k=R(9681),oe=R(1877);class X{constructor(pe,we){this._delegate=pe,this.firebase=we,(0,k._addComponent)(pe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(pe,we=k._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(pe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(nt=Ze.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:we})}_removeServiceInstance(pe,we=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(we)}_addComponent(pe){(0,k._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,k._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ce(){const Ve=function he(Ve){const pe={},we={__esModule:!0,initializeApp:function Ce(Ge,te={}){const z=k.initializeApp(Ge,te);if((0,c.r3)(pe,z.name))return pe[z.name];const ne=new Ve(z,we);return pe[z.name]=ne,ne},app:Ze,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function De(Ge){const te=Ge.name,z=te.replace("-compat","");if(k._registerComponent(Ge)&&"PUBLIC"===Ge.type){const ne=(_e=Ze())=>{if("function"!=typeof _e[z])throw re.create("invalid-app-argument",{appName:te});return _e[z]()};void 0!==Ge.serviceProps&&(0,c.ZB)(ne,Ge.serviceProps),we[z]=ne,Ve.prototype[z]=function(..._e){return this._getService.bind(this,te).apply(this,Ge.multipleInstances?_e:[])}}return"PUBLIC"===Ge.type?we[z]:null},removeApp:function nt(Ge){delete pe[Ge]},useAsService:function We(Ge,te){return"serverAuth"===te?null:te},modularAPIs:k}};function Ze(Ge){if(!(0,c.r3)(pe,Ge=Ge||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ge});return pe[Ge]}return we.default=we,Object.defineProperty(we,"apps",{get:function be(){return Object.keys(pe).map(Ge=>pe[Ge])}}),Ze.App=Ve,we}(X);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function pe(we){(0,c.ZB)(Ve,we)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ve}(),H=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=G;!function Se(Ve){(0,k.registerVersion)("@firebase/app-compat","0.1.21",Ve)}()},9681:(at,Ie,R)=>{R.r(Ie),R.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>Ai,_apps:()=>_t,_clearComponents:()=>Ht,_components:()=>un,_getProvider:()=>ns,_registerComponent:()=>sn,_removeServiceInstance:()=>Xt,deleteApp:()=>is,getApp:()=>Vr,getApps:()=>rs,initializeApp:()=>ji,onLog:()=>tr,registerVersion:()=>Jr,setLogLevel:()=>Wn});var c=R(5861),Y=R(4859),k=R(1877),oe=R(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function me(Ke){const Te=Ke.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const ht=et.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",ce=new k.Yd("@firebase/app"),Mn="[DEFAULT]",ut={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,un=new Map;function cn(Ke,Te){try{Ke.container.addComponent(Te)}catch(et){ce.debug(`Component ${Te.name} failed to register with FirebaseApp ${Ke.name}`,et)}}function Ai(Ke,Te){Ke.container.addOrOverwriteComponent(Te)}function sn(Ke){const Te=Ke.name;if(un.has(Te))return ce.debug(`There were multiple attempts to register component ${Te}.`),!1;un.set(Te,Ke);for(const et of _t.values())cn(et,Ke);return!0}function ns(Ke,Te){const et=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Ke.container.getProvider(Te)}function Xt(Ke,Te,et=Mn){ns(Ke,Te).clearInstance(et)}function Ht(){un.clear()}const ci=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ms{constructor(Te,et,ht){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const Lr="9.6.10";function ji(Ke,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Te),ht=et.name;if("string"!=typeof ht||!ht)throw ci.create("bad-app-name",{appName:String(ht)});const jt=_t.get(ht);if(jt){if((0,oe.vZ)(Ke,jt.options)&&(0,oe.vZ)(et,jt.config))return jt;throw ci.create("duplicate-app",{appName:ht})}const Lt=new Y.H0(ht);for(const V of un.values())Lt.addComponent(V);const j=new Ms(Ke,et,Lt);return _t.set(ht,j),j}function Vr(Ke=Mn){const Te=_t.get(Ke);if(!Te)throw ci.create("no-app",{appName:Ke});return Te}function rs(){return Array.from(_t.values())}function is(Ke){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(Ke){const Te=Ke.name;_t.has(Te)&&(_t.delete(Te),yield Promise.all(Ke.container.getProviders().map(et=>et.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function Jr(Ke,Te,et){var ht;let jt=null!==(ht=ut[Ke])&&void 0!==ht?ht:Ke;et&&(jt+=`-${et}`);const Lt=jt.match(/\s|\//),j=Te.match(/\s|\//);if(Lt||j){const V=[`Unable to register library "${jt}" with version "${Te}":`];return Lt&&V.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Lt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ce.warn(V.join(" "))}sn(new Y.wA(`${jt}-version`,()=>({library:jt,version:Te}),"VERSION"))}function tr(Ke,Te){if(null!==Ke&&"function"!=typeof Ke)throw ci.create("invalid-log-argument");(0,k.Am)(Ke,Te)}function Wn(Ke){(0,k.Ub)(Ke)}const _n="firebase-heartbeat-store";let nr=null;function Os(){return nr||(nr=(0,oe.X3)("firebase-heartbeat-database",1,(Ke,Te)=>{0===Te&&Ke.createObjectStore(_n)}).catch(Ke=>{throw ci.create("storage-open",{originalErrorMessage:Ke.message})})),nr}function $t(){return($t=(0,c.Z)(function*(Ke){try{return(yield Os()).transaction(_n).objectStore(_n).get(ar(Ke))}catch(Te){throw ci.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ot(Ke,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(Ke,Te){try{const ht=(yield Os()).transaction(_n,"readwrite");return yield ht.objectStore(_n).put(Te,ar(Ke)),ht.complete}catch(et){throw ci.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function ar(Ke){return`${Ke.name}!${Ke.options.appId}`}class co{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new dt(et),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Te=this;return(0,c.Z)(function*(){const ht=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=yr();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Te._heartbeatsCache.heartbeats.some(Lt=>Lt.date===jt))return Te._heartbeatsCache.heartbeats.push({date:jt,agent:ht}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Lt=>{const j=new Date(Lt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,c.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=yr(),{heartbeatsToSend:ht,unsentEntries:jt}=function lr(Ke,Te=1024){const et=[];let ht=Ke.slice();for(const jt of Ke){const Lt=et.find(j=>j.agent===jt.agent);if(Lt){if(Lt.dates.push(jt.date),vr(et)>Te){Lt.dates.pop();break}}else if(et.push({agent:jt.agent,dates:[jt.date]}),vr(et)>Te){et.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:et,unsentEntries:ht}}(Te._heartbeatsCache.heartbeats),Lt=(0,oe.L)(JSON.stringify({version:2,heartbeats:ht}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,jt.length>0?(Te._heartbeatsCache.heartbeats=jt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Lt})()}}function yr(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,c.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Da(Ke){return $t.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,c.Z)(function*(){var ht;if(yield et._canUseIndexedDBPromise){const Lt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(ht=Te.lastSentHeartbeatDate)&&void 0!==ht?ht:Lt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,c.Z)(function*(){var ht;if(yield et._canUseIndexedDBPromise){const Lt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(ht=Te.lastSentHeartbeatDate)&&void 0!==ht?ht:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Te.heartbeats]})}})()}}function vr(Ke){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Ut(Ke){sn(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),sn(new Y.wA("heartbeat",Te=>new co(Te),"PRIVATE")),Jr(re,"0.7.20",Ke),Jr(re,"0.7.20","esm2017"),Jr("fire-js","")}("")},4859:(at,Ie,R)=>{R.d(Ie,{wA:()=>k,H0:()=>he});var c=R(5861),Y=R(2090);class k{constructor(G,H,Q){this.name=G,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const oe="[DEFAULT]";class X{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const Q=new Y.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&Q.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const Q=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),ze=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(ze)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function re(ce){return"EAGER"===ce.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:ze});Q.resolve(Se)}catch(Se){}}}}clearInstance(G=oe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=oe){return this.instances.has(G)}getOptions(G=oe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,Q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[Se,Re]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Se)&&Re.resolve(ze);return ze}onInit(G,H){var Q;const ze=this.normalizeInstanceIdentifier(H),Se=null!==(Q=this.onInitCallbacks.get(ze))&&void 0!==Q?Q:new Set;Se.add(G),this.onInitCallbacks.set(ze,Se);const Re=this.instances.get(ze);return Re&&G(Re,ze),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const ze of Q)try{ze(G,H)}catch(Se){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let Q=this.instances.get(G);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=G,ce===oe?void 0:ce),options:H}),this.instances.set(G,Q),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(Q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Q)}catch(ze){}var ce;return Q||null}normalizeInstanceIdentifier(G=oe){return this.component?this.component.multipleInstances?G:oe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new X(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Ie,R)=>{R.d(Ie,{in:()=>Y,Yd:()=>re,Ub:()=>he,Am:()=>ce});const c=[];var Y=(()=>{return(G=Y||(Y={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",Y;var G})();const k={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},oe=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},me=(G,H,...Q)=>{if(H<G.logLevel)return;const ze=(new Date).toISOString(),Se=X[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${ze}]  ${G.name}:`,...Q)};class re{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?k[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function he(G){c.forEach(H=>{H.setLogLevel(G)})}function ce(G,H){for(const Q of c){let ze=null;H&&H.level&&(ze=k[H.level]),Q.userLogHandler=null===G?null:(Se,Re,...Ve)=>{const pe=Ve.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(nt){return null}}).filter(we=>we).join(" ");Re>=(null!=ze?ze:Se.logLevel)&&G({level:Y[Re].toLowerCase(),message:pe,args:Ve,type:Se.name})}}}},5861:(at,Ie,R)=>{function c(k,oe,X,me,re,he,ce){try{var G=k[he](ce),H=G.value}catch(Q){return void X(Q)}G.done?oe(H):Promise.resolve(H).then(me,re)}function Y(k){return function(){var oe=this,X=arguments;return new Promise(function(me,re){var he=k.apply(oe,X);function ce(H){c(he,me,re,ce,G,"next",H)}function G(H){c(he,me,re,ce,G,"throw",H)}ce(void 0)})}}R.d(Ie,{Z:()=>Y})}},at=>{at(at.s=4332)}]);